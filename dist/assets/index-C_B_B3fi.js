var DD=Object.defineProperty;var hk=t=>{throw TypeError(t)};var PD=(t,e,n)=>e in t?DD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ee=(t,e,n)=>PD(t,typeof e!="symbol"?e+"":e,n),Vm=(t,e,n)=>e.has(t)||hk("Cannot "+n);var j=(t,e,n)=>(Vm(t,e,"read from private field"),n?n.call(t):e.get(t)),ge=(t,e,n)=>e.has(t)?hk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),re=(t,e,n,r)=>(Vm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ce=(t,e,n)=>(Vm(t,e,"access private method"),n);var _d=(t,e,n,r)=>({set _(i){re(t,e,i,n)},get _(){return j(t,e,r)}});function LD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function la(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var sT={exports:{}},Up={},oT={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od=Symbol.for("react.element"),$D=Symbol.for("react.portal"),zD=Symbol.for("react.fragment"),FD=Symbol.for("react.strict_mode"),BD=Symbol.for("react.profiler"),UD=Symbol.for("react.provider"),qD=Symbol.for("react.context"),HD=Symbol.for("react.forward_ref"),VD=Symbol.for("react.suspense"),WD=Symbol.for("react.memo"),KD=Symbol.for("react.lazy"),fk=Symbol.iterator;function GD(t){return t===null||typeof t!="object"?null:(t=fk&&t[fk]||t["@@iterator"],typeof t=="function"?t:null)}var aT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lT=Object.assign,cT={};function Ql(t,e,n){this.props=t,this.context=e,this.refs=cT,this.updater=n||aT}Ql.prototype.isReactComponent={};Ql.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ql.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uT(){}uT.prototype=Ql.prototype;function g0(t,e,n){this.props=t,this.context=e,this.refs=cT,this.updater=n||aT}var y0=g0.prototype=new uT;y0.constructor=g0;lT(y0,Ql.prototype);y0.isPureReactComponent=!0;var pk=Array.isArray,dT=Object.prototype.hasOwnProperty,b0={current:null},hT={key:!0,ref:!0,__self:!0,__source:!0};function fT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dT.call(e,r)&&!hT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:od,type:t,key:s,ref:o,props:i,_owner:b0.current}}function QD(t,e){return{$$typeof:od,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function x0(t){return typeof t=="object"&&t!==null&&t.$$typeof===od}function YD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mk=/\/+/g;function Wm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YD(""+t.key):e.toString(36)}function Rh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case od:case $D:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Wm(o,0):r,pk(i)?(n="",t!=null&&(n=t.replace(mk,"$&/")+"/"),Rh(i,e,n,"",function(c){return c})):i!=null&&(x0(i)&&(i=QD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mk,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",pk(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Wm(s,a);o+=Rh(s,e,n,l,i)}else if(l=GD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Wm(s,a++),o+=Rh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nd(t,e,n){if(t==null)return t;var r=[],i=0;return Rh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function JD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kn={current:null},Mh={transition:null},ZD={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:Mh,ReactCurrentOwner:b0};function pT(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Nd,forEach:function(t,e,n){Nd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nd(t,function(){e++}),e},toArray:function(t){return Nd(t,function(e){return e})||[]},only:function(t){if(!x0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Ql;je.Fragment=zD;je.Profiler=BD;je.PureComponent=g0;je.StrictMode=FD;je.Suspense=VD;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZD;je.act=pT;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=b0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dT.call(e,l)&&!hT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:od,type:t.type,key:i,ref:s,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:qD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UD,_context:t},t.Consumer=t};je.createElement=fT;je.createFactory=function(t){var e=fT.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:HD,render:t}};je.isValidElement=x0;je.lazy=function(t){return{$$typeof:KD,_payload:{_status:-1,_result:t},_init:JD}};je.memo=function(t,e){return{$$typeof:WD,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Mh.transition;Mh.transition={};try{t()}finally{Mh.transition=e}};je.unstable_act=pT;je.useCallback=function(t,e){return kn.current.useCallback(t,e)};je.useContext=function(t){return kn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return kn.current.useDeferredValue(t)};je.useEffect=function(t,e){return kn.current.useEffect(t,e)};je.useId=function(){return kn.current.useId()};je.useImperativeHandle=function(t,e,n){return kn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return kn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return kn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return kn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return kn.current.useReducer(t,e,n)};je.useRef=function(t){return kn.current.useRef(t)};je.useState=function(t){return kn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return kn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return kn.current.useTransition()};je.version="18.3.1";oT.exports=je;var O=oT.exports;const Ws=la(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD=O,eP=Symbol.for("react.element"),tP=Symbol.for("react.fragment"),nP=Object.prototype.hasOwnProperty,rP=XD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iP={key:!0,ref:!0,__self:!0,__source:!0};function mT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nP.call(e,r)&&!iP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eP,type:t,key:s,ref:o,props:i,_owner:rP.current}}Up.Fragment=tP;Up.jsx=mT;Up.jsxs=mT;sT.exports=Up;var h=sT.exports,gT={exports:{}},tr={},yT={exports:{}},bT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,M){var k=I.length;I.push(M);e:for(;0<k;){var L=k-1>>>1,U=I[L];if(0<i(U,M))I[L]=M,I[k]=U,k=L;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var M=I[0],k=I.pop();if(k!==M){I[0]=k;e:for(var L=0,U=I.length,_=U>>>1;L<_;){var W=2*(L+1)-1,pe=I[W],de=W+1,le=I[de];if(0>i(pe,k))de<U&&0>i(le,pe)?(I[L]=le,I[de]=k,L=de):(I[L]=pe,I[W]=k,L=W);else if(de<U&&0>i(le,k))I[L]=le,I[de]=k,L=de;else break e}}return M}function i(I,M){var k=I.sortIndex-M.sortIndex;return k!==0?k:I.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=I)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function w(I){if(y=!1,v(I),!m)if(n(l)!==null)m=!0,D(S);else{var M=n(c);M!==null&&P(w,M.startTime-I)}}function S(I,M){m=!1,y&&(y=!1,g(T),T=-1),p=!0;var k=f;try{for(v(M),d=n(l);d!==null&&(!(d.expirationTime>M)||I&&!z());){var L=d.callback;if(typeof L=="function"){d.callback=null,f=d.priorityLevel;var U=L(d.expirationTime<=M);M=t.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),v(M)}else r(l);d=n(l)}if(d!==null)var _=!0;else{var W=n(c);W!==null&&P(w,W.startTime-M),_=!1}return _}finally{d=null,f=k,p=!1}}var E=!1,C=null,T=-1,A=5,N=-1;function z(){return!(t.unstable_now()-N<A)}function F(){if(C!==null){var I=t.unstable_now();N=I;var M=!0;try{M=C(!0,I)}finally{M?q():(E=!1,C=null)}}else E=!1}var q;if(typeof x=="function")q=function(){x(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=F,q=function(){V.postMessage(null)}}else q=function(){b(F,0)};function D(I){C=I,E||(E=!0,q())}function P(I,M){T=b(function(){I(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(S))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var k=f;f=M;try{return I()}finally{f=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,M){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var k=f;f=I;try{return M()}finally{f=k}},t.unstable_scheduleCallback=function(I,M,k){var L=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?L+k:L):k=L,I){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=k+U,I={id:u++,callback:M,priorityLevel:I,startTime:k,expirationTime:U,sortIndex:-1},k>L?(I.sortIndex=k,e(c,I),n(l)===null&&I===n(c)&&(y?(g(T),T=-1):y=!0,P(w,k-L))):(I.sortIndex=U,e(l,I),m||p||(m=!0,D(S))),I},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(I){var M=f;return function(){var k=f;f=M;try{return I.apply(this,arguments)}finally{f=k}}}})(bT);yT.exports=bT;var sP=yT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oP=O,er=sP;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xT=new Set,fu={};function ca(t,e){kl(t,e),kl(t+"Capture",e)}function kl(t,e){for(fu[t]=e,t=0;t<e.length;t++)xT.add(e[t])}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dy=Object.prototype.hasOwnProperty,aP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gk={},yk={};function lP(t){return Dy.call(yk,t)?!0:Dy.call(gk,t)?!1:aP.test(t)?yk[t]=!0:(gk[t]=!0,!1)}function cP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uP(t,e,n,r){if(e===null||typeof e>"u"||cP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var v0=/[\-:]([a-z])/g;function w0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v0,w0);Xt[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v0,w0);Xt[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v0,w0);Xt[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function k0(t,e,n,r){var i=Xt.hasOwnProperty(e)?Xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uP(e,n,i,r)&&(n=null),r||i===null?lP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ki=oP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Td=Symbol.for("react.element"),$a=Symbol.for("react.portal"),za=Symbol.for("react.fragment"),E0=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),vT=Symbol.for("react.provider"),wT=Symbol.for("react.context"),S0=Symbol.for("react.forward_ref"),Ly=Symbol.for("react.suspense"),$y=Symbol.for("react.suspense_list"),_0=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),kT=Symbol.for("react.offscreen"),bk=Symbol.iterator;function cc(t){return t===null||typeof t!="object"?null:(t=bk&&t[bk]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Km;function Nc(t){if(Km===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Km=e&&e[1]||""}return`
`+Km+t}var Gm=!1;function Qm(t,e){if(!t||Gm)return"";Gm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nc(t):""}function dP(t){switch(t.tag){case 5:return Nc(t.type);case 16:return Nc("Lazy");case 13:return Nc("Suspense");case 19:return Nc("SuspenseList");case 0:case 2:case 15:return t=Qm(t.type,!1),t;case 11:return t=Qm(t.type.render,!1),t;case 1:return t=Qm(t.type,!0),t;default:return""}}function zy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case za:return"Fragment";case $a:return"Portal";case Py:return"Profiler";case E0:return"StrictMode";case Ly:return"Suspense";case $y:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wT:return(t.displayName||"Context")+".Consumer";case vT:return(t._context.displayName||"Context")+".Provider";case S0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _0:return e=t.displayName||null,e!==null?e:zy(t.type)||"Memo";case ss:e=t._payload,t=t._init;try{return zy(t(e))}catch{}}return null}function hP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zy(e);case 8:return e===E0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ET(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fP(t){var e=ET(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cd(t){t._valueTracker||(t._valueTracker=fP(t))}function ST(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ET(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fy(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _T(t,e){e=e.checked,e!=null&&k0(t,"checked",e,!1)}function By(t,e){_T(t,e);var n=Ks(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uy(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uy(t,e,n){(e!=="number"||rf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tc=Array.isArray;function Za(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ks(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Tc(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ks(n)}}function NT(t,e){var n=Ks(e.value),r=Ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function TT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?TT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ad,CT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ad=Ad||document.createElement("div"),Ad.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ad.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pP=["Webkit","ms","Moz","O"];Object.keys(Fc).forEach(function(t){pP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fc[e]=Fc[t]})});function AT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fc.hasOwnProperty(t)&&Fc[t]?(""+e).trim():e+"px"}function OT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mP=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vy(t,e){if(e){if(mP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Wy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ky=null;function N0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gy=null,Xa=null,el=null;function Ek(t){if(t=cd(t)){if(typeof Gy!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Kp(e),Gy(t.stateNode,t.type,e))}}function IT(t){Xa?el?el.push(t):el=[t]:Xa=t}function RT(){if(Xa){var t=Xa,e=el;if(el=Xa=null,Ek(t),e)for(t=0;t<e.length;t++)Ek(e[t])}}function MT(t,e){return t(e)}function jT(){}var Ym=!1;function DT(t,e,n){if(Ym)return t(e,n);Ym=!0;try{return MT(t,e,n)}finally{Ym=!1,(Xa!==null||el!==null)&&(jT(),RT())}}function mu(t,e){var n=t.stateNode;if(n===null)return null;var r=Kp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Qy=!1;if(Bi)try{var uc={};Object.defineProperty(uc,"passive",{get:function(){Qy=!0}}),window.addEventListener("test",uc,uc),window.removeEventListener("test",uc,uc)}catch{Qy=!1}function gP(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Bc=!1,sf=null,of=!1,Yy=null,yP={onError:function(t){Bc=!0,sf=t}};function bP(t,e,n,r,i,s,o,a,l){Bc=!1,sf=null,gP.apply(yP,arguments)}function xP(t,e,n,r,i,s,o,a,l){if(bP.apply(this,arguments),Bc){if(Bc){var c=sf;Bc=!1,sf=null}else throw Error(J(198));of||(of=!0,Yy=c)}}function ua(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sk(t){if(ua(t)!==t)throw Error(J(188))}function vP(t){var e=t.alternate;if(!e){if(e=ua(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Sk(i),t;if(s===r)return Sk(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function LT(t){return t=vP(t),t!==null?$T(t):null}function $T(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$T(t);if(e!==null)return e;t=t.sibling}return null}var zT=er.unstable_scheduleCallback,_k=er.unstable_cancelCallback,wP=er.unstable_shouldYield,kP=er.unstable_requestPaint,vt=er.unstable_now,EP=er.unstable_getCurrentPriorityLevel,T0=er.unstable_ImmediatePriority,FT=er.unstable_UserBlockingPriority,af=er.unstable_NormalPriority,SP=er.unstable_LowPriority,BT=er.unstable_IdlePriority,qp=null,ai=null;function _P(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(qp,t,void 0,(t.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:CP,NP=Math.log,TP=Math.LN2;function CP(t){return t>>>=0,t===0?32:31-(NP(t)/TP|0)|0}var Od=64,Id=4194304;function Cc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Cc(a):(s&=o,s!==0&&(r=Cc(s)))}else o=n&~i,o!==0?r=Cc(o):s!==0&&(r=Cc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$r(e),i=1<<n,r|=t[n],e&=~i;return r}function AP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$r(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=AP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Jy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UT(){var t=Od;return Od<<=1,!(Od&4194240)&&(Od=64),t}function Jm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ad(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$r(e),t[e]=n}function IP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$r(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function C0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function qT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HT,A0,VT,WT,KT,Zy=!1,Rd=[],Ms=null,js=null,Ds=null,gu=new Map,yu=new Map,ds=[],RP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nk(t,e){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":gu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(e.pointerId)}}function dc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cd(e),e!==null&&A0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MP(t,e,n,r,i){switch(e){case"focusin":return Ms=dc(Ms,t,e,n,r,i),!0;case"dragenter":return js=dc(js,t,e,n,r,i),!0;case"mouseover":return Ds=dc(Ds,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return gu.set(s,dc(gu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yu.set(s,dc(yu.get(s)||null,t,e,n,r,i)),!0}return!1}function GT(t){var e=wo(t.target);if(e!==null){var n=ua(e);if(n!==null){if(e=n.tag,e===13){if(e=PT(n),e!==null){t.blockedOn=e,KT(t.priority,function(){VT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ky=r,n.target.dispatchEvent(r),Ky=null}else return e=cd(n),e!==null&&A0(e),t.blockedOn=n,!1;e.shift()}return!0}function Tk(t,e,n){jh(t)&&n.delete(e)}function jP(){Zy=!1,Ms!==null&&jh(Ms)&&(Ms=null),js!==null&&jh(js)&&(js=null),Ds!==null&&jh(Ds)&&(Ds=null),gu.forEach(Tk),yu.forEach(Tk)}function hc(t,e){t.blockedOn===e&&(t.blockedOn=null,Zy||(Zy=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,jP)))}function bu(t){function e(i){return hc(i,t)}if(0<Rd.length){hc(Rd[0],t);for(var n=1;n<Rd.length;n++){var r=Rd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ms!==null&&hc(Ms,t),js!==null&&hc(js,t),Ds!==null&&hc(Ds,t),gu.forEach(e),yu.forEach(e),n=0;n<ds.length;n++)r=ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)GT(n),n.blockedOn===null&&ds.shift()}var tl=Ki.ReactCurrentBatchConfig,cf=!0;function DP(t,e,n,r){var i=We,s=tl.transition;tl.transition=null;try{We=1,O0(t,e,n,r)}finally{We=i,tl.transition=s}}function PP(t,e,n,r){var i=We,s=tl.transition;tl.transition=null;try{We=4,O0(t,e,n,r)}finally{We=i,tl.transition=s}}function O0(t,e,n,r){if(cf){var i=Xy(t,e,n,r);if(i===null)ag(t,e,r,uf,n),Nk(t,r);else if(MP(i,t,e,n,r))r.stopPropagation();else if(Nk(t,r),e&4&&-1<RP.indexOf(t)){for(;i!==null;){var s=cd(i);if(s!==null&&HT(s),s=Xy(t,e,n,r),s===null&&ag(t,e,r,uf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ag(t,e,r,null,n)}}var uf=null;function Xy(t,e,n,r){if(uf=null,t=N0(r),t=wo(t),t!==null)if(e=ua(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uf=t,null}function QT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EP()){case T0:return 1;case FT:return 4;case af:case SP:return 16;case BT:return 536870912;default:return 16}default:return 16}}var Ns=null,I0=null,Dh=null;function YT(){if(Dh)return Dh;var t,e=I0,n=e.length,r,i="value"in Ns?Ns.value:Ns.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Dh=i.slice(t,1<r?1-r:void 0)}function Ph(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Md(){return!0}function Ck(){return!1}function nr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Md:Ck,this.isPropagationStopped=Ck,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Md)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Md)},persist:function(){},isPersistent:Md}),e}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R0=nr(Yl),ld=ft({},Yl,{view:0,detail:0}),LP=nr(ld),Zm,Xm,fc,Hp=ft({},ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fc&&(fc&&t.type==="mousemove"?(Zm=t.screenX-fc.screenX,Xm=t.screenY-fc.screenY):Xm=Zm=0,fc=t),Zm)},movementY:function(t){return"movementY"in t?t.movementY:Xm}}),Ak=nr(Hp),$P=ft({},Hp,{dataTransfer:0}),zP=nr($P),FP=ft({},ld,{relatedTarget:0}),eg=nr(FP),BP=ft({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),UP=nr(BP),qP=ft({},Yl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HP=nr(qP),VP=ft({},Yl,{data:0}),Ok=nr(VP),WP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GP[t])?!!e[t]:!1}function M0(){return QP}var YP=ft({},ld,{key:function(t){if(t.key){var e=WP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ph(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M0,charCode:function(t){return t.type==="keypress"?Ph(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ph(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JP=nr(YP),ZP=ft({},Hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ik=nr(ZP),XP=ft({},ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M0}),eL=nr(XP),tL=ft({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),nL=nr(tL),rL=ft({},Hp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iL=nr(rL),sL=[9,13,27,32],j0=Bi&&"CompositionEvent"in window,Uc=null;Bi&&"documentMode"in document&&(Uc=document.documentMode);var oL=Bi&&"TextEvent"in window&&!Uc,JT=Bi&&(!j0||Uc&&8<Uc&&11>=Uc),Rk=" ",Mk=!1;function ZT(t,e){switch(t){case"keyup":return sL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function aL(t,e){switch(t){case"compositionend":return XT(e);case"keypress":return e.which!==32?null:(Mk=!0,Rk);case"textInput":return t=e.data,t===Rk&&Mk?null:t;default:return null}}function lL(t,e){if(Fa)return t==="compositionend"||!j0&&ZT(t,e)?(t=YT(),Dh=I0=Ns=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JT&&e.locale!=="ko"?null:e.data;default:return null}}var cL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cL[t.type]:e==="textarea"}function eC(t,e,n,r){IT(r),e=df(e,"onChange"),0<e.length&&(n=new R0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qc=null,xu=null;function uL(t){dC(t,0)}function Vp(t){var e=qa(t);if(ST(e))return t}function dL(t,e){if(t==="change")return e}var tC=!1;if(Bi){var tg;if(Bi){var ng="oninput"in document;if(!ng){var Dk=document.createElement("div");Dk.setAttribute("oninput","return;"),ng=typeof Dk.oninput=="function"}tg=ng}else tg=!1;tC=tg&&(!document.documentMode||9<document.documentMode)}function Pk(){qc&&(qc.detachEvent("onpropertychange",nC),xu=qc=null)}function nC(t){if(t.propertyName==="value"&&Vp(xu)){var e=[];eC(e,xu,t,N0(t)),DT(uL,e)}}function hL(t,e,n){t==="focusin"?(Pk(),qc=e,xu=n,qc.attachEvent("onpropertychange",nC)):t==="focusout"&&Pk()}function fL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vp(xu)}function pL(t,e){if(t==="click")return Vp(e)}function mL(t,e){if(t==="input"||t==="change")return Vp(e)}function gL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:gL;function vu(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dy.call(e,i)||!Ur(t[i],e[i]))return!1}return!0}function Lk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $k(t,e){var n=Lk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lk(n)}}function rC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iC(){for(var t=window,e=rf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rf(t.document)}return e}function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yL(t){var e=iC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rC(n.ownerDocument.documentElement,n)){if(r!==null&&D0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$k(n,s);var o=$k(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bL=Bi&&"documentMode"in document&&11>=document.documentMode,Ba=null,eb=null,Hc=null,tb=!1;function zk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tb||Ba==null||Ba!==rf(r)||(r=Ba,"selectionStart"in r&&D0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hc&&vu(Hc,r)||(Hc=r,r=df(eb,"onSelect"),0<r.length&&(e=new R0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ba)))}function jd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ua={animationend:jd("Animation","AnimationEnd"),animationiteration:jd("Animation","AnimationIteration"),animationstart:jd("Animation","AnimationStart"),transitionend:jd("Transition","TransitionEnd")},rg={},sC={};Bi&&(sC=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Wp(t){if(rg[t])return rg[t];if(!Ua[t])return t;var e=Ua[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sC)return rg[t]=e[n];return t}var oC=Wp("animationend"),aC=Wp("animationiteration"),lC=Wp("animationstart"),cC=Wp("transitionend"),uC=new Map,Fk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(t,e){uC.set(t,e),ca(e,[t])}for(var ig=0;ig<Fk.length;ig++){var sg=Fk[ig],xL=sg.toLowerCase(),vL=sg[0].toUpperCase()+sg.slice(1);Js(xL,"on"+vL)}Js(oC,"onAnimationEnd");Js(aC,"onAnimationIteration");Js(lC,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(cC,"onTransitionEnd");kl("onMouseEnter",["mouseout","mouseover"]);kl("onMouseLeave",["mouseout","mouseover"]);kl("onPointerEnter",["pointerout","pointerover"]);kl("onPointerLeave",["pointerout","pointerover"]);ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function Bk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xP(r,e,void 0,t),t.currentTarget=null}function dC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Bk(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Bk(i,a,c),s=l}}}if(of)throw t=Yy,of=!1,Yy=null,t}function it(t,e){var n=e[ob];n===void 0&&(n=e[ob]=new Set);var r=t+"__bubble";n.has(r)||(hC(e,t,2,!1),n.add(r))}function og(t,e,n){var r=0;e&&(r|=4),hC(n,t,r,e)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function wu(t){if(!t[Dd]){t[Dd]=!0,xT.forEach(function(n){n!=="selectionchange"&&(wL.has(n)||og(n,!1,t),og(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dd]||(e[Dd]=!0,og("selectionchange",!1,e))}}function hC(t,e,n,r){switch(QT(e)){case 1:var i=DP;break;case 4:i=PP;break;default:i=O0}n=i.bind(null,e,n,t),i=void 0,!Qy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ag(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=wo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}DT(function(){var c=s,u=N0(n),d=[];e:{var f=uC.get(t);if(f!==void 0){var p=R0,m=t;switch(t){case"keypress":if(Ph(n)===0)break e;case"keydown":case"keyup":p=JP;break;case"focusin":m="focus",p=eg;break;case"focusout":m="blur",p=eg;break;case"beforeblur":case"afterblur":p=eg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ak;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=eL;break;case oC:case aC:case lC:p=UP;break;case cC:p=nL;break;case"scroll":p=LP;break;case"wheel":p=iL;break;case"copy":case"cut":case"paste":p=HP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ik}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var x=c,v;x!==null;){v=x;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,g!==null&&(w=mu(x,g),w!=null&&y.push(ku(x,w,v)))),b)break;x=x.return}0<y.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Ky&&(m=n.relatedTarget||n.fromElement)&&(wo(m)||m[Ui]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?wo(m):null,m!==null&&(b=ua(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=Ak,w="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=Ik,w="onPointerLeave",g="onPointerEnter",x="pointer"),b=p==null?f:qa(p),v=m==null?f:qa(m),f=new y(w,x+"leave",p,n,u),f.target=b,f.relatedTarget=v,w=null,wo(u)===c&&(y=new y(g,x+"enter",m,n,u),y.target=v,y.relatedTarget=b,w=y),b=w,p&&m)t:{for(y=p,g=m,x=0,v=y;v;v=ba(v))x++;for(v=0,w=g;w;w=ba(w))v++;for(;0<x-v;)y=ba(y),x--;for(;0<v-x;)g=ba(g),v--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break t;y=ba(y),g=ba(g)}y=null}else y=null;p!==null&&Uk(d,f,p,y,!1),m!==null&&b!==null&&Uk(d,b,m,y,!0)}}e:{if(f=c?qa(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=dL;else if(jk(f))if(tC)S=mL;else{S=fL;var E=hL}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=pL);if(S&&(S=S(t,c))){eC(d,S,n,u);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Uy(f,"number",f.value)}switch(E=c?qa(c):window,t){case"focusin":(jk(E)||E.contentEditable==="true")&&(Ba=E,eb=c,Hc=null);break;case"focusout":Hc=eb=Ba=null;break;case"mousedown":tb=!0;break;case"contextmenu":case"mouseup":case"dragend":tb=!1,zk(d,n,u);break;case"selectionchange":if(bL)break;case"keydown":case"keyup":zk(d,n,u)}var C;if(j0)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Fa?ZT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(JT&&n.locale!=="ko"&&(Fa||T!=="onCompositionStart"?T==="onCompositionEnd"&&Fa&&(C=YT()):(Ns=u,I0="value"in Ns?Ns.value:Ns.textContent,Fa=!0)),E=df(c,T),0<E.length&&(T=new Ok(T,t,null,n,u),d.push({event:T,listeners:E}),C?T.data=C:(C=XT(n),C!==null&&(T.data=C)))),(C=oL?aL(t,n):lL(t,n))&&(c=df(c,"onBeforeInput"),0<c.length&&(u=new Ok("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}dC(d,e)})}function ku(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mu(t,n),s!=null&&r.unshift(ku(t,s,i)),s=mu(t,e),s!=null&&r.push(ku(t,s,i))),t=t.return}return r}function ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uk(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=mu(n,s),l!=null&&o.unshift(ku(n,l,a))):i||(l=mu(n,s),l!=null&&o.push(ku(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kL=/\r\n?/g,EL=/\u0000|\uFFFD/g;function qk(t){return(typeof t=="string"?t:""+t).replace(kL,`
`).replace(EL,"")}function Pd(t,e,n){if(e=qk(e),qk(t)!==e&&n)throw Error(J(425))}function hf(){}var nb=null,rb=null;function ib(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sb=typeof setTimeout=="function"?setTimeout:void 0,SL=typeof clearTimeout=="function"?clearTimeout:void 0,Hk=typeof Promise=="function"?Promise:void 0,_L=typeof queueMicrotask=="function"?queueMicrotask:typeof Hk<"u"?function(t){return Hk.resolve(null).then(t).catch(NL)}:sb;function NL(t){setTimeout(function(){throw t})}function lg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bu(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),ii="__reactFiber$"+Jl,Eu="__reactProps$"+Jl,Ui="__reactContainer$"+Jl,ob="__reactEvents$"+Jl,TL="__reactListeners$"+Jl,CL="__reactHandles$"+Jl;function wo(t){var e=t[ii];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ui]||n[ii]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vk(t);t!==null;){if(n=t[ii])return n;t=Vk(t)}return e}t=n,n=t.parentNode}return null}function cd(t){return t=t[ii]||t[Ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Kp(t){return t[Eu]||null}var ab=[],Ha=-1;function Zs(t){return{current:t}}function ot(t){0>Ha||(t.current=ab[Ha],ab[Ha]=null,Ha--)}function nt(t,e){Ha++,ab[Ha]=t.current,t.current=e}var Gs={},an=Zs(Gs),In=Zs(!1),Go=Gs;function El(t,e){var n=t.type.contextTypes;if(!n)return Gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function ff(){ot(In),ot(an)}function Wk(t,e,n){if(an.current!==Gs)throw Error(J(168));nt(an,e),nt(In,n)}function fC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,hP(t)||"Unknown",i));return ft({},n,r)}function pf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gs,Go=an.current,nt(an,t),nt(In,In.current),!0}function Kk(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=fC(t,e,Go),r.__reactInternalMemoizedMergedChildContext=t,ot(In),ot(an),nt(an,t)):ot(In),nt(In,n)}var _i=null,Gp=!1,cg=!1;function pC(t){_i===null?_i=[t]:_i.push(t)}function AL(t){Gp=!0,pC(t)}function Xs(){if(!cg&&_i!==null){cg=!0;var t=0,e=We;try{var n=_i;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_i=null,Gp=!1}catch(i){throw _i!==null&&(_i=_i.slice(t+1)),zT(T0,Xs),i}finally{We=e,cg=!1}}return null}var Va=[],Wa=0,mf=null,gf=0,hr=[],fr=0,Qo=null,Ri=1,Mi="";function fo(t,e){Va[Wa++]=gf,Va[Wa++]=mf,mf=t,gf=e}function mC(t,e,n){hr[fr++]=Ri,hr[fr++]=Mi,hr[fr++]=Qo,Qo=t;var r=Ri;t=Mi;var i=32-$r(r)-1;r&=~(1<<i),n+=1;var s=32-$r(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ri=1<<32-$r(e)+i|n<<i|r,Mi=s+t}else Ri=1<<s|n<<i|r,Mi=t}function P0(t){t.return!==null&&(fo(t,1),mC(t,1,0))}function L0(t){for(;t===mf;)mf=Va[--Wa],Va[Wa]=null,gf=Va[--Wa],Va[Wa]=null;for(;t===Qo;)Qo=hr[--fr],hr[fr]=null,Mi=hr[--fr],hr[fr]=null,Ri=hr[--fr],hr[fr]=null}var Zn=null,Yn=null,at=!1,Ir=null;function gC(t,e){var n=gr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,Yn=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,Yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qo!==null?{id:Ri,overflow:Mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zn=t,Yn=null,!0):!1;default:return!1}}function lb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cb(t){if(at){var e=Yn;if(e){var n=e;if(!Gk(t,e)){if(lb(t))throw Error(J(418));e=Ps(n.nextSibling);var r=Zn;e&&Gk(t,e)?gC(r,n):(t.flags=t.flags&-4097|2,at=!1,Zn=t)}}else{if(lb(t))throw Error(J(418));t.flags=t.flags&-4097|2,at=!1,Zn=t}}}function Qk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function Ld(t){if(t!==Zn)return!1;if(!at)return Qk(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ib(t.type,t.memoizedProps)),e&&(e=Yn)){if(lb(t))throw yC(),Error(J(418));for(;e;)gC(t,e),e=Ps(e.nextSibling)}if(Qk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yn=Ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yn=null}}else Yn=Zn?Ps(t.stateNode.nextSibling):null;return!0}function yC(){for(var t=Yn;t;)t=Ps(t.nextSibling)}function Sl(){Yn=Zn=null,at=!1}function $0(t){Ir===null?Ir=[t]:Ir.push(t)}var OL=Ki.ReactCurrentBatchConfig;function pc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function $d(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yk(t){var e=t._init;return e(t._payload)}function bC(t){function e(g,x){if(t){var v=g.deletions;v===null?(g.deletions=[x],g.flags|=16):v.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Fs(g,x),g.index=0,g.sibling=null,g}function s(g,x,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<x?(g.flags|=2,x):v):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,x,v,w){return x===null||x.tag!==6?(x=gg(v,g.mode,w),x.return=g,x):(x=i(x,v),x.return=g,x)}function l(g,x,v,w){var S=v.type;return S===za?u(g,x,v.props.children,w,v.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ss&&Yk(S)===x.type)?(w=i(x,v.props),w.ref=pc(g,x,v),w.return=g,w):(w=qh(v.type,v.key,v.props,null,g.mode,w),w.ref=pc(g,x,v),w.return=g,w)}function c(g,x,v,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=yg(v,g.mode,w),x.return=g,x):(x=i(x,v.children||[]),x.return=g,x)}function u(g,x,v,w,S){return x===null||x.tag!==7?(x=Fo(v,g.mode,w,S),x.return=g,x):(x=i(x,v),x.return=g,x)}function d(g,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=gg(""+x,g.mode,v),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Td:return v=qh(x.type,x.key,x.props,null,g.mode,v),v.ref=pc(g,null,x),v.return=g,v;case $a:return x=yg(x,g.mode,v),x.return=g,x;case ss:var w=x._init;return d(g,w(x._payload),v)}if(Tc(x)||cc(x))return x=Fo(x,g.mode,v,null),x.return=g,x;$d(g,x)}return null}function f(g,x,v,w){var S=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(g,x,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Td:return v.key===S?l(g,x,v,w):null;case $a:return v.key===S?c(g,x,v,w):null;case ss:return S=v._init,f(g,x,S(v._payload),w)}if(Tc(v)||cc(v))return S!==null?null:u(g,x,v,w,null);$d(g,v)}return null}function p(g,x,v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(v)||null,a(x,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Td:return g=g.get(w.key===null?v:w.key)||null,l(x,g,w,S);case $a:return g=g.get(w.key===null?v:w.key)||null,c(x,g,w,S);case ss:var E=w._init;return p(g,x,v,E(w._payload),S)}if(Tc(w)||cc(w))return g=g.get(v)||null,u(x,g,w,S,null);$d(x,w)}return null}function m(g,x,v,w){for(var S=null,E=null,C=x,T=x=0,A=null;C!==null&&T<v.length;T++){C.index>T?(A=C,C=null):A=C.sibling;var N=f(g,C,v[T],w);if(N===null){C===null&&(C=A);break}t&&C&&N.alternate===null&&e(g,C),x=s(N,x,T),E===null?S=N:E.sibling=N,E=N,C=A}if(T===v.length)return n(g,C),at&&fo(g,T),S;if(C===null){for(;T<v.length;T++)C=d(g,v[T],w),C!==null&&(x=s(C,x,T),E===null?S=C:E.sibling=C,E=C);return at&&fo(g,T),S}for(C=r(g,C);T<v.length;T++)A=p(C,g,T,v[T],w),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),x=s(A,x,T),E===null?S=A:E.sibling=A,E=A);return t&&C.forEach(function(z){return e(g,z)}),at&&fo(g,T),S}function y(g,x,v,w){var S=cc(v);if(typeof S!="function")throw Error(J(150));if(v=S.call(v),v==null)throw Error(J(151));for(var E=S=null,C=x,T=x=0,A=null,N=v.next();C!==null&&!N.done;T++,N=v.next()){C.index>T?(A=C,C=null):A=C.sibling;var z=f(g,C,N.value,w);if(z===null){C===null&&(C=A);break}t&&C&&z.alternate===null&&e(g,C),x=s(z,x,T),E===null?S=z:E.sibling=z,E=z,C=A}if(N.done)return n(g,C),at&&fo(g,T),S;if(C===null){for(;!N.done;T++,N=v.next())N=d(g,N.value,w),N!==null&&(x=s(N,x,T),E===null?S=N:E.sibling=N,E=N);return at&&fo(g,T),S}for(C=r(g,C);!N.done;T++,N=v.next())N=p(C,g,T,N.value,w),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?T:N.key),x=s(N,x,T),E===null?S=N:E.sibling=N,E=N);return t&&C.forEach(function(F){return e(g,F)}),at&&fo(g,T),S}function b(g,x,v,w){if(typeof v=="object"&&v!==null&&v.type===za&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Td:e:{for(var S=v.key,E=x;E!==null;){if(E.key===S){if(S=v.type,S===za){if(E.tag===7){n(g,E.sibling),x=i(E,v.props.children),x.return=g,g=x;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ss&&Yk(S)===E.type){n(g,E.sibling),x=i(E,v.props),x.ref=pc(g,E,v),x.return=g,g=x;break e}n(g,E);break}else e(g,E);E=E.sibling}v.type===za?(x=Fo(v.props.children,g.mode,w,v.key),x.return=g,g=x):(w=qh(v.type,v.key,v.props,null,g.mode,w),w.ref=pc(g,x,v),w.return=g,g=w)}return o(g);case $a:e:{for(E=v.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(g,x.sibling),x=i(x,v.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else e(g,x);x=x.sibling}x=yg(v,g.mode,w),x.return=g,g=x}return o(g);case ss:return E=v._init,b(g,x,E(v._payload),w)}if(Tc(v))return m(g,x,v,w);if(cc(v))return y(g,x,v,w);$d(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(g,x.sibling),x=i(x,v),x.return=g,g=x):(n(g,x),x=gg(v,g.mode,w),x.return=g,g=x),o(g)):n(g,x)}return b}var _l=bC(!0),xC=bC(!1),yf=Zs(null),bf=null,Ka=null,z0=null;function F0(){z0=Ka=bf=null}function B0(t){var e=yf.current;ot(yf),t._currentValue=e}function ub(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nl(t,e){bf=t,z0=Ka=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function wr(t){var e=t._currentValue;if(z0!==t)if(t={context:t,memoizedValue:e,next:null},Ka===null){if(bf===null)throw Error(J(308));Ka=t,bf.dependencies={lanes:0,firstContext:t}}else Ka=Ka.next=t;return e}var ko=null;function U0(t){ko===null?ko=[t]:ko.push(t)}function vC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,U0(e)):(n.next=i.next,i.next=n),e.interleaved=n,qi(t,r)}function qi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var as=!1;function q0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qi(t,n)}return i=r.interleaved,i===null?(e.next=e,U0(r)):(e.next=i.next,i.next=e),r.interleaved=e,qi(t,n)}function Lh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C0(t,n)}}function Jk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xf(t,e,n,r){var i=t.updateQueue;as=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=ft({},d,f);break e;case 2:as=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Jo|=o,t.lanes=o,t.memoizedState=d}}function Zk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var ud={},li=Zs(ud),Su=Zs(ud),_u=Zs(ud);function Eo(t){if(t===ud)throw Error(J(174));return t}function H0(t,e){switch(nt(_u,e),nt(Su,t),nt(li,ud),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hy(e,t)}ot(li),nt(li,e)}function Nl(){ot(li),ot(Su),ot(_u)}function kC(t){Eo(_u.current);var e=Eo(li.current),n=Hy(e,t.type);e!==n&&(nt(Su,t),nt(li,n))}function V0(t){Su.current===t&&(ot(li),ot(Su))}var ut=Zs(0);function vf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ug=[];function W0(){for(var t=0;t<ug.length;t++)ug[t]._workInProgressVersionPrimary=null;ug.length=0}var $h=Ki.ReactCurrentDispatcher,dg=Ki.ReactCurrentBatchConfig,Yo=0,ht=null,Mt=null,$t=null,wf=!1,Vc=!1,Nu=0,IL=0;function en(){throw Error(J(321))}function K0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ur(t[n],e[n]))return!1;return!0}function G0(t,e,n,r,i,s){if(Yo=s,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$h.current=t===null||t.memoizedState===null?DL:PL,t=n(r,i),Vc){s=0;do{if(Vc=!1,Nu=0,25<=s)throw Error(J(301));s+=1,$t=Mt=null,e.updateQueue=null,$h.current=LL,t=n(r,i)}while(Vc)}if($h.current=kf,e=Mt!==null&&Mt.next!==null,Yo=0,$t=Mt=ht=null,wf=!1,e)throw Error(J(300));return t}function Q0(){var t=Nu!==0;return Nu=0,t}function Yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ht.memoizedState=$t=t:$t=$t.next=t,$t}function kr(){if(Mt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=$t===null?ht.memoizedState:$t.next;if(e!==null)$t=e,Mt=t;else{if(t===null)throw Error(J(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},$t===null?ht.memoizedState=$t=t:$t=$t.next=t}return $t}function Tu(t,e){return typeof e=="function"?e(t):e}function hg(t){var e=kr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Yo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ht.lanes|=u,Jo|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ur(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ht.lanes|=s,Jo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fg(t){var e=kr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ur(s,e.memoizedState)||(On=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function EC(){}function SC(t,e){var n=ht,r=kr(),i=e(),s=!Ur(r.memoizedState,i);if(s&&(r.memoizedState=i,On=!0),r=r.queue,Y0(TC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,Cu(9,NC.bind(null,n,r,i,e),void 0,null),Ft===null)throw Error(J(349));Yo&30||_C(n,e,i)}return i}function _C(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NC(t,e,n,r){e.value=n,e.getSnapshot=r,CC(e)&&AC(t)}function TC(t,e,n){return n(function(){CC(e)&&AC(t)})}function CC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ur(t,n)}catch{return!0}}function AC(t){var e=qi(t,1);e!==null&&zr(e,t,1,-1)}function Xk(t){var e=Yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:t},e.queue=t,t=t.dispatch=jL.bind(null,ht,t),[e.memoizedState,t]}function Cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OC(){return kr().memoizedState}function zh(t,e,n,r){var i=Yr();ht.flags|=t,i.memoizedState=Cu(1|e,n,void 0,r===void 0?null:r)}function Qp(t,e,n,r){var i=kr();r=r===void 0?null:r;var s=void 0;if(Mt!==null){var o=Mt.memoizedState;if(s=o.destroy,r!==null&&K0(r,o.deps)){i.memoizedState=Cu(e,n,s,r);return}}ht.flags|=t,i.memoizedState=Cu(1|e,n,s,r)}function e1(t,e){return zh(8390656,8,t,e)}function Y0(t,e){return Qp(2048,8,t,e)}function IC(t,e){return Qp(4,2,t,e)}function RC(t,e){return Qp(4,4,t,e)}function MC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jC(t,e,n){return n=n!=null?n.concat([t]):null,Qp(4,4,MC.bind(null,e,t),n)}function J0(){}function DC(t,e){var n=kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&K0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PC(t,e){var n=kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&K0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LC(t,e,n){return Yo&21?(Ur(n,e)||(n=UT(),ht.lanes|=n,Jo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function RL(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=dg.transition;dg.transition={};try{t(!1),e()}finally{We=n,dg.transition=r}}function $C(){return kr().memoizedState}function ML(t,e,n){var r=zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zC(t))FC(e,n);else if(n=vC(t,e,n,r),n!==null){var i=bn();zr(n,t,r,i),BC(n,e,r)}}function jL(t,e,n){var r=zs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zC(t))FC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ur(a,o)){var l=e.interleaved;l===null?(i.next=i,U0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=vC(t,e,i,r),n!==null&&(i=bn(),zr(n,t,r,i),BC(n,e,r))}}function zC(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function FC(t,e){Vc=wf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C0(t,n)}}var kf={readContext:wr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},DL={readContext:wr,useCallback:function(t,e){return Yr().memoizedState=[t,e===void 0?null:e],t},useContext:wr,useEffect:e1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zh(4194308,4,MC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zh(4194308,4,t,e)},useInsertionEffect:function(t,e){return zh(4,2,t,e)},useMemo:function(t,e){var n=Yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ML.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Yr();return t={current:t},e.memoizedState=t},useState:Xk,useDebugValue:J0,useDeferredValue:function(t){return Yr().memoizedState=t},useTransition:function(){var t=Xk(!1),e=t[0];return t=RL.bind(null,t[1]),Yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=Yr();if(at){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Ft===null)throw Error(J(349));Yo&30||_C(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,e1(TC.bind(null,r,s,t),[t]),r.flags|=2048,Cu(9,NC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Yr(),e=Ft.identifierPrefix;if(at){var n=Mi,r=Ri;n=(r&~(1<<32-$r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=IL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PL={readContext:wr,useCallback:DC,useContext:wr,useEffect:Y0,useImperativeHandle:jC,useInsertionEffect:IC,useLayoutEffect:RC,useMemo:PC,useReducer:hg,useRef:OC,useState:function(){return hg(Tu)},useDebugValue:J0,useDeferredValue:function(t){var e=kr();return LC(e,Mt.memoizedState,t)},useTransition:function(){var t=hg(Tu)[0],e=kr().memoizedState;return[t,e]},useMutableSource:EC,useSyncExternalStore:SC,useId:$C,unstable_isNewReconciler:!1},LL={readContext:wr,useCallback:DC,useContext:wr,useEffect:Y0,useImperativeHandle:jC,useInsertionEffect:IC,useLayoutEffect:RC,useMemo:PC,useReducer:fg,useRef:OC,useState:function(){return fg(Tu)},useDebugValue:J0,useDeferredValue:function(t){var e=kr();return Mt===null?e.memoizedState=t:LC(e,Mt.memoizedState,t)},useTransition:function(){var t=fg(Tu)[0],e=kr().memoizedState;return[t,e]},useMutableSource:EC,useSyncExternalStore:SC,useId:$C,unstable_isNewReconciler:!1};function _r(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function db(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yp={isMounted:function(t){return(t=t._reactInternals)?ua(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=zs(t),s=Li(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ls(t,s,i),e!==null&&(zr(e,t,i,r),Lh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=zs(t),s=Li(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ls(t,s,i),e!==null&&(zr(e,t,i,r),Lh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=zs(t),i=Li(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ls(t,i,r),e!==null&&(zr(e,t,r,n),Lh(e,t,r))}};function t1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!vu(n,r)||!vu(i,s):!0}function UC(t,e,n){var r=!1,i=Gs,s=e.contextType;return typeof s=="object"&&s!==null?s=wr(s):(i=Rn(e)?Go:an.current,r=e.contextTypes,s=(r=r!=null)?El(t,i):Gs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function n1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yp.enqueueReplaceState(e,e.state,null)}function hb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},q0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wr(s):(s=Rn(e)?Go:an.current,i.context=El(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(db(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yp.enqueueReplaceState(i,i.state,null),xf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tl(t,e){try{var n="",r=e;do n+=dP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $L=typeof WeakMap=="function"?WeakMap:Map;function qC(t,e,n){n=Li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sf||(Sf=!0,Eb=r),fb(t,e)},n}function HC(t,e,n){n=Li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fb(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fb(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function r1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $L;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZL.bind(null,t,e,n),e.then(t,t))}function i1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function s1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Li(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var zL=Ki.ReactCurrentOwner,On=!1;function fn(t,e,n,r){e.child=t===null?xC(e,null,n,r):_l(e,t.child,n,r)}function o1(t,e,n,r,i){n=n.render;var s=e.ref;return nl(e,i),r=G0(t,e,n,r,s,i),n=Q0(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hi(t,e,i)):(at&&n&&P0(e),e.flags|=1,fn(t,e,r,i),e.child)}function a1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,VC(t,e,s,r,i)):(t=qh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vu,n(o,r)&&t.ref===e.ref)return Hi(t,e,i)}return e.flags|=1,t=Fs(s,r),t.ref=e.ref,t.return=e,e.child=t}function VC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vu(s,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,Hi(t,e,i)}return pb(t,e,n,r,i)}function WC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Qa,Wn),Wn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Qa,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nt(Qa,Wn),Wn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,nt(Qa,Wn),Wn|=r;return fn(t,e,i,n),e.child}function KC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pb(t,e,n,r,i){var s=Rn(n)?Go:an.current;return s=El(e,s),nl(e,i),n=G0(t,e,n,r,s,i),r=Q0(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hi(t,e,i)):(at&&r&&P0(e),e.flags|=1,fn(t,e,n,i),e.child)}function l1(t,e,n,r,i){if(Rn(n)){var s=!0;pf(e)}else s=!1;if(nl(e,i),e.stateNode===null)Fh(t,e),UC(e,n,r),hb(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wr(c):(c=Rn(n)?Go:an.current,c=El(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&n1(e,o,r,c),as=!1;var f=e.memoizedState;o.state=f,xf(e,r,o,i),l=e.memoizedState,a!==r||f!==l||In.current||as?(typeof u=="function"&&(db(e,n,u,r),l=e.memoizedState),(a=as||t1(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_r(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wr(l):(l=Rn(n)?Go:an.current,l=El(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&n1(e,o,r,l),as=!1,f=e.memoizedState,o.state=f,xf(e,r,o,i);var m=e.memoizedState;a!==d||f!==m||In.current||as?(typeof p=="function"&&(db(e,n,p,r),m=e.memoizedState),(c=as||t1(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mb(t,e,n,r,s,i)}function mb(t,e,n,r,i,s){KC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Kk(e,n,!1),Hi(t,e,s);r=e.stateNode,zL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_l(e,t.child,null,s),e.child=_l(e,null,a,s)):fn(t,e,a,s),e.memoizedState=r.state,i&&Kk(e,n,!0),e.child}function GC(t){var e=t.stateNode;e.pendingContext?Wk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wk(t,e.context,!1),H0(t,e.containerInfo)}function c1(t,e,n,r,i){return Sl(),$0(i),e.flags|=256,fn(t,e,n,r),e.child}var gb={dehydrated:null,treeContext:null,retryLane:0};function yb(t){return{baseLanes:t,cachePool:null,transitions:null}}function QC(t,e,n){var r=e.pendingProps,i=ut.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(ut,i&1),t===null)return cb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xp(o,r,0,null),t=Fo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yb(n),e.memoizedState=gb,t):Z0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FL(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fs(a,s):(s=Fo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gb,r}return s=t.child,t=s.sibling,r=Fs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Z0(t,e){return e=Xp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zd(t,e,n,r){return r!==null&&$0(r),_l(e,t.child,null,n),t=Z0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FL(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pg(Error(J(422))),zd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xp({mode:"visible",children:r.children},i,0,null),s=Fo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_l(e,t.child,null,o),e.child.memoizedState=yb(o),e.memoizedState=gb,s);if(!(e.mode&1))return zd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=pg(s,r,void 0),zd(t,e,o,r)}if(a=(o&t.childLanes)!==0,On||a){if(r=Ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qi(t,i),zr(r,t,i,-1))}return iv(),r=pg(Error(J(421))),zd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yn=Ps(i.nextSibling),Zn=e,at=!0,Ir=null,t!==null&&(hr[fr++]=Ri,hr[fr++]=Mi,hr[fr++]=Qo,Ri=t.id,Mi=t.overflow,Qo=e),e=Z0(e,r.children),e.flags|=4096,e)}function u1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ub(t.return,e,n)}function mg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function YC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u1(t,n,e);else if(t.tag===19)u1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mg(e,!0,n,null,s);break;case"together":mg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Fs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BL(t,e,n){switch(e.tag){case 3:GC(e),Sl();break;case 5:kC(e);break;case 1:Rn(e.type)&&pf(e);break;case 4:H0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(yf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?QC(t,e,n):(nt(ut,ut.current&1),t=Hi(t,e,n),t!==null?t.sibling:null);nt(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return YC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,WC(t,e,n)}return Hi(t,e,n)}var JC,bb,ZC,XC;JC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bb=function(){};ZC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Eo(li.current);var s=null;switch(n){case"input":i=Fy(t,i),r=Fy(t,r),s=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),s=[];break;case"textarea":i=qy(t,i),r=qy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hf)}Vy(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&it("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};XC=function(t,e,n,r){n!==r&&(e.flags|=4)};function mc(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UL(t,e,n){var r=e.pendingProps;switch(L0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return Rn(e.type)&&ff(),tn(e),null;case 3:return r=e.stateNode,Nl(),ot(In),ot(an),W0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ld(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ir!==null&&(Nb(Ir),Ir=null))),bb(t,e),tn(e),null;case 5:V0(e);var i=Eo(_u.current);if(n=e.type,t!==null&&e.stateNode!=null)ZC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return tn(e),null}if(t=Eo(li.current),Ld(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ii]=e,r[Eu]=s,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<Ac.length;i++)it(Ac[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":xk(r,s),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},it("invalid",r);break;case"textarea":wk(r,s),it("invalid",r)}Vy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pd(r.textContent,a,t),i=["children",""+a]):fu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&it("scroll",r)}switch(n){case"input":Cd(r),vk(r,s,!0);break;case"textarea":Cd(r),kk(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ii]=e,t[Eu]=r,JC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wy(n,r),n){case"dialog":it("cancel",t),it("close",t),i=r;break;case"iframe":case"object":case"embed":it("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ac.length;i++)it(Ac[i],t);i=r;break;case"source":it("error",t),i=r;break;case"img":case"image":case"link":it("error",t),it("load",t),i=r;break;case"details":it("toggle",t),i=r;break;case"input":xk(t,r),i=Fy(t,r),it("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),it("invalid",t);break;case"textarea":wk(t,r),i=qy(t,r),it("invalid",t);break;default:i=r}Vy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?OT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&pu(t,l):typeof l=="number"&&pu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&it("scroll",t):l!=null&&k0(t,s,l,o))}switch(n){case"input":Cd(t),vk(t,r,!1);break;case"textarea":Cd(t),kk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ks(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Za(t,!!r.multiple,s,!1):r.defaultValue!=null&&Za(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)XC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Eo(_u.current),Eo(li.current),Ld(e)){if(r=e.stateNode,n=e.memoizedProps,r[ii]=e,(s=r.nodeValue!==n)&&(t=Zn,t!==null))switch(t.tag){case 3:Pd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ii]=e,e.stateNode=r}return tn(e),null;case 13:if(ot(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Yn!==null&&e.mode&1&&!(e.flags&128))yC(),Sl(),e.flags|=98560,s=!1;else if(s=Ld(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[ii]=e}else Sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),s=!1}else Ir!==null&&(Nb(Ir),Ir=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Pt===0&&(Pt=3):iv())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return Nl(),bb(t,e),t===null&&wu(e.stateNode.containerInfo),tn(e),null;case 10:return B0(e.type._context),tn(e),null;case 17:return Rn(e.type)&&ff(),tn(e),null;case 19:if(ot(ut),s=e.memoizedState,s===null)return tn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)mc(s,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vf(t),o!==null){for(e.flags|=128,mc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(ut,ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&vt()>Cl&&(e.flags|=128,r=!0,mc(s,!1),e.lanes=4194304)}else{if(!r)if(t=vf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!at)return tn(e),null}else 2*vt()-s.renderingStartTime>Cl&&n!==1073741824&&(e.flags|=128,r=!0,mc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,n=ut.current,nt(ut,r?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return rv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function qL(t,e){switch(L0(e),e.tag){case 1:return Rn(e.type)&&ff(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nl(),ot(In),ot(an),W0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return V0(e),null;case 13:if(ot(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ut),null;case 4:return Nl(),null;case 10:return B0(e.type._context),null;case 22:case 23:return rv(),null;case 24:return null;default:return null}}var Fd=!1,rn=!1,HL=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Ga(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function xb(t,e,n){try{n()}catch(r){gt(t,e,r)}}var d1=!1;function VL(t,e){if(nb=cf,t=iC(),D0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rb={focusedElem:t,selectionRange:n},cf=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:_r(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(w){gt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return m=d1,d1=!1,m}function Wc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&xb(e,n,s)}i=i.next}while(i!==r)}}function Jp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function e2(t){var e=t.alternate;e!==null&&(t.alternate=null,e2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ii],delete e[Eu],delete e[ob],delete e[TL],delete e[CL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function t2(t){return t.tag===5||t.tag===3||t.tag===4}function h1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hf));else if(r!==4&&(t=t.child,t!==null))for(wb(t,e,n),t=t.sibling;t!==null;)wb(t,e,n),t=t.sibling}function kb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kb(t,e,n),t=t.sibling;t!==null;)kb(t,e,n),t=t.sibling}var Kt=null,Ar=!1;function Yi(t,e,n){for(n=n.child;n!==null;)n2(t,e,n),n=n.sibling}function n2(t,e,n){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(qp,n)}catch{}switch(n.tag){case 5:rn||Ga(n,e);case 6:var r=Kt,i=Ar;Kt=null,Yi(t,e,n),Kt=r,Ar=i,Kt!==null&&(Ar?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Ar?(t=Kt,n=n.stateNode,t.nodeType===8?lg(t.parentNode,n):t.nodeType===1&&lg(t,n),bu(t)):lg(Kt,n.stateNode));break;case 4:r=Kt,i=Ar,Kt=n.stateNode.containerInfo,Ar=!0,Yi(t,e,n),Kt=r,Ar=i;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xb(n,e,o),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!rn&&(Ga(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,Yi(t,e,n),rn=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function f1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HL),e.forEach(function(r){var i=e3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,Ar=!1;break e;case 3:Kt=a.stateNode.containerInfo,Ar=!0;break e;case 4:Kt=a.stateNode.containerInfo,Ar=!0;break e}a=a.return}if(Kt===null)throw Error(J(160));n2(s,o,i),Kt=null,Ar=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r2(e,t),e=e.sibling}function r2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),Vr(t),r&4){try{Wc(3,t,t.return),Jp(3,t)}catch(y){gt(t,t.return,y)}try{Wc(5,t,t.return)}catch(y){gt(t,t.return,y)}}break;case 1:Er(e,t),Vr(t),r&512&&n!==null&&Ga(n,n.return);break;case 5:if(Er(e,t),Vr(t),r&512&&n!==null&&Ga(n,n.return),t.flags&32){var i=t.stateNode;try{pu(i,"")}catch(y){gt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_T(i,s),Wy(a,o);var c=Wy(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?OT(i,d):u==="dangerouslySetInnerHTML"?CT(i,d):u==="children"?pu(i,d):k0(i,u,d,c)}switch(a){case"input":By(i,s);break;case"textarea":NT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Za(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Za(i,!!s.multiple,s.defaultValue,!0):Za(i,!!s.multiple,s.multiple?[]:"",!1))}i[Eu]=s}catch(y){gt(t,t.return,y)}}break;case 6:if(Er(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){gt(t,t.return,y)}}break;case 3:if(Er(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bu(e.containerInfo)}catch(y){gt(t,t.return,y)}break;case 4:Er(e,t),Vr(t);break;case 13:Er(e,t),Vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tv=vt())),r&4&&f1(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(c=rn)||u,Er(e,t),rn=c):Er(e,t),Vr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ae=t,u=t.child;u!==null;){for(d=ae=u;ae!==null;){switch(f=ae,p=f.child,f.tag){case 0:case 11:case 14:case 15:Wc(4,f,f.return);break;case 1:Ga(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){gt(r,n,y)}}break;case 5:Ga(f,f.return);break;case 22:if(f.memoizedState!==null){m1(d);continue}}p!==null?(p.return=f,ae=p):m1(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=AT("display",o))}catch(y){gt(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){gt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Er(e,t),Vr(t),r&4&&f1(t);break;case 21:break;default:Er(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(t2(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pu(i,""),r.flags&=-33);var s=h1(t);kb(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=h1(t);wb(t,a,o);break;default:throw Error(J(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WL(t,e,n){ae=t,i2(t)}function i2(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rn;a=Fd;var c=rn;if(Fd=o,(rn=l)&&!c)for(ae=i;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?g1(i):l!==null?(l.return=o,ae=l):g1(i);for(;s!==null;)ae=s,i2(s),s=s.sibling;ae=i,Fd=a,rn=c}p1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):p1(t)}}function p1(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||Jp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zk(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zk(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&bu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}rn||e.flags&512&&vb(e)}catch(f){gt(e,e.return,f)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function m1(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function g1(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jp(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var s=e.return;try{vb(e)}catch(l){gt(e,s,l)}break;case 5:var o=e.return;try{vb(e)}catch(l){gt(e,o,l)}}}catch(l){gt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var KL=Math.ceil,Ef=Ki.ReactCurrentDispatcher,X0=Ki.ReactCurrentOwner,yr=Ki.ReactCurrentBatchConfig,Pe=0,Ft=null,_t=null,Zt=0,Wn=0,Qa=Zs(0),Pt=0,Au=null,Jo=0,Zp=0,ev=0,Kc=null,Cn=null,tv=0,Cl=1/0,ki=null,Sf=!1,Eb=null,$s=null,Bd=!1,Ts=null,_f=0,Gc=0,Sb=null,Bh=-1,Uh=0;function bn(){return Pe&6?vt():Bh!==-1?Bh:Bh=vt()}function zs(t){return t.mode&1?Pe&2&&Zt!==0?Zt&-Zt:OL.transition!==null?(Uh===0&&(Uh=UT()),Uh):(t=We,t!==0||(t=window.event,t=t===void 0?16:QT(t.type)),t):1}function zr(t,e,n,r){if(50<Gc)throw Gc=0,Sb=null,Error(J(185));ad(t,n,r),(!(Pe&2)||t!==Ft)&&(t===Ft&&(!(Pe&2)&&(Zp|=n),Pt===4&&hs(t,Zt)),Mn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Cl=vt()+500,Gp&&Xs()))}function Mn(t,e){var n=t.callbackNode;OP(t,e);var r=lf(t,t===Ft?Zt:0);if(r===0)n!==null&&_k(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_k(n),e===1)t.tag===0?AL(y1.bind(null,t)):pC(y1.bind(null,t)),_L(function(){!(Pe&6)&&Xs()}),n=null;else{switch(qT(r)){case 1:n=T0;break;case 4:n=FT;break;case 16:n=af;break;case 536870912:n=BT;break;default:n=af}n=h2(n,s2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s2(t,e){if(Bh=-1,Uh=0,Pe&6)throw Error(J(327));var n=t.callbackNode;if(rl()&&t.callbackNode!==n)return null;var r=lf(t,t===Ft?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nf(t,r);else{e=r;var i=Pe;Pe|=2;var s=a2();(Ft!==t||Zt!==e)&&(ki=null,Cl=vt()+500,zo(t,e));do try{YL();break}catch(a){o2(t,a)}while(!0);F0(),Ef.current=s,Pe=i,_t!==null?e=0:(Ft=null,Zt=0,e=Pt)}if(e!==0){if(e===2&&(i=Jy(t),i!==0&&(r=i,e=_b(t,i))),e===1)throw n=Au,zo(t,0),hs(t,r),Mn(t,vt()),n;if(e===6)hs(t,r);else{if(i=t.current.alternate,!(r&30)&&!GL(i)&&(e=Nf(t,r),e===2&&(s=Jy(t),s!==0&&(r=s,e=_b(t,s))),e===1))throw n=Au,zo(t,0),hs(t,r),Mn(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:po(t,Cn,ki);break;case 3:if(hs(t,r),(r&130023424)===r&&(e=tv+500-vt(),10<e)){if(lf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sb(po.bind(null,t,Cn,ki),e);break}po(t,Cn,ki);break;case 4:if(hs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-$r(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KL(r/1960))-r,10<r){t.timeoutHandle=sb(po.bind(null,t,Cn,ki),r);break}po(t,Cn,ki);break;case 5:po(t,Cn,ki);break;default:throw Error(J(329))}}}return Mn(t,vt()),t.callbackNode===n?s2.bind(null,t):null}function _b(t,e){var n=Kc;return t.current.memoizedState.isDehydrated&&(zo(t,e).flags|=256),t=Nf(t,e),t!==2&&(e=Cn,Cn=n,e!==null&&Nb(e)),t}function Nb(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function GL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ur(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hs(t,e){for(e&=~ev,e&=~Zp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$r(e),r=1<<n;t[n]=-1,e&=~r}}function y1(t){if(Pe&6)throw Error(J(327));rl();var e=lf(t,0);if(!(e&1))return Mn(t,vt()),null;var n=Nf(t,e);if(t.tag!==0&&n===2){var r=Jy(t);r!==0&&(e=r,n=_b(t,r))}if(n===1)throw n=Au,zo(t,0),hs(t,e),Mn(t,vt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,po(t,Cn,ki),Mn(t,vt()),null}function nv(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Cl=vt()+500,Gp&&Xs())}}function Zo(t){Ts!==null&&Ts.tag===0&&!(Pe&6)&&rl();var e=Pe;Pe|=1;var n=yr.transition,r=We;try{if(yr.transition=null,We=1,t)return t()}finally{We=r,yr.transition=n,Pe=e,!(Pe&6)&&Xs()}}function rv(){Wn=Qa.current,ot(Qa)}function zo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SL(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(L0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ff();break;case 3:Nl(),ot(In),ot(an),W0();break;case 5:V0(r);break;case 4:Nl();break;case 13:ot(ut);break;case 19:ot(ut);break;case 10:B0(r.type._context);break;case 22:case 23:rv()}n=n.return}if(Ft=t,_t=t=Fs(t.current,null),Zt=Wn=e,Pt=0,Au=null,ev=Zp=Jo=0,Cn=Kc=null,ko!==null){for(e=0;e<ko.length;e++)if(n=ko[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ko=null}return t}function o2(t,e){do{var n=_t;try{if(F0(),$h.current=kf,wf){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wf=!1}if(Yo=0,$t=Mt=ht=null,Vc=!1,Nu=0,X0.current=null,n===null||n.return===null){Pt=1,Au=e,_t=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=i1(o);if(p!==null){p.flags&=-257,s1(p,o,a,s,e),p.mode&1&&r1(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){r1(s,c,e),iv();break e}l=Error(J(426))}}else if(at&&a.mode&1){var b=i1(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),s1(b,o,a,s,e),$0(Tl(l,a));break e}}s=l=Tl(l,a),Pt!==4&&(Pt=2),Kc===null?Kc=[s]:Kc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=qC(s,l,e);Jk(s,g);break e;case 1:a=l;var x=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($s===null||!$s.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=HC(s,a,e);Jk(s,w);break e}}s=s.return}while(s!==null)}c2(n)}catch(S){e=S,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function a2(){var t=Ef.current;return Ef.current=kf,t===null?kf:t}function iv(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ft===null||!(Jo&268435455)&&!(Zp&268435455)||hs(Ft,Zt)}function Nf(t,e){var n=Pe;Pe|=2;var r=a2();(Ft!==t||Zt!==e)&&(ki=null,zo(t,e));do try{QL();break}catch(i){o2(t,i)}while(!0);if(F0(),Pe=n,Ef.current=r,_t!==null)throw Error(J(261));return Ft=null,Zt=0,Pt}function QL(){for(;_t!==null;)l2(_t)}function YL(){for(;_t!==null&&!wP();)l2(_t)}function l2(t){var e=d2(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?c2(t):_t=e,X0.current=null}function c2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qL(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,_t=null;return}}else if(n=UL(n,e,Wn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);Pt===0&&(Pt=5)}function po(t,e,n){var r=We,i=yr.transition;try{yr.transition=null,We=1,JL(t,e,n,r)}finally{yr.transition=i,We=r}return null}function JL(t,e,n,r){do rl();while(Ts!==null);if(Pe&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(IP(t,s),t===Ft&&(_t=Ft=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bd||(Bd=!0,h2(af,function(){return rl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yr.transition,yr.transition=null;var o=We;We=1;var a=Pe;Pe|=4,X0.current=null,VL(t,n),r2(n,t),yL(rb),cf=!!nb,rb=nb=null,t.current=n,WL(n),kP(),Pe=a,We=o,yr.transition=s}else t.current=n;if(Bd&&(Bd=!1,Ts=t,_f=i),s=t.pendingLanes,s===0&&($s=null),_P(n.stateNode),Mn(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sf)throw Sf=!1,t=Eb,Eb=null,t;return _f&1&&t.tag!==0&&rl(),s=t.pendingLanes,s&1?t===Sb?Gc++:(Gc=0,Sb=t):Gc=0,Xs(),null}function rl(){if(Ts!==null){var t=qT(_f),e=yr.transition,n=We;try{if(yr.transition=null,We=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,_f=0,Pe&6)throw Error(J(331));var i=Pe;for(Pe|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var u=ae;switch(u.tag){case 0:case 11:case 15:Wc(8,u,s)}var d=u.child;if(d!==null)d.return=u,ae=d;else for(;ae!==null;){u=ae;var f=u.sibling,p=u.return;if(e2(u),u===c){ae=null;break}if(f!==null){f.return=p,ae=f;break}ae=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ae=g;break e}ae=s.return}}var x=t.current;for(ae=x;ae!==null;){o=ae;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ae=v;else e:for(o=x;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Jp(9,a)}}catch(S){gt(a,a.return,S)}if(a===o){ae=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ae=w;break e}ae=a.return}}if(Pe=i,Xs(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(qp,t)}catch{}r=!0}return r}finally{We=n,yr.transition=e}}return!1}function b1(t,e,n){e=Tl(n,e),e=qC(t,e,1),t=Ls(t,e,1),e=bn(),t!==null&&(ad(t,1,e),Mn(t,e))}function gt(t,e,n){if(t.tag===3)b1(t,t,n);else for(;e!==null;){if(e.tag===3){b1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=Tl(n,t),t=HC(e,t,1),e=Ls(e,t,1),t=bn(),e!==null&&(ad(e,1,t),Mn(e,t));break}}e=e.return}}function ZL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Zt&n)===n&&(Pt===4||Pt===3&&(Zt&130023424)===Zt&&500>vt()-tv?zo(t,0):ev|=n),Mn(t,e)}function u2(t,e){e===0&&(t.mode&1?(e=Id,Id<<=1,!(Id&130023424)&&(Id=4194304)):e=1);var n=bn();t=qi(t,e),t!==null&&(ad(t,e,n),Mn(t,n))}function XL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),u2(t,n)}function e3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),u2(t,n)}var d2;d2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||In.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,BL(t,e,n);On=!!(t.flags&131072)}else On=!1,at&&e.flags&1048576&&mC(e,gf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fh(t,e),t=e.pendingProps;var i=El(e,an.current);nl(e,n),i=G0(null,e,r,t,i,n);var s=Q0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,pf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q0(e),i.updater=Yp,e.stateNode=i,i._reactInternals=e,hb(e,r,t,n),e=mb(null,e,r,!0,s,n)):(e.tag=0,at&&s&&P0(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=n3(r),t=_r(r,t),i){case 0:e=pb(null,e,r,t,n);break e;case 1:e=l1(null,e,r,t,n);break e;case 11:e=o1(null,e,r,t,n);break e;case 14:e=a1(null,e,r,_r(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),pb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),l1(t,e,r,i,n);case 3:e:{if(GC(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wC(t,e),xf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Tl(Error(J(423)),e),e=c1(t,e,r,n,i);break e}else if(r!==i){i=Tl(Error(J(424)),e),e=c1(t,e,r,n,i);break e}else for(Yn=Ps(e.stateNode.containerInfo.firstChild),Zn=e,at=!0,Ir=null,n=xC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sl(),r===i){e=Hi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return kC(e),t===null&&cb(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ib(r,i)?o=null:s!==null&&ib(r,s)&&(e.flags|=32),KC(t,e),fn(t,e,o,n),e.child;case 6:return t===null&&cb(e),null;case 13:return QC(t,e,n);case 4:return H0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_l(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),o1(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,nt(yf,r._currentValue),r._currentValue=o,s!==null)if(Ur(s.value,o)){if(s.children===i.children&&!In.current){e=Hi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Li(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ub(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ub(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,nl(e,n),i=wr(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=_r(r,e.pendingProps),i=_r(r.type,i),a1(t,e,r,i,n);case 15:return VC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),Fh(t,e),e.tag=1,Rn(r)?(t=!0,pf(e)):t=!1,nl(e,n),UC(e,r,i),hb(e,r,i,n),mb(null,e,r,!0,t,n);case 19:return YC(t,e,n);case 22:return WC(t,e,n)}throw Error(J(156,e.tag))};function h2(t,e){return zT(t,e)}function t3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(t,e,n,r){return new t3(t,e,n,r)}function sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function n3(t){if(typeof t=="function")return sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===S0)return 11;if(t===_0)return 14}return 2}function Fs(t,e){var n=t.alternate;return n===null?(n=gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case za:return Fo(n.children,i,s,e);case E0:o=8,i|=8;break;case Py:return t=gr(12,n,e,i|2),t.elementType=Py,t.lanes=s,t;case Ly:return t=gr(13,n,e,i),t.elementType=Ly,t.lanes=s,t;case $y:return t=gr(19,n,e,i),t.elementType=$y,t.lanes=s,t;case kT:return Xp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vT:o=10;break e;case wT:o=9;break e;case S0:o=11;break e;case _0:o=14;break e;case ss:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=gr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Fo(t,e,n,r){return t=gr(7,t,r,e),t.lanes=n,t}function Xp(t,e,n,r){return t=gr(22,t,r,e),t.elementType=kT,t.lanes=n,t.stateNode={isHidden:!1},t}function gg(t,e,n){return t=gr(6,t,null,e),t.lanes=n,t}function yg(t,e,n){return e=gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function r3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jm(0),this.expirationTimes=Jm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ov(t,e,n,r,i,s,o,a,l){return t=new r3(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q0(s),t}function i3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$a,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function f2(t){if(!t)return Gs;t=t._reactInternals;e:{if(ua(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Rn(n))return fC(t,n,e)}return e}function p2(t,e,n,r,i,s,o,a,l){return t=ov(n,r,!0,t,i,s,o,a,l),t.context=f2(null),n=t.current,r=bn(),i=zs(n),s=Li(r,i),s.callback=e??null,Ls(n,s,i),t.current.lanes=i,ad(t,i,r),Mn(t,r),t}function em(t,e,n,r){var i=e.current,s=bn(),o=zs(i);return n=f2(n),e.context===null?e.context=n:e.pendingContext=n,e=Li(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(i,e,o),t!==null&&(zr(t,i,o,s),Lh(t,i,o)),o}function Tf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function x1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function av(t,e){x1(t,e),(t=t.alternate)&&x1(t,e)}function s3(){return null}var m2=typeof reportError=="function"?reportError:function(t){console.error(t)};function lv(t){this._internalRoot=t}tm.prototype.render=lv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));em(t,e,null,null)};tm.prototype.unmount=lv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zo(function(){em(null,t,null,null)}),e[Ui]=null}};function tm(t){this._internalRoot=t}tm.prototype.unstable_scheduleHydration=function(t){if(t){var e=WT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ds.length&&e!==0&&e<ds[n].priority;n++);ds.splice(n,0,t),n===0&&GT(t)}};function cv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function v1(){}function o3(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Tf(o);s.call(c)}}var o=p2(e,r,t,0,null,!1,!1,"",v1);return t._reactRootContainer=o,t[Ui]=o.current,wu(t.nodeType===8?t.parentNode:t),Zo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Tf(l);a.call(c)}}var l=ov(t,0,!1,null,null,!1,!1,"",v1);return t._reactRootContainer=l,t[Ui]=l.current,wu(t.nodeType===8?t.parentNode:t),Zo(function(){em(e,l,n,r)}),l}function rm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Tf(o);a.call(l)}}em(e,o,t,i)}else o=o3(n,e,t,i,r);return Tf(o)}HT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cc(e.pendingLanes);n!==0&&(C0(e,n|1),Mn(e,vt()),!(Pe&6)&&(Cl=vt()+500,Xs()))}break;case 13:Zo(function(){var r=qi(t,1);if(r!==null){var i=bn();zr(r,t,1,i)}}),av(t,1)}};A0=function(t){if(t.tag===13){var e=qi(t,134217728);if(e!==null){var n=bn();zr(e,t,134217728,n)}av(t,134217728)}};VT=function(t){if(t.tag===13){var e=zs(t),n=qi(t,e);if(n!==null){var r=bn();zr(n,t,e,r)}av(t,e)}};WT=function(){return We};KT=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};Gy=function(t,e,n){switch(e){case"input":if(By(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Kp(r);if(!i)throw Error(J(90));ST(r),By(r,i)}}}break;case"textarea":NT(t,n);break;case"select":e=n.value,e!=null&&Za(t,!!n.multiple,e,!1)}};MT=nv;jT=Zo;var a3={usingClientEntryPoint:!1,Events:[cd,qa,Kp,IT,RT,nv]},gc={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l3={bundleType:gc.bundleType,version:gc.version,rendererPackageName:gc.rendererPackageName,rendererConfig:gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LT(t),t===null?null:t.stateNode},findFiberByHostInstance:gc.findFiberByHostInstance||s3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{qp=Ud.inject(l3),ai=Ud}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a3;tr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cv(e))throw Error(J(200));return i3(t,e,null,n)};tr.createRoot=function(t,e){if(!cv(t))throw Error(J(299));var n=!1,r="",i=m2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ov(t,1,!1,null,null,n,!1,r,i),t[Ui]=e.current,wu(t.nodeType===8?t.parentNode:t),new lv(e)};tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=LT(e),t=t===null?null:t.stateNode,t};tr.flushSync=function(t){return Zo(t)};tr.hydrate=function(t,e,n){if(!nm(e))throw Error(J(200));return rm(null,t,e,!0,n)};tr.hydrateRoot=function(t,e,n){if(!cv(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=m2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=p2(e,null,t,1,n??null,i,!1,s,o),t[Ui]=e.current,wu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tm(e)};tr.render=function(t,e,n){if(!nm(e))throw Error(J(200));return rm(null,t,e,!1,n)};tr.unmountComponentAtNode=function(t){if(!nm(t))throw Error(J(40));return t._reactRootContainer?(Zo(function(){rm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ui]=null})}),!0):!1};tr.unstable_batchedUpdates=nv;tr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nm(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return rm(t,e,n,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function g2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g2)}catch(t){console.error(t)}}g2(),gT.exports=tr;var y2=gT.exports;const c3=la(y2);var b2,w1=y2;b2=w1.createRoot,w1.hydrateRoot;let u3={data:""},d3=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||u3},h3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,f3=/\/\*[^]*?\*\/|  +/g,k1=/\n+/g,fs=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?fs(o,s):s+"{"+fs(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=fs(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=fs.p?fs.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},mi={},x2=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+x2(t[n]);return e}return t},p3=(t,e,n,r,i)=>{let s=x2(t),o=mi[s]||(mi[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!mi[o]){let l=s!==t?t:(c=>{let u,d,f=[{}];for(;u=h3.exec(c.replace(f3,""));)u[4]?f.shift():u[3]?(d=u[3].replace(k1," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(k1," ").trim();return f[0]})(t);mi[o]=fs(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&mi.g?mi.g:null;return n&&(mi.g=mi[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(mi[o],e,r,a),o},m3=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":fs(a,""):a===!1?"":a}return r+i+(o??"")},"");function im(t){let e=this||{},n=t.call?t(e.p):t;return p3(n.unshift?n.raw?m3(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,d3(e.target),e.g,e.o,e.k)}let v2,Tb,Cb;im.bind({g:1});let Vi=im.bind({k:1});function g3(t,e,n,r){fs.p=e,v2=t,Tb=n,Cb=r}function eo(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Tb&&Tb()},a),n.o=/ *go\d+/.test(l),a.className=im.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Cb&&c[0]&&Cb(a),v2(c,a)}return i}}var y3=t=>typeof t=="function",Cf=(t,e)=>y3(t)?t(e):t,b3=(()=>{let t=0;return()=>(++t).toString()})(),w2=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),x3=20,uv="default",k2=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return k2(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},Hh=[],E2={toasts:[],pausedAt:void 0,settings:{toastLimit:x3}},oi={},S2=(t,e=uv)=>{oi[e]=k2(oi[e]||E2,t),Hh.forEach(([n,r])=>{n===e&&r(oi[e])})},_2=t=>Object.keys(oi).forEach(e=>S2(t,e)),v3=t=>Object.keys(oi).find(e=>oi[e].toasts.some(n=>n.id===t)),sm=(t=uv)=>e=>{S2(e,t)},w3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},k3=(t={},e=uv)=>{let[n,r]=O.useState(oi[e]||E2),i=O.useRef(oi[e]);O.useEffect(()=>(i.current!==oi[e]&&r(oi[e]),Hh.push([e,r]),()=>{let o=Hh.findIndex(([a])=>a===e);o>-1&&Hh.splice(o,1)}),[e]);let s=n.toasts.map(o=>{var a,l,c;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((a=t[o.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((l=t[o.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||w3[o.type],style:{...t.style,...(c=t[o.type])==null?void 0:c.style,...o.style}}});return{...n,toasts:s}},E3=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||b3()}),dd=t=>(e,n)=>{let r=E3(e,t,n);return sm(r.toasterId||v3(r.id))({type:2,toast:r}),r.id},jt=(t,e)=>dd("blank")(t,e);jt.error=dd("error");jt.success=dd("success");jt.loading=dd("loading");jt.custom=dd("custom");jt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?sm(e)(n):_2(n)};jt.dismissAll=t=>jt.dismiss(void 0,t);jt.remove=(t,e)=>{let n={type:4,toastId:t};e?sm(e)(n):_2(n)};jt.removeAll=t=>jt.remove(void 0,t);jt.promise=(t,e,n)=>{let r=jt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Cf(e.success,i):void 0;return s?jt.success(s,{id:r,...n,...n==null?void 0:n.success}):jt.dismiss(r),i}).catch(i=>{let s=e.error?Cf(e.error,i):void 0;s?jt.error(s,{id:r,...n,...n==null?void 0:n.error}):jt.dismiss(r)}),t};var S3=1e3,_3=(t,e="default")=>{let{toasts:n,pausedAt:r}=k3(t,e),i=O.useRef(new Map).current,s=O.useCallback((d,f=S3)=>{if(i.has(d))return;let p=setTimeout(()=>{i.delete(d),o({type:4,toastId:d})},f);i.set(d,p)},[]);O.useEffect(()=>{if(r)return;let d=Date.now(),f=n.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(d-p.createdAt);if(m<0){p.visible&&jt.dismiss(p.id);return}return setTimeout(()=>jt.dismiss(p.id,e),m)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[n,r,e]);let o=O.useCallback(sm(e),[e]),a=O.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=O.useCallback((d,f)=>{o({type:1,toast:{id:d,height:f}})},[o]),c=O.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),u=O.useCallback((d,f)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:y}=f||{},b=n.filter(v=>(v.position||y)===(d.position||y)&&v.height),g=b.findIndex(v=>v.id===d.id),x=b.filter((v,w)=>w<g&&v.visible).length;return b.filter(v=>v.visible).slice(...p?[x+1]:[0,x]).reduce((v,w)=>v+(w.height||0)+m,0)},[n]);return O.useEffect(()=>{n.forEach(d=>{if(d.dismissed)s(d.id,d.removeDelay);else{let f=i.get(d.id);f&&(clearTimeout(f),i.delete(d.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:c,calculateOffset:u}}},N3=Vi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,T3=Vi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,C3=Vi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,A3=eo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${T3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${C3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,O3=Vi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,I3=eo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${O3} 1s linear infinite;
`,R3=Vi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,M3=Vi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,j3=eo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${R3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${M3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,D3=eo("div")`
  position: absolute;
`,P3=eo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,L3=Vi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$3=eo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${L3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,z3=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?O.createElement($3,null,e):e:n==="blank"?null:O.createElement(P3,null,O.createElement(I3,{...r}),n!=="loading"&&O.createElement(D3,null,n==="error"?O.createElement(A3,{...r}):O.createElement(j3,{...r})))},F3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,B3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,U3="0%{opacity:0;} 100%{opacity:1;}",q3="0%{opacity:1;} 100%{opacity:0;}",H3=eo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,V3=eo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,W3=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=w2()?[U3,q3]:[F3(n),B3(n)];return{animation:e?`${Vi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Vi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},K3=O.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?W3(t.position||e||"top-center",t.visible):{opacity:0},s=O.createElement(z3,{toast:t}),o=O.createElement(V3,{...t.ariaProps},Cf(t.message,t));return O.createElement(H3,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):O.createElement(O.Fragment,null,s,o))});g3(O.createElement);var G3=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=O.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return O.createElement("div",{ref:s,className:e,style:n},i)},Q3=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:w2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},Y3=im`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qd=16,J3=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:c}=_3(n,s);return O.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:qd,left:qd,right:qd,bottom:qd,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),p=Q3(d,f);return O.createElement(G3,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Y3:"",style:p},u.type==="custom"?Cf(u.message,u):i?i(u):O.createElement(K3,{toast:u,position:d}))}))},ie=jt,Zl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Z3={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ys,m0,KN,X3=(KN=class{constructor(){ge(this,ys,Z3);ge(this,m0,!1)}setTimeoutProvider(t){re(this,ys,t)}setTimeout(t,e){return j(this,ys).setTimeout(t,e)}clearTimeout(t){j(this,ys).clearTimeout(t)}setInterval(t,e){return j(this,ys).setInterval(t,e)}clearInterval(t){j(this,ys).clearInterval(t)}},ys=new WeakMap,m0=new WeakMap,KN),So=new X3;function e4(t){setTimeout(t,0)}var Xo=typeof window>"u"||"Deno"in globalThis;function pn(){}function t4(t,e){return typeof t=="function"?t(e):t}function Ab(t){return typeof t=="number"&&t>=0&&t!==1/0}function N2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Bs(t,e){return typeof t=="function"?t(e):t}function ur(t,e){return typeof t=="function"?t(e):t}function E1(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==dv(o,e.options))return!1}else if(!Ou(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function S1(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ea(e.options.mutationKey)!==ea(s))return!1}else if(!Ou(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function dv(t,e){return((e==null?void 0:e.queryKeyHashFn)||ea)(t)}function ea(t){return JSON.stringify(t,(e,n)=>Ob(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ou(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ou(t[n],e[n])):!1}var n4=Object.prototype.hasOwnProperty;function T2(t,e){if(t===e)return t;const n=_1(t)&&_1(e);if(!n&&!(Ob(t)&&Ob(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c],d=t[u],f=e[u];if(d===f){a[u]=d,(n?c<i:n4.call(t,u))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){a[u]=f;continue}const p=T2(d,f);a[u]=p,p===d&&l++}return i===o&&l===i?t:a}function Af(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function _1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ob(t){if(!N1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!N1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function N1(t){return Object.prototype.toString.call(t)==="[object Object]"}function r4(t){return new Promise(e=>{So.setTimeout(e,t)})}function Ib(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?T2(t,e):e}function i4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function s4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var hv=Symbol();function C2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===hv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function A2(t,e){return typeof t=="function"?t(...e):!!t}var Oo,bs,ul,GN,o4=(GN=class extends Zl{constructor(){super();ge(this,Oo);ge(this,bs);ge(this,ul);re(this,ul,e=>{if(!Xo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,bs)||this.setEventListener(j(this,ul))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,bs))==null||e.call(this),re(this,bs,void 0))}setEventListener(e){var n;re(this,ul,e),(n=j(this,bs))==null||n.call(this),re(this,bs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,Oo)!==e&&(re(this,Oo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof j(this,Oo)=="boolean"?j(this,Oo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oo=new WeakMap,bs=new WeakMap,ul=new WeakMap,GN),fv=new o4;function Rb(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var a4=e4;function l4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a4;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Dt=l4(),dl,xs,hl,QN,c4=(QN=class extends Zl{constructor(){super();ge(this,dl,!0);ge(this,xs);ge(this,hl);re(this,hl,e=>{if(!Xo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,xs)||this.setEventListener(j(this,hl))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,xs))==null||e.call(this),re(this,xs,void 0))}setEventListener(e){var n;re(this,hl,e),(n=j(this,xs))==null||n.call(this),re(this,xs,e(this.setOnline.bind(this)))}setOnline(e){j(this,dl)!==e&&(re(this,dl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,dl)}},dl=new WeakMap,xs=new WeakMap,hl=new WeakMap,QN),Of=new c4;function u4(t){return Math.min(1e3*2**t,3e4)}function O2(t){return(t??"online")==="online"?Of.isOnline():!0}var Mb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function I2(t){let e=!1,n=0,r;const i=Rb(),s=()=>i.status!=="pending",o=y=>{var b;if(!s()){const g=new Mb(y);f(g),(b=t.onCancel)==null||b.call(t,g)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>fv.isFocused()&&(t.networkMode==="always"||Of.isOnline())&&t.canRun(),u=()=>O2(t.networkMode)&&t.canRun(),d=y=>{s()||(r==null||r(),i.resolve(y))},f=y=>{s()||(r==null||r(),i.reject(y))},p=()=>new Promise(y=>{var b;r=g=>{(s()||c())&&y(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;r=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(d).catch(g=>{var E;if(s())return;const x=t.retry??(Xo?0:3),v=t.retryDelay??u4,w=typeof v=="function"?v(n,g):v,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,g);if(e||!S){f(g);return}n++,(E=t.onFail)==null||E.call(t,n,g),r4(w).then(()=>c()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():p().then(m),i)}}var Io,YN,R2=(YN=class{constructor(){ge(this,Io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ab(this.gcTime)&&re(this,Io,So.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xo?1/0:5*60*1e3))}clearGcTimeout(){j(this,Io)&&(So.clearTimeout(j(this,Io)),re(this,Io,void 0))}},Io=new WeakMap,YN),Ro,fl,cr,Mo,Lt,td,jo,Tr,vi,JN,d4=(JN=class extends R2{constructor(e){super();ge(this,Tr);ge(this,Ro);ge(this,fl);ge(this,cr);ge(this,Mo);ge(this,Lt);ge(this,td);ge(this,jo);re(this,jo,!1),re(this,td,e.defaultOptions),this.setOptions(e.options),this.observers=[],re(this,Mo,e.client),re(this,cr,j(this,Mo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,re(this,Ro,T1(this.options)),this.state=e.state??j(this,Ro),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=j(this,Lt))==null?void 0:e.promise}setOptions(e){if(this.options={...j(this,td),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=T1(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),re(this,Ro,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,cr).remove(this)}setData(e,n){const r=Ib(this.state.data,e,this.options);return Ce(this,Tr,vi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ce(this,Tr,vi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=j(this,Lt))==null?void 0:r.promise;return(i=j(this,Lt))==null||i.cancel(e),n?n.then(pn).catch(pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,Ro))}isActive(){return this.observers.some(e=>ur(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Bs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!N2(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=j(this,Lt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=j(this,Lt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),j(this,cr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(j(this,Lt)&&(j(this,jo)?j(this,Lt).cancel({revert:!0}):j(this,Lt).cancelRetry()),this.scheduleGc()),j(this,cr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ce(this,Tr,vi).call(this,{type:"invalidate"})}async fetch(e,n){var l,c,u,d,f,p,m,y,b,g,x,v;if(this.state.fetchStatus!=="idle"&&((l=j(this,Lt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(j(this,Lt))return j(this,Lt).continueRetry(),j(this,Lt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(S=>S.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(re(this,jo,!0),r.signal)})},s=()=>{const w=C2(this.options,n),E=(()=>{const C={client:j(this,Mo),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return re(this,jo,!1),this.options.persister?this.options.persister(w,E,this):w(E)},a=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:j(this,Mo),state:this.state,fetchFn:s};return i(w),w})();(c=this.options.behavior)==null||c.onFetch(a,this),re(this,fl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Ce(this,Tr,vi).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),re(this,Lt,I2({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:w=>{w instanceof Mb&&w.revert&&this.setState({...j(this,fl),fetchStatus:"idle"}),r.abort()},onFail:(w,S)=>{Ce(this,Tr,vi).call(this,{type:"failed",failureCount:w,error:S})},onPause:()=>{Ce(this,Tr,vi).call(this,{type:"pause"})},onContinue:()=>{Ce(this,Tr,vi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const w=await j(this,Lt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=j(this,cr).config).onSuccess)==null||p.call(f,w,this),(y=(m=j(this,cr).config).onSettled)==null||y.call(m,w,this.state.error,this),w}catch(w){if(w instanceof Mb){if(w.silent)return j(this,Lt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw Ce(this,Tr,vi).call(this,{type:"error",error:w}),(g=(b=j(this,cr).config).onError)==null||g.call(b,w,this),(v=(x=j(this,cr).config).onSettled)==null||v.call(x,this.state.data,w,this),w}finally{this.scheduleGc()}}},Ro=new WeakMap,fl=new WeakMap,cr=new WeakMap,Mo=new WeakMap,Lt=new WeakMap,td=new WeakMap,jo=new WeakMap,Tr=new WeakSet,vi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...M2(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return re(this,fl,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Dt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),j(this,cr).notify({query:this,type:"updated",action:e})})},JN);function M2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:O2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function T1(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Nn,De,nd,un,Do,pl,Ni,vs,rd,ml,gl,Po,Lo,ws,yl,qe,Oc,jb,Db,Pb,Lb,$b,zb,Fb,j2,ZN,h4=(ZN=class extends Zl{constructor(e,n){super();ge(this,qe);ge(this,Nn);ge(this,De);ge(this,nd);ge(this,un);ge(this,Do);ge(this,pl);ge(this,Ni);ge(this,vs);ge(this,rd);ge(this,ml);ge(this,gl);ge(this,Po);ge(this,Lo);ge(this,ws);ge(this,yl,new Set);this.options=n,re(this,Nn,e),re(this,vs,null),re(this,Ni,Rb()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,De).addObserver(this),C1(j(this,De),this.options)?Ce(this,qe,Oc).call(this):this.updateResult(),Ce(this,qe,Lb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bb(j(this,De),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bb(j(this,De),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ce(this,qe,$b).call(this),Ce(this,qe,zb).call(this),j(this,De).removeObserver(this)}setOptions(e){const n=this.options,r=j(this,De);if(this.options=j(this,Nn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ur(this.options.enabled,j(this,De))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ce(this,qe,Fb).call(this),j(this,De).setOptions(this.options),n._defaulted&&!Af(this.options,n)&&j(this,Nn).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,De),observer:this});const i=this.hasListeners();i&&A1(j(this,De),r,this.options,n)&&Ce(this,qe,Oc).call(this),this.updateResult(),i&&(j(this,De)!==r||ur(this.options.enabled,j(this,De))!==ur(n.enabled,j(this,De))||Bs(this.options.staleTime,j(this,De))!==Bs(n.staleTime,j(this,De)))&&Ce(this,qe,jb).call(this);const s=Ce(this,qe,Db).call(this);i&&(j(this,De)!==r||ur(this.options.enabled,j(this,De))!==ur(n.enabled,j(this,De))||s!==j(this,ws))&&Ce(this,qe,Pb).call(this,s)}getOptimisticResult(e){const n=j(this,Nn).getQueryCache().build(j(this,Nn),e),r=this.createResult(n,e);return p4(this,r)&&(re(this,un,r),re(this,pl,this.options),re(this,Do,j(this,De).state)),r}getCurrentResult(){return j(this,un)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&j(this,Ni).status==="pending"&&j(this,Ni).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){j(this,yl).add(e)}getCurrentQuery(){return j(this,De)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=j(this,Nn).defaultQueryOptions(e),r=j(this,Nn).getQueryCache().build(j(this,Nn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ce(this,qe,Oc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,un)))}createResult(e,n){var A;const r=j(this,De),i=this.options,s=j(this,un),o=j(this,Do),a=j(this,pl),c=e!==r?e.state:j(this,nd),{state:u}=e;let d={...u},f=!1,p;if(n._optimisticResults){const N=this.hasListeners(),z=!N&&C1(e,n),F=N&&A1(e,r,n,i);(z||F)&&(d={...d,...M2(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=d;p=d.data;let g=!1;if(n.placeholderData!==void 0&&p===void 0&&b==="pending"){let N;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(N=s.data,g=!0):N=typeof n.placeholderData=="function"?n.placeholderData((A=j(this,gl))==null?void 0:A.state.data,j(this,gl)):n.placeholderData,N!==void 0&&(b="success",p=Ib(s==null?void 0:s.data,N,n),f=!0)}if(n.select&&p!==void 0&&!g)if(s&&p===(o==null?void 0:o.data)&&n.select===j(this,rd))p=j(this,ml);else try{re(this,rd,n.select),p=n.select(p),p=Ib(s==null?void 0:s.data,p,n),re(this,ml,p),re(this,vs,null)}catch(N){re(this,vs,N)}j(this,vs)&&(m=j(this,vs),p=j(this,ml),y=Date.now(),b="error");const x=d.fetchStatus==="fetching",v=b==="pending",w=b==="error",S=v&&x,E=p!==void 0,T={status:b,fetchStatus:d.fetchStatus,isPending:v,isSuccess:b==="success",isError:w,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:w&&!E,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&E,isStale:pv(e,n),refetch:this.refetch,promise:j(this,Ni),isEnabled:ur(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const N=q=>{T.status==="error"?q.reject(T.error):T.data!==void 0&&q.resolve(T.data)},z=()=>{const q=re(this,Ni,T.promise=Rb());N(q)},F=j(this,Ni);switch(F.status){case"pending":e.queryHash===r.queryHash&&N(F);break;case"fulfilled":(T.status==="error"||T.data!==F.value)&&z();break;case"rejected":(T.status!=="error"||T.error!==F.reason)&&z();break}}return T}updateResult(){const e=j(this,un),n=this.createResult(j(this,De),this.options);if(re(this,Do,j(this,De).state),re(this,pl,this.options),j(this,Do).data!==void 0&&re(this,gl,j(this,De)),Af(n,e))return;re(this,un,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!j(this,yl).size)return!0;const o=new Set(s??j(this,yl));return this.options.throwOnError&&o.add("error"),Object.keys(j(this,un)).some(a=>{const l=a;return j(this,un)[l]!==e[l]&&o.has(l)})};Ce(this,qe,j2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ce(this,qe,Lb).call(this)}},Nn=new WeakMap,De=new WeakMap,nd=new WeakMap,un=new WeakMap,Do=new WeakMap,pl=new WeakMap,Ni=new WeakMap,vs=new WeakMap,rd=new WeakMap,ml=new WeakMap,gl=new WeakMap,Po=new WeakMap,Lo=new WeakMap,ws=new WeakMap,yl=new WeakMap,qe=new WeakSet,Oc=function(e){Ce(this,qe,Fb).call(this);let n=j(this,De).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(pn)),n},jb=function(){Ce(this,qe,$b).call(this);const e=Bs(this.options.staleTime,j(this,De));if(Xo||j(this,un).isStale||!Ab(e))return;const r=N2(j(this,un).dataUpdatedAt,e)+1;re(this,Po,So.setTimeout(()=>{j(this,un).isStale||this.updateResult()},r))},Db=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,De)):this.options.refetchInterval)??!1},Pb=function(e){Ce(this,qe,zb).call(this),re(this,ws,e),!(Xo||ur(this.options.enabled,j(this,De))===!1||!Ab(j(this,ws))||j(this,ws)===0)&&re(this,Lo,So.setInterval(()=>{(this.options.refetchIntervalInBackground||fv.isFocused())&&Ce(this,qe,Oc).call(this)},j(this,ws)))},Lb=function(){Ce(this,qe,jb).call(this),Ce(this,qe,Pb).call(this,Ce(this,qe,Db).call(this))},$b=function(){j(this,Po)&&(So.clearTimeout(j(this,Po)),re(this,Po,void 0))},zb=function(){j(this,Lo)&&(So.clearInterval(j(this,Lo)),re(this,Lo,void 0))},Fb=function(){const e=j(this,Nn).getQueryCache().build(j(this,Nn),this.options);if(e===j(this,De))return;const n=j(this,De);re(this,De,e),re(this,nd,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},j2=function(e){Dt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(j(this,un))}),j(this,Nn).getQueryCache().notify({query:j(this,De),type:"observerResultsUpdated"})})},ZN);function f4(t,e){return ur(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function C1(t,e){return f4(t,e)||t.state.data!==void 0&&Bb(t,e,e.refetchOnMount)}function Bb(t,e,n){if(ur(e.enabled,t)!==!1&&Bs(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&pv(t,e)}return!1}function A1(t,e,n,r){return(t!==e||ur(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&pv(t,n)}function pv(t,e){return ur(e.enabled,t)!==!1&&t.isStaleByTime(Bs(e.staleTime,t))}function p4(t,e){return!Af(t.getCurrentResult(),e)}function O1(t){return{onFetch:(e,n)=>{var u,d,f,p,m;const r=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const b=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},g=C2(e.options,e.fetchOptions),x=async(v,w,S)=>{if(y)return Promise.reject();if(w==null&&v.pages.length)return Promise.resolve(v);const C=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:w,direction:S?"backward":"forward",meta:e.options.meta};return b(z),z})(),T=await g(C),{maxPages:A}=e.options,N=S?s4:i4;return{pages:N(v.pages,T,A),pageParams:N(v.pageParams,w,A)}};if(i&&s.length){const v=i==="backward",w=v?m4:I1,S={pages:s,pageParams:o},E=w(r,S);a=await x(S,E,v)}else{const v=t??s.length;do{const w=l===0?o[0]??r.initialPageParam:I1(r,a);if(l>0&&w==null)break;a=await x(a,w),l++}while(l<v)}return a};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function I1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function m4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var id,ti,dn,$o,ni,ns,XN,g4=(XN=class extends R2{constructor(e){super();ge(this,ni);ge(this,id);ge(this,ti);ge(this,dn);ge(this,$o);re(this,id,e.client),this.mutationId=e.mutationId,re(this,dn,e.mutationCache),re(this,ti,[]),this.state=e.state||D2(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){j(this,ti).includes(e)||(j(this,ti).push(e),this.clearGcTimeout(),j(this,dn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){re(this,ti,j(this,ti).filter(n=>n!==e)),this.scheduleGc(),j(this,dn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){j(this,ti).length||(this.state.status==="pending"?this.scheduleGc():j(this,dn).remove(this))}continue(){var e;return((e=j(this,$o))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,d,f,p,m,y,b,g,x,v,w,S,E,C,T,A;const n=()=>{Ce(this,ni,ns).call(this,{type:"continue"})},r={client:j(this,id),meta:this.options.meta,mutationKey:this.options.mutationKey};re(this,$o,I2({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(N,z)=>{Ce(this,ni,ns).call(this,{type:"failed",failureCount:N,error:z})},onPause:()=>{Ce(this,ni,ns).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,dn).canRun(this)}));const i=this.state.status==="pending",s=!j(this,$o).canStart();try{if(i)n();else{Ce(this,ni,ns).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=j(this,dn).config).onMutate)==null?void 0:a.call(o,e,this,r));const z=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,r));z!==this.state.context&&Ce(this,ni,ns).call(this,{type:"pending",context:z,variables:e,isPaused:s})}const N=await j(this,$o).start();return await((d=(u=j(this,dn).config).onSuccess)==null?void 0:d.call(u,N,e,this.state.context,this,r)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,N,e,this.state.context,r)),await((y=(m=j(this,dn).config).onSettled)==null?void 0:y.call(m,N,null,this.state.variables,this.state.context,this,r)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,N,null,e,this.state.context,r)),Ce(this,ni,ns).call(this,{type:"success",data:N}),N}catch(N){try{throw await((v=(x=j(this,dn).config).onError)==null?void 0:v.call(x,N,e,this.state.context,this,r)),await((S=(w=this.options).onError)==null?void 0:S.call(w,N,e,this.state.context,r)),await((C=(E=j(this,dn).config).onSettled)==null?void 0:C.call(E,void 0,N,this.state.variables,this.state.context,this,r)),await((A=(T=this.options).onSettled)==null?void 0:A.call(T,void 0,N,e,this.state.context,r)),N}finally{Ce(this,ni,ns).call(this,{type:"error",error:N})}}finally{j(this,dn).runNext(this)}}},id=new WeakMap,ti=new WeakMap,dn=new WeakMap,$o=new WeakMap,ni=new WeakSet,ns=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Dt.batch(()=>{j(this,ti).forEach(r=>{r.onMutationUpdate(e)}),j(this,dn).notify({mutation:this,type:"updated",action:e})})},XN);function D2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ti,Cr,sd,eT,y4=(eT=class extends Zl{constructor(e={}){super();ge(this,Ti);ge(this,Cr);ge(this,sd);this.config=e,re(this,Ti,new Set),re(this,Cr,new Map),re(this,sd,0)}build(e,n,r){const i=new g4({client:e,mutationCache:this,mutationId:++_d(this,sd)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){j(this,Ti).add(e);const n=Hd(e);if(typeof n=="string"){const r=j(this,Cr).get(n);r?r.push(e):j(this,Cr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(j(this,Ti).delete(e)){const n=Hd(e);if(typeof n=="string"){const r=j(this,Cr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&j(this,Cr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Hd(e);if(typeof n=="string"){const r=j(this,Cr).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Hd(e);if(typeof n=="string"){const i=(r=j(this,Cr).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dt.batch(()=>{j(this,Ti).forEach(e=>{this.notify({type:"removed",mutation:e})}),j(this,Ti).clear(),j(this,Cr).clear()})}getAll(){return Array.from(j(this,Ti))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>S1(n,r))}findAll(e={}){return this.getAll().filter(n=>S1(e,n))}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(pn))))}},Ti=new WeakMap,Cr=new WeakMap,sd=new WeakMap,eT);function Hd(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ci,ks,Tn,Ai,Fi,Vh,Ub,tT,b4=(tT=class extends Zl{constructor(n,r){super();ge(this,Fi);ge(this,Ci);ge(this,ks);ge(this,Tn);ge(this,Ai);re(this,Ci,n),this.setOptions(r),this.bindMethods(),Ce(this,Fi,Vh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=j(this,Ci).defaultMutationOptions(n),Af(this.options,r)||j(this,Ci).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,Tn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ea(r.mutationKey)!==ea(this.options.mutationKey)?this.reset():((i=j(this,Tn))==null?void 0:i.state.status)==="pending"&&j(this,Tn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=j(this,Tn))==null||n.removeObserver(this)}onMutationUpdate(n){Ce(this,Fi,Vh).call(this),Ce(this,Fi,Ub).call(this,n)}getCurrentResult(){return j(this,ks)}reset(){var n;(n=j(this,Tn))==null||n.removeObserver(this),re(this,Tn,void 0),Ce(this,Fi,Vh).call(this),Ce(this,Fi,Ub).call(this)}mutate(n,r){var i;return re(this,Ai,r),(i=j(this,Tn))==null||i.removeObserver(this),re(this,Tn,j(this,Ci).getMutationCache().build(j(this,Ci),this.options)),j(this,Tn).addObserver(this),j(this,Tn).execute(n)}},Ci=new WeakMap,ks=new WeakMap,Tn=new WeakMap,Ai=new WeakMap,Fi=new WeakSet,Vh=function(){var r;const n=((r=j(this,Tn))==null?void 0:r.state)??D2();re(this,ks,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ub=function(n){Dt.batch(()=>{var r,i,s,o,a,l,c,u;if(j(this,Ai)&&this.hasListeners()){const d=j(this,ks).variables,f=j(this,ks).context,p={client:j(this,Ci),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=j(this,Ai)).onSuccess)==null||i.call(r,n.data,d,f,p),(o=(s=j(this,Ai)).onSettled)==null||o.call(s,n.data,null,d,f,p)):(n==null?void 0:n.type)==="error"&&((l=(a=j(this,Ai)).onError)==null||l.call(a,n.error,d,f,p),(u=(c=j(this,Ai)).onSettled)==null||u.call(c,void 0,n.error,d,f,p))}this.listeners.forEach(d=>{d(j(this,ks))})})},tT),ri,nT,x4=(nT=class extends Zl{constructor(e={}){super();ge(this,ri);this.config=e,re(this,ri,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??dv(i,n);let o=this.get(s);return o||(o=new d4({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){j(this,ri).has(e.queryHash)||(j(this,ri).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=j(this,ri).get(e.queryHash);n&&(e.destroy(),n===e&&j(this,ri).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,ri).get(e)}getAll(){return[...j(this,ri).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>E1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>E1(e,r)):n}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ri=new WeakMap,nT),mt,Es,Ss,bl,xl,_s,vl,wl,rT,v4=(rT=class{constructor(t={}){ge(this,mt);ge(this,Es);ge(this,Ss);ge(this,bl);ge(this,xl);ge(this,_s);ge(this,vl);ge(this,wl);re(this,mt,t.queryCache||new x4),re(this,Es,t.mutationCache||new y4),re(this,Ss,t.defaultOptions||{}),re(this,bl,new Map),re(this,xl,new Map),re(this,_s,0)}mount(){_d(this,_s)._++,j(this,_s)===1&&(re(this,vl,fv.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,mt).onFocus())})),re(this,wl,Of.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,mt).onOnline())})))}unmount(){var t,e;_d(this,_s)._--,j(this,_s)===0&&((t=j(this,vl))==null||t.call(this),re(this,vl,void 0),(e=j(this,wl))==null||e.call(this),re(this,wl,void 0))}isFetching(t){return j(this,mt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,Es).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,mt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=j(this,mt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Bs(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return j(this,mt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=j(this,mt).get(r.queryHash),s=i==null?void 0:i.state.data,o=t4(e,s);if(o!==void 0)return j(this,mt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Dt.batch(()=>j(this,mt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,mt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=j(this,mt);Dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=j(this,mt);return Dt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Dt.batch(()=>j(this,mt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(pn).catch(pn)}invalidateQueries(t,e={}){return Dt.batch(()=>(j(this,mt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Dt.batch(()=>j(this,mt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(pn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(pn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=j(this,mt).build(this,e);return n.isStaleByTime(Bs(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(pn).catch(pn)}fetchInfiniteQuery(t){return t.behavior=O1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(pn).catch(pn)}ensureInfiniteQueryData(t){return t.behavior=O1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Of.isOnline()?j(this,Es).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,mt)}getMutationCache(){return j(this,Es)}getDefaultOptions(){return j(this,Ss)}setDefaultOptions(t){re(this,Ss,t)}setQueryDefaults(t,e){j(this,bl).set(ea(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,bl).values()],n={};return e.forEach(r=>{Ou(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){j(this,xl).set(ea(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,xl).values()],n={};return e.forEach(r=>{Ou(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,Ss).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===hv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,Ss).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,mt).clear(),j(this,Es).clear()}},mt=new WeakMap,Es=new WeakMap,Ss=new WeakMap,bl=new WeakMap,xl=new WeakMap,_s=new WeakMap,vl=new WeakMap,wl=new WeakMap,rT),P2=O.createContext(void 0),om=t=>{const e=O.useContext(P2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},w4=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(P2.Provider,{value:t,children:e})),L2=O.createContext(!1),k4=()=>O.useContext(L2);L2.Provider;function E4(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var S4=O.createContext(E4()),_4=()=>O.useContext(S4),N4=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},T4=t=>{O.useEffect(()=>{t.clearReset()},[t])},C4=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||A2(n,[t.error,r])),A4=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},O4=(t,e)=>t.isLoading&&t.isFetching&&!e,I4=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,R1=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function R4(t,e,n){var d,f,p,m,y;const r=k4(),i=_4(),s=om(),o=s.defaultQueryOptions(t);(f=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",A4(o),N4(o,i),T4(i);const a=!s.getQueryCache().get(o.queryHash),[l]=O.useState(()=>new e(s,o)),c=l.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(b=>{const g=u?l.subscribe(Dt.batchCalls(b)):pn;return l.updateResult(),g},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),O.useEffect(()=>{l.setOptions(o)},[o,l]),I4(o,c))throw R1(o,l,i);if(C4({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((m=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,o,c),o.experimental_prefetchInRender&&!Xo&&O4(c,r)){const b=a?R1(o,l,i):(y=s.getQueryCache().get(o.queryHash))==null?void 0:y.promise;b==null||b.catch(pn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function hd(t,e){return R4(t,h4)}function $2(t,e){const n=om(),[r]=O.useState(()=>new b4(n,t));O.useEffect(()=>{r.setOptions(t)},[r,t]);const i=O.useSyncExternalStore(O.useCallback(o=>r.subscribe(Dt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=O.useCallback((o,a)=>{r.mutate(o,a).catch(pn)},[r]);if(i.error&&A2(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const M4=new v4({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,refetchOnWindowFocus:!1,retry:1},mutations:{retry:1}}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>O.createElement("svg",{ref:u,...j4,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${D4(t)}`,a].join(" "),...c},[...e.map(([d,f])=>O.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=ne("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=ne("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=ne("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=ne("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=ne("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=ne("FileQuestion",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=ne("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=ne("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=ne("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=ne("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=ne("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=ne("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ne("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=ne("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=ne("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=ne("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=ne("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=ne("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ne("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=ne("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=ne("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=ne("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ne("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),a$={primary:"255 99 132",primaryForeground:"255 255 255",secondary:"129 140 248",secondaryForeground:"255 255 255",accent:"244 114 182",accentForeground:"255 255 255",background:"10 10 15",foreground:"241 245 249",card:"15 20 30",cardForeground:"241 245 249",muted:"30 41 59",mutedForeground:"148 163 184",border:"51 65 85",input:"51 65 85",ring:"129 140 248",success:"74 222 128",warning:"251 191 36",error:"248 113 113"},l$={primary:"255 99 132",primaryForeground:"255 255 255",secondary:"99 102 241",secondaryForeground:"255 255 255",accent:"236 72 153",accentForeground:"255 255 255",background:"255 255 255",foreground:"15 23 42",card:"248 250 252",cardForeground:"15 23 42",muted:"241 245 249",mutedForeground:"100 116 139",border:"226 232 240",input:"226 232 240",ring:"99 102 241",success:"34 197 94",warning:"234 179 8",error:"239 68 68"};function c$(t){const e=document.documentElement;Object.entries(t==="dark"?a$:l$).forEach(([r,i])=>{e.style.setProperty(`--color-${r}`,i)}),e.setAttribute("data-theme",t),t==="dark"?e.classList.add("dark"):e.classList.remove("dark")}const W2=O.createContext(void 0);function u$({children:t}){const[e,n]=O.useState(()=>{const i=localStorage.getItem("slidetutor_theme");return i==="light"||i==="dark"?i:"dark"});O.useEffect(()=>{c$(e),localStorage.setItem("slidetutor_theme",e)},[e]);const r=()=>{n(i=>i==="dark"?"light":"dark")};return h.jsx(W2.Provider,{value:{theme:e,toggleTheme:r},children:t})}function d$(){const t=O.useContext(W2);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}function K2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=K2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function h$(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=K2(t))&&(r&&(r+=" "),r+=e);return r}const wv="-",f$=t=>{const e=m$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(wv);return a[0]===""&&a.length!==1&&a.shift(),G2(a,e)||p$(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},G2=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?G2(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(wv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},q1=/^\[(.+)\]$/,p$=t=>{if(q1.test(t)){const e=q1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},m$=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Vb(n[i],r,i,e);return r},Vb=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:H1(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(g$(i)){Vb(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Vb(o,H1(e,s),n,r)})})},H1=(t,e)=>{let n=t;return e.split(wv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},g$=t=>t.isThemeGetter,y$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Wb="!",Kb=":",b$=Kb.length,x$=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,c;for(let m=0;m<i.length;m++){let y=i[m];if(o===0&&a===0){if(y===Kb){s.push(i.slice(l,m)),l=m+b$;continue}if(y==="/"){c=m;continue}}y==="["?o++:y==="]"?o--:y==="("?a++:y===")"&&a--}const u=s.length===0?i:i.substring(l),d=v$(u),f=d!==u,p=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:p}};if(e){const i=e+Kb,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},v$=t=>t.endsWith(Wb)?t.substring(0,t.length-1):t.startsWith(Wb)?t.substring(1):t,w$=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},k$=t=>({cache:y$(t.cacheSize),parseClassName:x$(t),sortModifiers:w$(t),...f$(t)}),E$=/\s+/,S$=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(E$);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let b=!!y,g=r(b?m.substring(0,y):m);if(!g){if(!b){l=u+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=u+(l.length>0?" "+l:l);continue}b=!1}const x=s(f).join(":"),v=p?x+Wb:x,w=v+g;if(o.includes(w))continue;o.push(w);const S=i(g,b);for(let E=0;E<S.length;++E){const C=S[E];o.push(v+C)}l=u+(l.length>0?" "+l:l)}return l};function _$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Q2(e))&&(r&&(r+=" "),r+=n);return r}const Q2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Q2(t[r]))&&(n&&(n+=" "),n+=e);return n};function N$(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=k$(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=S$(l,n);return i(l,u),u}return function(){return s(_$.apply(null,arguments))}}const It=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Y2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,J2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,T$=/^\d+\/\d+$/,C$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,O$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,I$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xa=t=>T$.test(t),Re=t=>!!t&&!Number.isNaN(Number(t)),Ji=t=>!!t&&Number.isInteger(Number(t)),xg=t=>t.endsWith("%")&&Re(t.slice(0,-1)),gi=t=>C$.test(t),M$=()=>!0,j$=t=>A$.test(t)&&!O$.test(t),Z2=()=>!1,D$=t=>I$.test(t),P$=t=>R$.test(t),L$=t=>!ce(t)&&!ue(t),$$=t=>ec(t,tA,Z2),ce=t=>Y2.test(t),oo=t=>ec(t,nA,j$),vg=t=>ec(t,q$,Re),V1=t=>ec(t,X2,Z2),z$=t=>ec(t,eA,P$),Vd=t=>ec(t,rA,D$),ue=t=>J2.test(t),yc=t=>tc(t,nA),F$=t=>tc(t,H$),W1=t=>tc(t,X2),B$=t=>tc(t,tA),U$=t=>tc(t,eA),Wd=t=>tc(t,rA,!0),ec=(t,e,n)=>{const r=Y2.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},tc=(t,e,n=!1)=>{const r=J2.exec(t);return r?r[1]?e(r[1]):n:!1},X2=t=>t==="position"||t==="percentage",eA=t=>t==="image"||t==="url",tA=t=>t==="length"||t==="size"||t==="bg-size",nA=t=>t==="length",q$=t=>t==="number",H$=t=>t==="family-name",rA=t=>t==="shadow",V$=()=>{const t=It("color"),e=It("font"),n=It("text"),r=It("font-weight"),i=It("tracking"),s=It("leading"),o=It("breakpoint"),a=It("container"),l=It("spacing"),c=It("radius"),u=It("shadow"),d=It("inset-shadow"),f=It("text-shadow"),p=It("drop-shadow"),m=It("blur"),y=It("perspective"),b=It("aspect"),g=It("ease"),x=It("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...w(),ue,ce],E=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],T=()=>[ue,ce,l],A=()=>[xa,"full","auto",...T()],N=()=>[Ji,"none","subgrid",ue,ce],z=()=>["auto",{span:["full",Ji,ue,ce]},Ji,ue,ce],F=()=>[Ji,"auto",ue,ce],q=()=>["auto","min","max","fr",ue,ce],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...T()],P=()=>[xa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],I=()=>[t,ue,ce],M=()=>[...w(),W1,V1,{position:[ue,ce]}],k=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",B$,$$,{size:[ue,ce]}],U=()=>[xg,yc,oo],_=()=>["","none","full",c,ue,ce],W=()=>["",Re,yc,oo],pe=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[Re,xg,W1,V1],Ee=()=>["","none",m,ue,ce],Ke=()=>["none",Re,ue,ce],He=()=>["none",Re,ue,ce],Ge=()=>[Re,ue,ce],Ot=()=>[xa,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gi],breakpoint:[gi],color:[M$],container:[gi],"drop-shadow":[gi],ease:["in","out","in-out"],font:[L$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gi],shadow:[gi],spacing:["px",Re],text:[gi],"text-shadow":[gi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xa,ce,ue,b]}],container:["container"],columns:[{columns:[Re,ce,ue,a]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Ji,"auto",ue,ce]}],basis:[{basis:[xa,"full","auto",a,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Re,xa,"auto","initial","none",ce]}],grow:[{grow:["",Re,ue,ce]}],shrink:[{shrink:["",Re,ue,ce]}],order:[{order:[Ji,"first","last","none",ue,ce]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[a,"screen",...P()]}],"min-w":[{"min-w":[a,"screen","none",...P()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",n,yc,oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ue,vg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xg,ce]}],"font-family":[{font:[F$,ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ue,ce]}],"line-clamp":[{"line-clamp":[Re,"none",ue,vg]}],leading:[{leading:[s,...T()]}],"list-image":[{"list-image":["none",ue,ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ue,ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Re,"from-font","auto",ue,oo]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Re,"auto",ue,ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue,ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue,ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:k()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ji,ue,ce],radial:["",ue,ce],conic:[Ji,ue,ce]},U$,z$]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:_()}],"rounded-s":[{"rounded-s":_()}],"rounded-e":[{"rounded-e":_()}],"rounded-t":[{"rounded-t":_()}],"rounded-r":[{"rounded-r":_()}],"rounded-b":[{"rounded-b":_()}],"rounded-l":[{"rounded-l":_()}],"rounded-ss":[{"rounded-ss":_()}],"rounded-se":[{"rounded-se":_()}],"rounded-ee":[{"rounded-ee":_()}],"rounded-es":[{"rounded-es":_()}],"rounded-tl":[{"rounded-tl":_()}],"rounded-tr":[{"rounded-tr":_()}],"rounded-br":[{"rounded-br":_()}],"rounded-bl":[{"rounded-bl":_()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Re,ue,ce]}],"outline-w":[{outline:["",Re,yc,oo]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",u,Wd,Vd]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",d,Wd,Vd]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Re,oo]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",f,Wd,Vd]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Re,ue,ce]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Re]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[ue,ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[Re]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:k()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ue,ce]}],filter:[{filter:["","none",ue,ce]}],blur:[{blur:Ee()}],brightness:[{brightness:[Re,ue,ce]}],contrast:[{contrast:[Re,ue,ce]}],"drop-shadow":[{"drop-shadow":["","none",p,Wd,Vd]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Re,ue,ce]}],"hue-rotate":[{"hue-rotate":[Re,ue,ce]}],invert:[{invert:["",Re,ue,ce]}],saturate:[{saturate:[Re,ue,ce]}],sepia:[{sepia:["",Re,ue,ce]}],"backdrop-filter":[{"backdrop-filter":["","none",ue,ce]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[Re,ue,ce]}],"backdrop-contrast":[{"backdrop-contrast":[Re,ue,ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Re,ue,ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Re,ue,ce]}],"backdrop-invert":[{"backdrop-invert":["",Re,ue,ce]}],"backdrop-opacity":[{"backdrop-opacity":[Re,ue,ce]}],"backdrop-saturate":[{"backdrop-saturate":[Re,ue,ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Re,ue,ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ue,ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Re,"initial",ue,ce]}],ease:[{ease:["linear","initial",g,ue,ce]}],delay:[{delay:[Re,ue,ce]}],animate:[{animate:["none",x,ue,ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ue,ce]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:Ke()}],"rotate-x":[{"rotate-x":Ke()}],"rotate-y":[{"rotate-y":Ke()}],"rotate-z":[{"rotate-z":Ke()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:Ge()}],"skew-x":[{"skew-x":Ge()}],"skew-y":[{"skew-y":Ge()}],transform:[{transform:[ue,ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ot()}],"translate-x":[{"translate-x":Ot()}],"translate-y":[{"translate-y":Ot()}],"translate-z":[{"translate-z":Ot()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue,ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue,ce]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Re,yc,oo,vg]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},W$=N$(V$);function fe(...t){return W$(h$(t))}function K$(t){if(!t)return"N/A";try{const e=new Date(t);return isNaN(e.getTime())?"Invalid date":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)}catch{return"Invalid date"}}function G$(t){if(!t)return"N/A";try{const e=new Date,n=new Date(t);if(isNaN(n.getTime()))return"Invalid date";const r=Math.floor((e.getTime()-n.getTime())/1e3);return r<60?"just now":r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:r<604800?`${Math.floor(r/86400)}d ago`:K$(t)}catch{return"Invalid date"}}var Gb=function(t,e){return Gb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Gb(t,e)};function iA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Gb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Mf=function(){return Mf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mf.apply(this,arguments)};function nc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sA(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function oA(t,e){return function(n,r){e(n,r,t)}}function aA(t,e,n,r,i,s){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,p=n.length-1;p>=0;p--){var m={};for(var y in r)m[y]=y==="access"?{}:r[y];for(var y in r.access)m.access[y]=r.access[y];m.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(g||null))};var b=(0,n[p])(a==="accessor"?{get:u.get,set:u.set}:u[l],m);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=o(b.get))&&(u.get=d),(d=o(b.set))&&(u.set=d),(d=o(b.init))&&i.unshift(d)}else(d=o(b))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),f=!0}function lA(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function cA(t){return typeof t=="symbol"?t:"".concat(t)}function uA(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function dA(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function oe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function hA(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var cm=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function fA(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&cm(e,t,n)}function jf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kv(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function pA(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kv(arguments[e]));return t}function mA(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function gA(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Rl(t){return this instanceof Rl?(this.v=t,this):new Rl(t)}function yA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(m){return Promise.resolve(m).then(p,d)}}function a(p,m){r[p]&&(i[p]=function(y){return new Promise(function(b,g){s.push([p,y,b,g])>1||l(p,y)})},m&&(i[p]=m(i[p])))}function l(p,m){try{c(r[p](m))}catch(y){f(s[0][3],y)}}function c(p){p.value instanceof Rl?Promise.resolve(p.value.v).then(u,d):f(s[0][2],p)}function u(p){l("next",p)}function d(p){l("throw",p)}function f(p,m){p(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}function bA(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Rl(t[i](o)),done:!1}:s?s(o):o}:s}}function xA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jf=="function"?jf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function vA(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Q$=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Qb=function(t){return Qb=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Qb(t)};function wA(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Qb(t),r=0;r<n.length;r++)n[r]!=="default"&&cm(e,t,n[r]);return Q$(e,t),e}function kA(t){return t&&t.__esModule?t:{default:t}}function EA(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function SA(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function _A(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function NA(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Y$=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function TA(t){function e(s){t.error=t.hasError?new Y$(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function CA(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?e?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):t}const J$={__extends:iA,__assign:Mf,__rest:nc,__decorate:sA,__param:oA,__esDecorate:aA,__runInitializers:lA,__propKey:cA,__setFunctionName:uA,__metadata:dA,__awaiter:oe,__generator:hA,__createBinding:cm,__exportStar:fA,__values:jf,__read:kv,__spread:pA,__spreadArrays:mA,__spreadArray:gA,__await:Rl,__asyncGenerator:yA,__asyncDelegator:bA,__asyncValues:xA,__makeTemplateObject:vA,__importStar:wA,__importDefault:kA,__classPrivateFieldGet:EA,__classPrivateFieldSet:SA,__classPrivateFieldIn:_A,__addDisposableResource:NA,__disposeResources:TA,__rewriteRelativeImportExtension:CA},Z$=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:NA,get __assign(){return Mf},__asyncDelegator:bA,__asyncGenerator:yA,__asyncValues:xA,__await:Rl,__awaiter:oe,__classPrivateFieldGet:EA,__classPrivateFieldIn:_A,__classPrivateFieldSet:SA,__createBinding:cm,__decorate:sA,__disposeResources:TA,__esDecorate:aA,__exportStar:fA,__extends:iA,__generator:hA,__importDefault:kA,__importStar:wA,__makeTemplateObject:vA,__metadata:dA,__param:oA,__propKey:cA,__read:kv,__rest:nc,__rewriteRelativeImportExtension:CA,__runInitializers:lA,__setFunctionName:uA,__spread:pA,__spreadArray:gA,__spreadArrays:mA,__values:jf,default:J$},Symbol.toStringTag,{value:"Module"})),X$="modulepreload",e5=function(t){return"/"+t},K1={},Dr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=e5(l),l in K1)return;K1[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":X$,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},t5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>da);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ev extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class G1 extends Ev{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Q1 extends Ev{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Y1 extends Ev{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yb||(Yb={}));class n5{constructor(e,{headers:n={},customFetch:r,region:i=Yb.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=t5(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return oe(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:o,body:a,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(c["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(c["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const p=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:f,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new G1(g)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new Q1(p);if(!p.ok)throw new Y1(p);let y=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield p.json():y==="application/octet-stream"||y==="application/pdf"?b=yield p.blob():y==="text/event-stream"?b=p:y==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new G1(s)}:{data:null,error:s,response:s instanceof Y1||s instanceof Q1?s.context:void 0}}})}}var mn={};const rc=iT(Z$);var Kd={},Gd={},Qd={},Yd={},Jd={},r5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ml=r5();const i5=Ml.fetch,AA=Ml.fetch.bind(Ml),OA=Ml.Headers,s5=Ml.Request,o5=Ml.Response,da=Object.freeze(Object.defineProperty({__proto__:null,Headers:OA,Request:s5,Response:o5,default:AA,fetch:i5},Symbol.toStringTag,{value:"Module"})),a5=iT(da);var Zd={},J1;function IA(){if(J1)return Zd;J1=1,Object.defineProperty(Zd,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Zd.default=t,Zd}var Z1;function RA(){if(Z1)return Jd;Z1=1,Object.defineProperty(Jd,"__esModule",{value:!0});const t=rc,e=t.__importDefault(a5),n=t.__importDefault(IA());class r{constructor(s){var o,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,p;let m=null,y=null,b=null,g=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=E:y=JSON.parse(E))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&S&&S.length>1&&(b=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,g=406,x="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const w=await c.text();try{m=JSON.parse(w),Array.isArray(m)&&c.status===404&&(y=[],m=null,g=200,x="OK")}catch{c.status===404&&w===""?(g=204,x="No Content"):m={message:w}}if(m&&this.isMaybeSingle&&(!((p=m==null?void 0:m.details)===null||p===void 0)&&p.includes("0 rows"))&&(m=null,g=200,x="OK"),m&&this.shouldThrowOnError)throw new n.default(m)}return{error:m,data:y,count:b,status:g,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return Jd.default=r,Jd}var X1;function MA(){if(X1)return Yd;X1=1,Object.defineProperty(Yd,"__esModule",{value:!0});const e=rc.__importDefault(RA());class n extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Yd.default=n,Yd}var eE;function Sv(){if(eE)return Qd;eE=1,Object.defineProperty(Qd,"__esModule",{value:!0});const e=rc.__importDefault(MA()),n=new RegExp("[,()]");class r extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${c}fts${u}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return Qd.default=r,Qd}var tE;function jA(){if(tE)return Gd;tE=1,Object.defineProperty(Gd,"__esModule",{value:!0});const e=rc.__importDefault(Sv());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Gd.default=n,Gd}var nE;function l5(){if(nE)return Kd;nE=1,Object.defineProperty(Kd,"__esModule",{value:!0});const t=rc,e=t.__importDefault(jA()),n=t.__importDefault(Sv());class r{constructor(s,{headers:o={},schema:a,fetch:l}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let d;const f=new URL(`${this.url}/rpc/${s}`);let p;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{f.searchParams.append(y,b)})):(d="POST",p=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new n.default({method:d,url:f,headers:m,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Kd.default=r,Kd}Object.defineProperty(mn,"__esModule",{value:!0});var DA=mn.PostgrestError=VA=mn.PostgrestBuilder=qA=mn.PostgrestTransformBuilder=BA=mn.PostgrestFilterBuilder=zA=mn.PostgrestQueryBuilder=LA=mn.PostgrestClient=void 0;const ic=rc,PA=ic.__importDefault(l5());var LA=mn.PostgrestClient=PA.default;const $A=ic.__importDefault(jA());var zA=mn.PostgrestQueryBuilder=$A.default;const FA=ic.__importDefault(Sv());var BA=mn.PostgrestFilterBuilder=FA.default;const UA=ic.__importDefault(MA());var qA=mn.PostgrestTransformBuilder=UA.default;const HA=ic.__importDefault(RA());var VA=mn.PostgrestBuilder=HA.default;const WA=ic.__importDefault(IA());DA=mn.PostgrestError=WA.default;var KA=mn.default={PostgrestClient:PA.default,PostgrestQueryBuilder:$A.default,PostgrestFilterBuilder:FA.default,PostgrestTransformBuilder:UA.default,PostgrestBuilder:HA.default,PostgrestError:WA.default};const c5=LD({__proto__:null,get PostgrestBuilder(){return VA},get PostgrestClient(){return LA},get PostgrestError(){return DA},get PostgrestFilterBuilder(){return BA},get PostgrestQueryBuilder(){return zA},get PostgrestTransformBuilder(){return qA},default:KA},[mn]),{PostgrestClient:u5,PostgrestQueryBuilder:Jie,PostgrestFilterBuilder:Zie,PostgrestTransformBuilder:Xie,PostgrestBuilder:ese,PostgrestError:tse}=KA||c5;class d5{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const h5="2.77.0",f5=`realtime-js/${h5}`,p5="1.0.0",Jb=1e4,m5=1e3,g5=100;var Qc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qc||(Qc={}));var Rt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Rt||(Rt={}));var Or;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Or||(Or={}));var Zb;(function(t){t.websocket="websocket"})(Zb||(Zb={}));var go;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(go||(go={}));class y5{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class GA{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(et||(et={}));const rE=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=b5(o,t,e,i),s),{}):{}},b5=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?QA(s,o):Xb(o)},QA=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return k5(e,n)}switch(t){case et.bool:return x5(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return v5(e);case et.json:case et.jsonb:return w5(e);case et.timestamp:return E5(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Xb(e);default:return Xb(e)}},Xb=t=>t,x5=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},v5=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},w5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},k5=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>QA(e,a))}return t},E5=t=>typeof t=="string"?t.replace(" ","T"):t,YA=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class wg{constructor(e,n,r={},i=Jb){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var iE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(iE||(iE={}));class Yc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yc.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Yc.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Yc.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const f=u.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),m=u.filter(b=>p.indexOf(b.presence_ref)<0),y=d.filter(b=>f.indexOf(b.presence_ref)<0);m.length>0&&(a[c]=m),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(sE||(sE={}));var Jc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Jc||(Jc={}));var Ei;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ei||(Ei={}));class _v{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wg(this,Or.join,this.params,this.timeout),this.rejoinTimer=new GA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Or.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Yc(this),this.broadcastEndpointURL=YA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Jc.PRESENCE]&&this.bindings[Jc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Ei.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Ei.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){e==null||e(Ei.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,g=[];for(let x=0;x<b;x++){const v=y[x],{filter:{event:w,schema:S,table:E,filter:C}}=v,T=p&&p[x];if(T&&T.event===w&&T.schema===S&&T.table===E&&T.filter===C)g.push(Object.assign(Object.assign({},v),{id:T.id}));else{this.unsubscribe(),this.state=Rt.errored,e==null||e(Ei.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Ei.SUBSCRIBED);return}}).receive("error",p=>{this.state=Rt.errored,e==null||e(Ei.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ei.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Rt.joined&&e===Jc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Or.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new wg(this,Or.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wg(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>g5){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Or;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,y,b;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(y=p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var m,y,b,g,x,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const w=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return w&&((y=n.ids)===null||y===void 0?void 0:y.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(x=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return w==="*"||w===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:y,table:b,commit_timestamp:g,type:x,errors:v}=m;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:g,eventType:x,new:{},old:{},errors:v}),this._getPayloadRecords(m))}p.callback(f,r)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&_v.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Or.close,{},e)}_onError(e){this._on(Or.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=rE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=rE(e.columns,e.old_record)),n}}const kg=()=>{},Xd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S5=[1e3,2e3,5e3,1e4],_5=1e4,N5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class T5{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jb,this.transport=null,this.heartbeatIntervalMs=Xd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kg,this.ref=0,this.reconnectTimer=null,this.logger=kg,this.conn=null,this.sendBuffer=[],this.serializer=new y5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Dr(async()=>{const{default:a}=await Promise.resolve().then(()=>da);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Zb.websocket}`,this.httpEndpoint=YA(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:p5}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qc.connecting:return go.Connecting;case Qc.open:return go.Open;case Qc.closing:return go.Closing;default:return go.Closed}}isConnected(){return this.connectionState()===go.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new _v(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(m5,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Or.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([N5],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:f5};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Or.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new GA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,l,c,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Jb,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Xd.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:kg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>S5[d-1]||_5,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Nv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ct(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class C5 extends Nv{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ex extends Nv{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Tv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>da);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},A5=()=>oe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dr(()=>Promise.resolve().then(()=>da),void 0)).Response:Response}),tx=t=>{if(Array.isArray(t))return t.map(n=>tx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=tx(r)}),e},O5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Eg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),I5=(t,e,n)=>oe(void 0,void 0,void 0,function*(){const r=yield A5();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new C5(Eg(i),s,o))}).catch(i=>{e(new ex(Eg(i),i))}):e(new ex(Eg(t),t))}),R5=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(O5(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function md(t,e,n,r,i,s){return oe(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,R5(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>I5(l,a,r))})})}function ju(t,e,n,r){return oe(this,void 0,void 0,function*(){return md(t,"GET",e,n,r)})}function Nr(t,e,n,r,i){return oe(this,void 0,void 0,function*(){return md(t,"POST",e,r,i,n)})}function nx(t,e,n,r,i){return oe(this,void 0,void 0,function*(){return md(t,"PUT",e,r,i,n)})}function M5(t,e,n,r){return oe(this,void 0,void 0,function*(){return md(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Cv(t,e,n,r,i){return oe(this,void 0,void 0,function*(){return md(t,"DELETE",e,r,i,n)})}class j5{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}var JA;class D5{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[JA]="BlobDownloadBuilder",this.promise=null}asStream(){return new j5(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}JA=Symbol.toStringTag;const P5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class L5{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Tv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return oe(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},oE),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?nx:Nr)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}})}upload(e,n,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return oe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:oE.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield nx(this.fetch,a.toString(),l,{headers:u});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Nr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Nv("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}update(e,n,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return oe(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}copy(e,n,r){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Nr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return oe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Nr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return oe(this,void 0,void 0,function*(){try{const i=yield Nr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>ju(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new D5(l,this.shouldThrowOnError)}info(e){return oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ju(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:tx(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}exists(e){return oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield M5(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r)&&r instanceof ex){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Cv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}list(e,n,r){return oe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},P5),n),{prefix:e||""});return{data:yield Nr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}listV2(e,n){return oe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Nr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const ZA="2.77.0",XA={"X-Client-Info":`storage-js/${ZA}`};class $5{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XA),n),this.fetch=Tv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return oe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield ju(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield ju(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}createBucket(e){return oe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Nr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return oe(this,void 0,void 0,function*(){try{return{data:yield nx(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}emptyBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Cv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class z5{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XA),n),this.fetch=Tv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}listBuckets(e){return oe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield ju(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Cv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}}const Av={"X-Client-Info":`storage-js/${ZA}`,"Content-Type":"application/json"};class eO extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Kn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Sg extends eO{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class F5 extends eO{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var aE;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(aE||(aE={}));const Ov=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>da);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},B5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lE=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),U5=(t,e,n)=>oe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new Sg(lE(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new Sg(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new Sg(a,i,o))}}else e(new F5(lE(t),t))}),q5=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(B5(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function H5(t,e,n,r,i,s){return oe(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,q5(e,r,i,s)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>U5(l,a,r))})})}function Gn(t,e,n,r,i){return oe(this,void 0,void 0,function*(){return H5(t,"POST",e,r,i,n)})}class V5{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Av),n),this.fetch=Ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return oe(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}})}listIndexes(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return oe(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}})}}class W5{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Av),n),this.fetch=Ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}getVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}listVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Gn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}queryVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}}class K5{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Av),n),this.fetch=Ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}listBuckets(){return oe(this,arguments,void 0,function*(e={}){try{return{data:yield Gn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}}class G5 extends K5{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Q5(this.url,this.headers,e,this.fetch)}}class Q5 extends V5{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return oe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return oe(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return oe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return oe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Y5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Y5 extends W5{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return oe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return oe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return oe(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return oe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return oe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class J5 extends $5{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new L5(this.url,this.headers,e,this.fetch)}get vectors(){return new G5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new z5(this.url+"/iceberg",this.headers,this.fetch)}}const Z5="2.77.0";let Rc="";typeof Deno<"u"?Rc="deno":typeof document<"u"?Rc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rc="react-native":Rc="node";const X5={"X-Client-Info":`supabase-js-${Rc}/${Z5}`},ez={headers:X5},tz={schema:"public"},nz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rz={},iz=t=>{let e;return t?e=t:typeof fetch>"u"?e=AA:e=fetch,(...n)=>e(...n)},sz=()=>typeof Headers>"u"?OA:Headers,oz=(t,e,n)=>{const r=iz(n),i=sz();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))}};function az(t){return t.endsWith("/")?t:t+"/"}function lz(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function cz(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(az(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tO="2.77.0",Aa=30*1e3,rx=3,_g=rx*Aa,uz="http://localhost:9999",dz="supabase.auth.token",hz={"X-Client-Info":`gotrue-js/${tO}`},ix="X-Supabase-Api-Version",nO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pz=10*60*1e3;class Du extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ve(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class mz extends Du{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function gz(t){return ve(t)&&t.name==="AuthApiError"}class yo extends Du{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class to extends Du{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class rs extends to{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yz(t){return ve(t)&&t.name==="AuthSessionMissingError"}class va extends to{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eh extends to{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class th extends to{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bz(t){return ve(t)&&t.name==="AuthImplicitGrantRedirectError"}class cE extends to{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sx extends to{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ng(t){return ve(t)&&t.name==="AuthRetryableFetchError"}class uE extends to{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ox extends to{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dE=` 	
\r=`.split(""),xz=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<dE.length;e+=1)t[dE[e].charCodeAt(0)]=-2;for(let e=0;e<Df.length;e+=1)t[Df[e].charCodeAt(0)]=e;return t})();function hE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Df[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Df[r]),e.queuedBits-=6}}function rO(t,e,n){const r=xz[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function fE(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{kz(o,r,n)};for(let o=0;o<t.length;o+=1)rO(t.charCodeAt(o),i,s);return e.join("")}function vz(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function wz(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}vz(r,e)}}function kz(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function sl(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)rO(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Ez(t){const e=[];return wz(t,n=>e.push(n)),new Uint8Array(e)}function _o(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>hE(i,n,r)),hE(null,n,r),e.join("")}function Sz(t){return Math.round(Date.now()/1e3)+t}function _z(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Vn=()=>typeof window<"u"&&typeof document<"u",ao={tested:!1,writable:!1},iO=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ao.tested)return ao.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ao.tested=!0,ao.writable=!0}catch{ao.tested=!0,ao.writable=!1}return ao.writable};function Nz(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const sO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>da);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Tz=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Oa=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},lo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zi=async(t,e)=>{await t.removeItem(e)};class um{constructor(){this.promise=new um.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}um.promiseConstructor=Promise;function Tg(t){const e=t.split(".");if(e.length!==3)throw new ox("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!fz.test(e[r]))throw new ox("JWT not in base64url format");return{header:JSON.parse(fE(e[0])),payload:JSON.parse(fE(e[1])),signature:sl(e[2]),raw:{header:e[0],payload:e[1]}}}async function Cz(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Az(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Oz(t){return("0"+t.toString(16)).substr(-2)}function Iz(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Oz).join("")}async function Rz(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Mz(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Rz(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wa(t,e,n=!1){const r=Iz();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Oa(t,`${e}-code-verifier`,i);const s=await Mz(r);return[s,r===s?"plain":"s256"]}const jz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dz(t){const e=t.headers.get(ix);if(!e||!e.match(jz))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Pz(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Lz(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $z=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ka(t){if(!$z.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pE(t){return JSON.parse(JSON.stringify(t))}const mo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zz=[502,503,504];async function mE(t){var e;if(!Tz(t))throw new sx(mo(t),0);if(zz.includes(t.status))throw new sx(mo(t),t.status);let n;try{n=await t.json()}catch(s){throw new yo(mo(s),s)}let r;const i=Dz(t);if(i&&i.getTime()>=nO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uE(mo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new rs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new uE(mo(n),t.status,n.weak_password.reasons);throw new mz(mo(n),t.status||500,r)}const Fz=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ne(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[ix]||(s[ix]=nO["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Bz(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Bz(t,e,n,r,i,s){const o=Fz(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new sx(mo(l),0)}if(a.ok||await mE(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await mE(l)}}function Sr(t){var e;let n=null;Hz(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Sz(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function gE(t){const e=Sr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ps(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Uz(t){return{data:t,error:null}}function qz(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=nc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function yE(t){return t}function Hz(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ag=["global","local","others"];class Vz{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=sO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ag[0]){if(Ag.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ag.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ps})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=nc(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:qz,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ps})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:yE});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ve(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ka(e);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ps})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ka(e);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ps})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ka(e);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ps})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ka(e.userId);try{const{data:n,error:r}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ka(e.userId),ka(e.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:yE});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ve(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}}function bE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ea={debug:!!(globalThis&&iO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Wz extends oO{}async function Kz(t,e,n){Ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ea.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Wz(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ea.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Gz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function aO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Qz(t){return parseInt(t,16)}function Yz(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Jz(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=aO(t.address),m=u?`${u}://${r}`:r,y=t.statement?`${t.statement}
`:"",b=`${m} wants you to sign in with your Ethereum account:
${p}

${y}`;let g=`URI: ${d}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);x+=`
- ${v}`}g+=x}return`${b}
${g}`}class St extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Pf extends St{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Zz({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new St({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new St({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new St({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new St({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new St({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new St({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new St({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new St({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(lO(o)){if(s.rp.id!==o)return new St({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new St({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Xz({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new St({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new St({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(lO(r)){if(n.rpId!==r)return new St({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class eF{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const tF=new eF;function nF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=nc(t,["challenge","user","excludeCredentials"]),s=sl(e).buffer,o=Object.assign(Object.assign({},n),{id:sl(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:sl(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function rF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=nc(t,["challenge","allowCredentials"]),i=sl(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:sl(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function iF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:_o(new Uint8Array(t.response.attestationObject)),clientDataJSON:_o(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:_o(new Uint8Array(i.authenticatorData)),clientDataJSON:_o(new Uint8Array(i.clientDataJSON)),signature:_o(new Uint8Array(i.signature)),userHandle:i.userHandle?_o(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function xE(){var t,e;return!!(Vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function oF(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pf("Browser returned unexpected credential type",e)}:{data:null,error:new Pf("Empty credential response",e)}}catch(e){return{data:null,error:Zz({error:e,options:t})}}}async function aF(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pf("Browser returned unexpected credential type",e)}:{data:null,error:new Pf("Empty credential response",e)}}catch(e){return{data:null,error:Xz({error:e,options:t})}}}const lF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},cF={userVerification:"preferred",hints:["security-key"]};function Lf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const a=r[s];e(a)?r[s]=Lf(a,o):r[s]=Lf(o)}else r[s]=o}return r}function uF(t,e){return Lf(lF,t,e||{})}function dF(t,e){return Lf(cF,t,e||{})}class hF{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=i??tF.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=uF(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:d}=await oF({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=dF(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:d}=await aF(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new yo("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new Du("rpId is required for WebAuthn authentication")};try{if(!xE())return{data:null,error:new yo("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new yo("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new Du("rpId is required for WebAuthn registration")};try{if(!xE())return{data:null,error:new yo("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new yo("Unexpected error in register",o)}}}}Gz();const fF={url:uz,storageKey:dz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vE(t,e,n){return await n()}const Sa={};class Pu{get jwks(){var e,n;return(n=(e=Sa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Sa[this.storageKey]=Object.assign(Object.assign({},Sa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Sa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sa[this.storageKey]=Object.assign(Object.assign({},Sa[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pu.nextInstanceID,Pu.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},fF),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Vz({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=sO(i.fetch),this.lock=i.lock||vE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Vn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Kz:this.lock=vE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hF(this)},this.persistSession?(i.storage?this.storage=i.storage:iO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=bE(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tO}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Nz(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Vn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),bz(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ve(n)?{error:n}:{error:new yo("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Sr}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:d,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await wa(this.storage,this.storageKey)),s=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:Sr})}else if("phone"in e){const{phone:u,password:d,options:f}=e;s=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Sr})}else throw new eh("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gE})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gE})}else throw new eh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new va}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,a,l,c,u,d,f;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:y,wallet:b,statement:g,options:x}=e;let v;if(Vn())if(typeof b=="object")v=b;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")v=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=b}const w=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),S=await v.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=aO(S[0]);let C=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const A=await v.request({method:"eth_chainId"});C=Qz(A)}const T={domain:w.host,address:E,statement:g,uri:w.href,version:"1",chainId:C,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=Jz(T),m=await v.request({method:"personal_sign",params:[Yz(p),E]})}try{const{data:y,error:b}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Sr});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new va}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(ve(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var n,r,i,s,o,a,l,c,u,d,f,p;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:b,wallet:g,statement:x,options:v}=e;let w;if(Vn())if(typeof g=="object")w=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))w=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const S=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const E=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)m=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),y=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await w.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:b,error:g}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:_o(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Sr});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new va}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(ve(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await lo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Sr});if(await Zi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new va}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(ve(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Sr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new va}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await wa(this.storage,this.storageKey));const{error:d}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new eh("You must provide either an email or phone number.")}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Sr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await wa(this.storage,this.storageKey)),await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Uz})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new rs;const{error:i}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ve(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new eh("You must provide either an email or phone number and a type")}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await lo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<_g:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await lo(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Cg()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ps}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ps})})}catch(n){if(ve(n))return yz(n)&&(await this._removeSession(),await Zi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new rs;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await wa(this.storage,this.storageKey));const{data:c,error:u}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ps});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rs;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Tg(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ve(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new rs;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Vn())throw new th("No browser detected.");if(e.error||e.error_description||e.error_code)throw new th(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new th("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new cE("No code detected.");const{data:x,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new th("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=Aa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:y,error:b}=await this._getUser(s);if(b)throw b;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(ve(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await lo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(gz(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Zi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=_z(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await wa(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Vn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ve(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Sr}),{data:f,error:p}=d;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new va}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Az(async i=>(i>0&&await Cz(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Sr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Ng(s)&&Date.now()+o-r<Aa})}catch(r){if(this._debug(n,"error",r),ve(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await lo(this.storage,this.storageKey);if(i&&this.userStorage){let o=await lo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Oa(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Cg()}else if(i&&!i.user&&!i.user){const o=await lo(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Zi(this.storage,this.storageKey+"-user"),await Oa(this.storage,this.storageKey,i)):i.user=Cg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_g;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${_g}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ng(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new um;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new rs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ve(s)){const o={data:null,error:s};return Ng(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Oa(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=pE(i);await Oa(this.storage,this.storageKey,s)}else{const i=pE(n);await Oa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Zi(this.storage,this.storageKey),await Zi(this.storage,this.storageKey+"-code-verifier"),await Zi(this.storage,this.storageKey+"-user"),this.userStorage&&await Zi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Aa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Aa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Aa}ms, refresh threshold is ${rx} ticks`),i<=rx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof oO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await wa(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?iF(e.webauthn.credential_response):sF(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(ve(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:nF(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:rF(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ve(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Tg(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+pz>i)return r;const{data:s,error:o}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Tg(r);n!=null&&n.allowExpired||Pz(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:o},error:null}}const u=Lz(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Ez(`${a}.${l}`)))throw new ox("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}Pu.nextInstanceID=0;const pF=Pu;class mF extends pF{constructor(e){super(e)}}class gF{constructor(e,n,r){var i,s,o;this.supabaseUrl=e,this.supabaseKey=n;const a=cz(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:tz,realtime:rz,auth:Object.assign(Object.assign({},nz),{storageKey:l}),global:ez},u=lz(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=oz(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new u5(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new J5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new n5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mF({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new T5(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yF=(t,e,n)=>new gF(t,e,n);function bF(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}bF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ax="123",cO="123",xF=()=>ax.startsWith("http")&&!ax.includes("placeholder")&&!cO.includes("placeholder"),br=xF()?yF(ax,cO,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}):null,vF="slidetutor_db",wF=1,Se={uploads:"uploads",lessons:"lessons",quizzes:"quizzes",flashcards:"flashcards",chats:"chats",profile:"profile",studySessions:"study_sessions",goals:"goals",bookmarks:"bookmarks",tags:"tags"};class kF{constructor(){ee(this,"db",null);ee(this,"useLocalStorage",!1);ee(this,"getUploads",()=>this.getAll(Se.uploads));ee(this,"getUploadById",e=>this.getById(Se.uploads,e));ee(this,"createUpload",e=>this.create(Se.uploads,e));ee(this,"updateUpload",(e,n)=>this.update(Se.uploads,e,n));ee(this,"deleteUpload",e=>this.delete(Se.uploads,e));ee(this,"getLessons",()=>this.getAll(Se.lessons));ee(this,"getLessonById",e=>this.getById(Se.lessons,e));ee(this,"createLesson",e=>this.create(Se.lessons,e));ee(this,"updateLesson",(e,n)=>this.update(Se.lessons,e,n));ee(this,"deleteLesson",e=>this.delete(Se.lessons,e));ee(this,"getQuizzes",()=>this.getAll(Se.quizzes));ee(this,"getQuizById",e=>this.getById(Se.quizzes,e));ee(this,"createQuiz",e=>this.create(Se.quizzes,e));ee(this,"updateQuiz",(e,n)=>this.update(Se.quizzes,e,n));ee(this,"deleteQuiz",e=>this.delete(Se.quizzes,e));ee(this,"getFlashcards",()=>this.getAll(Se.flashcards));ee(this,"getFlashcardById",e=>this.getById(Se.flashcards,e));ee(this,"createFlashcard",e=>this.create(Se.flashcards,e));ee(this,"updateFlashcard",(e,n)=>this.update(Se.flashcards,e,n));ee(this,"deleteFlashcard",e=>this.delete(Se.flashcards,e));ee(this,"getChats",()=>this.getAll(Se.chats));ee(this,"getChatById",e=>this.getById(Se.chats,e));ee(this,"createChat",e=>this.create(Se.chats,e));ee(this,"updateChat",(e,n)=>this.update(Se.chats,e,n));ee(this,"deleteChat",e=>this.delete(Se.chats,e));ee(this,"getProfile",async()=>(await this.getAll(Se.profile))[0]||null);ee(this,"setProfile",async e=>{const n=await this.getProfile();return n&&n.id?this.update(Se.profile,n.id,e):this.create(Se.profile,{...e,id:"default-profile"})});ee(this,"getGoals",()=>this.getAll(Se.goals));ee(this,"createGoal",e=>this.create(Se.goals,e));ee(this,"updateGoal",(e,n)=>this.update(Se.goals,e,n));ee(this,"deleteGoal",e=>this.delete(Se.goals,e));ee(this,"getBookmarks",()=>this.getAll(Se.bookmarks));ee(this,"createBookmark",e=>this.create(Se.bookmarks,e));ee(this,"deleteBookmark",e=>this.delete(Se.bookmarks,e));ee(this,"getTags",()=>this.getAll(Se.tags));ee(this,"createTag",e=>this.create(Se.tags,e));ee(this,"deleteTag",e=>this.delete(Se.tags,e));ee(this,"getStudySessions",()=>this.getAll(Se.studySessions));ee(this,"createStudySession",e=>this.create(Se.studySessions,e))}async init(){if(!window.indexedDB){console.warn("IndexedDB not available, falling back to localStorage"),this.useLocalStorage=!0;return}return new Promise(e=>{const n=indexedDB.open(vF,wF);n.onerror=()=>{console.error("IndexedDB error, falling back to localStorage"),this.useLocalStorage=!0,e()},n.onsuccess=()=>{this.db=n.result,e()},n.onupgradeneeded=r=>{const i=r.target.result;Object.values(Se).forEach(s=>{if(!i.objectStoreNames.contains(s)){const o=i.createObjectStore(s,{keyPath:"id"});s!==Se.profile&&(o.createIndex("createdAt","createdAt",{unique:!1}),o.createIndex("updatedAt","updatedAt",{unique:!1})),(s===Se.flashcards||s===Se.quizzes)&&o.createIndex("uploadId","uploadId",{unique:!1})}})}})}async getAll(e){if(this.useLocalStorage){const n=localStorage.getItem(e);return n?JSON.parse(n):[]}return this.db||await this.init(),this.db?new Promise((n,r)=>{const o=this.db.transaction(e,"readonly").objectStore(e).getAll();o.onsuccess=()=>n(o.result||[]),o.onerror=()=>r(o.error)}):[]}async getById(e,n){if(this.useLocalStorage){const r=localStorage.getItem(e);return r&&JSON.parse(r).find(s=>s.id===n)||null}return this.db||await this.init(),this.db?new Promise((r,i)=>{const a=this.db.transaction(e,"readonly").objectStore(e).get(n);a.onsuccess=()=>r(a.result||null),a.onerror=()=>i(a.error)}):null}async create(e,n){const r={...n,createdAt:n.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};if(this.useLocalStorage){const i=localStorage.getItem(e),s=i?JSON.parse(i):[];return s.push(r),localStorage.setItem(e,JSON.stringify(s)),r}if(this.db||await this.init(),!this.db)throw new Error("Storage not initialized");return new Promise((i,s)=>{const l=this.db.transaction(e,"readwrite").objectStore(e).add(r);l.onsuccess=()=>i(r),l.onerror=()=>s(l.error)})}async update(e,n,r){if(this.useLocalStorage){const i=localStorage.getItem(e),s=i?JSON.parse(i):[],o=s.findIndex(a=>a.id===n);if(o===-1)throw new Error("Item not found");return s[o]={...s[o],...r,updatedAt:new Date().toISOString()},localStorage.setItem(e,JSON.stringify(s)),s[o]}if(this.db||await this.init(),!this.db)throw new Error("Storage not initialized");return new Promise(async(i,s)=>{const o=await this.getById(e,n);if(!o){s(new Error("Item not found"));return}const a={...o,...r,updatedAt:new Date().toISOString()},u=this.db.transaction(e,"readwrite").objectStore(e).put(a);u.onsuccess=()=>i(a),u.onerror=()=>s(u.error)})}async delete(e,n){if(this.useLocalStorage){const r=localStorage.getItem(e),s=(r?JSON.parse(r):[]).filter(o=>o.id!==n);localStorage.setItem(e,JSON.stringify(s));return}if(this.db||await this.init(),!this.db)throw new Error("Storage not initialized");return new Promise((r,i)=>{const a=this.db.transaction(e,"readwrite").objectStore(e).delete(n);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}async deleteAll(e){if(this.useLocalStorage){localStorage.removeItem(e);return}if(this.db||await this.init(),!this.db)throw new Error("Storage not initialized");return new Promise((n,r)=>{const o=this.db.transaction(e,"readwrite").objectStore(e).clear();o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})}async getByIndex(e,n,r){if(this.useLocalStorage){const i=localStorage.getItem(e);return i?JSON.parse(i).filter(o=>o[n]===r):[]}return this.db||await this.init(),this.db?new Promise((i,s)=>{const c=this.db.transaction(e,"readonly").objectStore(e).index(n).getAll(r);c.onsuccess=()=>i(c.result||[]),c.onerror=()=>s(c.error)}):[]}async exportAll(){const e={};for(const[n,r]of Object.entries(Se))e[n]=await this.getAll(r);return JSON.stringify(e,null,2)}async importAll(e){const n=JSON.parse(e);for(const[r,i]of Object.entries(Se))if(n[r]){await this.deleteAll(i);for(const s of n[r])await this.create(i,s)}}}const ji=new kF;ji.init().catch(console.error);const Mc=Object.freeze(Object.defineProperty({__proto__:null,storage:ji},Symbol.toStringTag,{value:"Module"})),uO=O.createContext(void 0);function EF({children:t}){const[e,n]=O.useState(null),[r,i]=O.useState(null),[s,o]=O.useState(!0);O.useEffect(()=>{(async()=>{try{const d=await ji.getProfile();if(d){const f={id:d.id,name:d.name||d.full_name||"Student",createdAt:d.createdAt||new Date().toISOString()};n(f),i({user:f})}else{const f={id:"default-profile",name:"Student",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),xp:0,level:1,streak:0};await ji.setProfile(f);const p={id:f.id,name:f.name,createdAt:f.createdAt};n(p),i({user:p})}}catch(d){console.error("Error initializing user:",d)}finally{o(!1)}})()},[]);const a=async(u,d)=>Promise.resolve(),l=async(u,d,f)=>{const p=await ji.getProfile();if(p){await ji.setProfile({...p,name:f,full_name:f});const m={id:p.id,name:f,createdAt:p.createdAt};n(m),i({user:m})}},c=async()=>Promise.resolve();return h.jsx(uO.Provider,{value:{user:e,session:r,loading:s,signIn:a,signUp:l,signOut:c},children:t})}function dm(){const t=O.useContext(uO);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function SF(){const{user:t}=dm();return hd({queryKey:["uploads",t==null?void 0:t.id],queryFn:async()=>{if(!br||!t)return[];const{data:e,error:n}=await br.from("uploads").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});return n?(console.warn("Could not fetch uploads:",n.message),[]):e||[]},enabled:!!t&&!!br,retry:!1,staleTime:2*60*1e3})}function _F(){const{user:t}=dm();return hd({queryKey:["lessons",t==null?void 0:t.id],queryFn:async()=>{if(!br||!t)throw new Error("Not authenticated");const{data:e,error:n}=await br.from("lessons").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return e},enabled:!!t&&!!br})}function NF(){const{user:t}=dm();return hd({queryKey:["flashcard-decks",t==null?void 0:t.id],queryFn:async()=>{if(!br||!t)throw new Error("Not authenticated");const{data:e,error:n}=await br.from("flashcard_decks").select("*, flashcards(count)").eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return e},enabled:!!t&&!!br})}function TF(){const{user:t}=dm();return hd({queryKey:["quiz-sessions",t==null?void 0:t.id],queryFn:async()=>{if(!br||!t)throw new Error("Not authenticated");const{data:e,error:n}=await br.from("quiz_sessions").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return e},enabled:!!t&&!!br})}function CF({onNavigate:t}){const[e,n]=O.useState(""),[r,i]=O.useState(!1),{data:s=[]}=SF(),{data:o=[]}=_F(),{data:a=[]}=NF(),{data:l=[]}=TF(),c=O.useMemo(()=>{if(!e.trim())return[];const f=e.toLowerCase(),p=[];return s.forEach(m=>{var y;(m.filename.toLowerCase().includes(f)||(y=m.full_text)!=null&&y.toLowerCase().includes(f))&&p.push({id:m.id,type:"upload",title:m.filename,description:`${m.slide_count} slides  ${m.status}`,timestamp:m.created_at,navigateTo:"upload"})}),o.forEach(m=>{var y,b;(m.title.toLowerCase().includes(f)||(y=m.content)!=null&&y.toLowerCase().includes(f))&&p.push({id:m.id,type:"lesson",title:m.title,description:((b=m.content)==null?void 0:b.slice(0,100))||"No content",timestamp:m.created_at,navigateTo:"lessons"})}),a.forEach(m=>{var y;(m.name.toLowerCase().includes(f)||(y=m.description)!=null&&y.toLowerCase().includes(f))&&p.push({id:m.id,type:"flashcard",title:m.name,description:m.description||`${m.total_cards||0} cards`,timestamp:m.created_at,navigateTo:"flashcards"})}),l.forEach(m=>{var b;const y=((b=s.find(g=>g.id===m.upload_id))==null?void 0:b.filename)||"Unknown";y.toLowerCase().includes(f)&&p.push({id:m.id,type:"quiz",title:`Quiz: ${y}`,description:`${m.correct_answers}/${m.total_questions} correct  ${m.status}`,timestamp:m.created_at,navigateTo:"quiz"})}),p.sort((m,y)=>new Date(y.timestamp).getTime()-new Date(m.timestamp).getTime()).slice(0,10)},[e,s,o,a,l]),u=f=>{switch(f){case"upload":return Jn;case"lesson":return bt;case"flashcard":return yv;case"quiz":return Pn}},d=f=>{t(f.navigateTo,f.id),n(""),i(!1)};return h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"relative",children:[h.jsx(xv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),h.jsx("input",{type:"text",value:e,onChange:f=>{n(f.target.value),i(!0)},onFocus:()=>i(!0),placeholder:"Search uploads, lessons, flashcards...",className:fe("w-full md:w-96 pl-10 pr-10 py-2 rounded-lg","glass-card dark:bg-gray-800 border border-gray-200 dark:border-gray-700","focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent","transition-all"),"aria-label":"Global search"}),e&&h.jsx("button",{onClick:()=>{n(""),i(!1)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":"Clear search",children:h.jsx(pd,{className:"w-4 h-4"})})]}),r&&e&&h.jsx("div",{className:"absolute top-full mt-2 w-full glass-card dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 max-h-96 overflow-y-auto",children:c.length>0?h.jsx("div",{className:"py-2",children:c.map(f=>{const p=u(f.type);return h.jsxs("button",{onClick:()=>d(f),className:"w-full px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left flex items-start gap-3",children:[h.jsx("div",{className:fe("p-2 rounded-lg flex-shrink-0",f.type==="upload"&&"bg-secondary/10 text-secondary",f.type==="lesson"&&"bg-success/10 text-success",f.type==="flashcard"&&"bg-accent/10 text-accent",f.type==="quiz"&&"bg-orange-100 dark:bg-orange-900/30 text-warning"),children:h.jsx(p,{className:"w-4 h-4"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:f.title}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:f.description})]})]},`${f.type}-${f.id}`)})}):h.jsxs("div",{className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:['No results found for "',e,'"']})}),r&&e&&h.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1),"aria-hidden":"true"})]})}const AF=[{label:"Overview",items:[{id:"dashboard",label:"Learning Hub",icon:B2,gradient:"from-secondary/80 to-secondary",description:"Your progress at a glance"}]},{label:"Study Tools",items:[{id:"upload",label:"Upload",icon:Bo,gradient:"from-purple-500 to-pink-500",description:"Add study materials"},{id:"youtube",label:"YouTube",icon:Fr,gradient:"from-red-500 to-rose-500",description:"Learn from videos"},{id:"lessons",label:"Smart Lessons",icon:bt,gradient:"from-green-500 to-emerald-500",description:"AI creates your lessons"},{id:"quiz",label:"Challenge Mode",icon:Pn,gradient:"from-orange-500 to-red-500",description:"Test your mastery"},{id:"flashcards",label:"Smart Cards",icon:yv,gradient:"from-indigo-500 to-purple-500",description:"Learn faster, remember longer"}]},{label:"AI Support",items:[{id:"chat",label:"Study Buddy",icon:ta,gradient:"from-pink-500 to-rose-500",description:"Instant answers"},{id:"ai-coach",label:"AI Coach",icon:Il,gradient:"from-purple-500 to-blue-500",description:"Advanced AI teacher with voice"}]},{label:"Productivity",items:[{id:"notes",label:"Notes App",icon:Jn,gradient:"from-blue-500 to-indigo-500",description:"Rich text note taking"},{id:"tasks",label:"Task Manager",icon:G4,gradient:"from-green-500 to-emerald-500",description:"Organize your todos"},{id:"habits",label:"Habit Tracker",icon:Mu,gradient:"from-orange-500 to-red-500",description:"Build better habits"},{id:"study-timer",label:"Study Timer",icon:Al,gradient:"from-secondary/80 to-accent",description:"Track your focus time"},{id:"image-recognition",label:"Image to Text",icon:Ic,gradient:"from-teal-500 to-cyan-500",description:"Extract text from images"}]}];function OF({isOpen:t,onClose:e,activeTab:n,onTabChange:r}){return h.jsxs(h.Fragment,{children:[t&&h.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden transition-all duration-300 ease-out",onClick:e}),h.jsxs("aside",{className:fe("fixed top-0 left-0 h-full w-72 z-50 transition-all duration-500 ease-out overflow-hidden","bg-gradient-to-b from-background/95 via-background/98 to-background/95","backdrop-blur-xl border-r border-border/40 shadow-2xl shadow-primary/5",t?"translate-x-0":"-translate-x-full lg:translate-x-0"),style:{backgroundImage:"linear-gradient(to bottom, rgba(99, 102, 241, 0.03) 0%, transparent 100%)"},children:[h.jsxs("div",{className:"p-5 border-b border-border/30 flex items-center justify-between bg-gradient-to-r from-primary/5 to-secondary/5",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-primary via-primary to-secondary rounded-xl flex items-center justify-center shadow-lg shadow-primary/30 ring-1 ring-white/10",children:h.jsx(q4,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"font-bold text-foreground text-base tracking-tight",children:"SlideTutor AI"}),h.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Study Smarter"})]})]}),h.jsx("button",{onClick:e,className:"lg:hidden p-2.5 hover:bg-muted/60 rounded-xl transition-all duration-200 hover:scale-105 active:scale-95 group",children:h.jsx(pd,{className:"w-5 h-5 text-muted-foreground group-hover:text-foreground transition-colors"})})]}),h.jsxs("nav",{className:"p-4 space-y-6 overflow-y-auto h-[calc(100vh-88px)] scrollbar-thin scrollbar-thumb-primary/20 scrollbar-track-transparent hover:scrollbar-thumb-primary/30",children:[AF.map((i,s)=>h.jsxs("div",{className:"animate-in fade-in slide-in-from-left-3 duration-500",style:{animationDelay:`${s*50}ms`},children:[h.jsxs("h3",{className:"text-xs font-bold text-muted-foreground/80 uppercase tracking-wider mb-3 px-3 flex items-center gap-2",children:[h.jsx("span",{className:"h-px flex-1 bg-gradient-to-r from-border/0 via-border/50 to-border/0"}),h.jsx("span",{children:i.label}),h.jsx("span",{className:"h-px flex-1 bg-gradient-to-r from-border/0 via-border/50 to-border/0"})]}),h.jsx("div",{className:"space-y-1.5",children:i.items.map((o,a)=>{const l=o.icon,c=n===o.id;return h.jsxs("button",{onClick:()=>{r(o.id),e()},className:fe("w-full px-3 py-3 rounded-xl flex items-center gap-3.5 transition-all duration-300 group relative overflow-hidden",c?"bg-gradient-to-r from-primary/15 via-primary/10 to-secondary/15 border border-primary/25 text-foreground shadow-lg shadow-primary/10":"hover:bg-gradient-to-r hover:from-muted/60 hover:via-muted/40 hover:to-muted/60 text-muted-foreground hover:text-foreground hover:border hover:border-border/50 hover:shadow-md"),style:{animationDelay:`${s*100+a*30}ms`},children:[c&&h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse opacity-50"}),h.jsxs("div",{className:fe("w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 transition-all duration-300 relative",c?`bg-gradient-to-br ${o.gradient} shadow-lg shadow-primary/30 scale-105`:"bg-gradient-to-br from-muted/60 to-muted/40 group-hover:from-muted group-hover:to-muted/80 group-hover:scale-110 group-hover:shadow-md"),children:[c&&h.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-white/20 to-transparent"}),h.jsx(l,{className:fe("w-5 h-5 relative z-10 transition-all duration-300",c?"text-white":"text-muted-foreground group-hover:text-foreground")})]}),h.jsxs("div",{className:"flex-1 text-left relative z-10",children:[h.jsx("div",{className:fe("font-semibold text-sm tracking-tight transition-all duration-200",c&&"text-foreground"),children:o.label}),o.description&&h.jsx("div",{className:fe("text-xs mt-0.5 transition-all duration-200",c?"text-muted-foreground/90":"text-muted-foreground/60 group-hover:text-muted-foreground/80"),children:o.description})]}),c&&h.jsx("div",{className:"w-1 h-8 rounded-full bg-gradient-to-b from-primary to-secondary shadow-lg shadow-primary/50"})]},o.id)})})]},i.label)),h.jsxs("div",{className:"pt-4 border-t border-border/30 mt-4",children:[h.jsxs("h3",{className:"text-xs font-bold text-muted-foreground/80 uppercase tracking-wider mb-3 px-3 flex items-center gap-2",children:[h.jsx("span",{className:"h-px flex-1 bg-gradient-to-r from-border/0 via-border/50 to-border/0"}),h.jsx("span",{children:"Company"}),h.jsx("span",{className:"h-px flex-1 bg-gradient-to-r from-border/0 via-border/50 to-border/0"})]}),h.jsxs("button",{onClick:()=>{r("investors"),e()},className:fe("w-full px-3 py-3 rounded-xl flex items-center gap-3.5 transition-all duration-300 group relative overflow-hidden mb-3",n==="investors"?"bg-gradient-to-r from-emerald-500/15 via-green-500/10 to-teal-500/15 border border-emerald-400/25 text-foreground shadow-lg shadow-emerald-500/10":"hover:bg-gradient-to-r hover:from-muted/60 hover:via-muted/40 hover:to-muted/60 text-muted-foreground hover:text-foreground hover:border hover:border-border/50 hover:shadow-md"),children:[n==="investors"&&h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse opacity-50"}),h.jsxs("div",{className:fe("w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 transition-all duration-300 relative",n==="investors"?"bg-gradient-to-br from-emerald-500 to-green-600 shadow-lg shadow-emerald-500/30 scale-105":"bg-gradient-to-br from-muted/60 to-muted/40 group-hover:from-muted group-hover:to-muted/80 group-hover:scale-110 group-hover:shadow-md"),children:[n==="investors"&&h.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-white/20 to-transparent"}),h.jsx(q2,{className:fe("w-5 h-5 relative z-10 transition-all duration-300",n==="investors"?"text-white":"text-muted-foreground group-hover:text-foreground")})]}),h.jsxs("div",{className:"flex-1 text-left relative z-10",children:[h.jsx("div",{className:fe("font-semibold text-sm tracking-tight transition-all duration-200",n==="investors"&&"text-foreground"),children:"For Investors"}),h.jsx("div",{className:fe("text-xs mt-0.5 transition-all duration-200",n==="investors"?"text-muted-foreground/90":"text-muted-foreground/60 group-hover:text-muted-foreground/80"),children:"Investment Opportunity"})]}),n==="investors"&&h.jsx("div",{className:"w-1 h-8 rounded-full bg-gradient-to-b from-emerald-500 to-green-600 shadow-lg shadow-emerald-500/50"})]})]}),h.jsx("div",{children:h.jsxs("button",{onClick:()=>{r("settings"),e()},className:fe("w-full px-3 py-3 rounded-xl flex items-center gap-3.5 transition-all duration-300 group relative overflow-hidden",n==="settings"?"bg-gradient-to-r from-slate-500/15 via-slate-500/10 to-gray-500/15 border border-slate-400/25 text-foreground shadow-lg shadow-slate-500/10":"hover:bg-gradient-to-r hover:from-muted/60 hover:via-muted/40 hover:to-muted/60 text-muted-foreground hover:text-foreground hover:border hover:border-border/50 hover:shadow-md"),children:[n==="settings"&&h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse opacity-50"}),h.jsxs("div",{className:fe("w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 transition-all duration-300 relative",n==="settings"?"bg-gradient-to-br from-slate-500 to-gray-600 shadow-lg shadow-slate-500/30 scale-105":"bg-gradient-to-br from-muted/60 to-muted/40 group-hover:from-muted group-hover:to-muted/80 group-hover:scale-110 group-hover:shadow-md"),children:[n==="settings"&&h.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-white/20 to-transparent"}),h.jsx(Ol,{className:fe("w-5 h-5 relative z-10 transition-all duration-300",n==="settings"?"text-white":"text-muted-foreground group-hover:text-foreground")})]}),h.jsxs("div",{className:"flex-1 text-left relative z-10",children:[h.jsx("div",{className:fe("font-semibold text-sm tracking-tight transition-all duration-200",n==="settings"&&"text-foreground"),children:"Settings"}),h.jsx("div",{className:fe("text-xs mt-0.5 transition-all duration-200",n==="settings"?"text-muted-foreground/90":"text-muted-foreground/60 group-hover:text-muted-foreground/80"),children:"Preferences & API"})]}),n==="settings"&&h.jsx("div",{className:"w-1 h-8 rounded-full bg-gradient-to-b from-slate-500 to-gray-600 shadow-lg shadow-slate-500/50"})]})})]})]})]})}function IF({activeTab:t,onTabChange:e}){const{theme:n,toggleTheme:r}=d$(),[i,s]=O.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(OF,{isOpen:i,onClose:()=>s(!1),activeTab:t,onTabChange:e}),h.jsx("nav",{className:"glass-card sticky top-0 z-30 border-b border-border/50 lg:ml-72",children:h.jsx("div",{className:"px-4",children:h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>s(!i),className:"lg:hidden p-2 hover:bg-muted/50 rounded-lg transition-colors",children:h.jsx(Y4,{className:"w-5 h-5"})}),h.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center",children:h.jsx(Il,{className:"w-4 h-4 text-white"})}),h.jsx("span",{className:"font-bold text-foreground",children:"SlideTutor"})]})]}),h.jsx("div",{className:"flex-1 max-w-xl mx-4",children:h.jsx(CF,{onNavigate:e})}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("button",{onClick:r,className:"p-2.5 hover:bg-muted/60 rounded-xl transition-all duration-200 hover:scale-105 active:scale-95 group",title:`Switch to ${n==="dark"?"light":"dark"} mode`,children:n==="dark"?h.jsx(i$,{className:"w-5 h-5 text-muted-foreground group-hover:text-foreground transition-all group-hover:rotate-12"}):h.jsx(X4,{className:"w-5 h-5 text-muted-foreground group-hover:text-foreground transition-all group-hover:-rotate-12"})})})]})})})]})}function Ye({className:t,variant:e="default",hover:n=!1,children:r,...i}){const s={default:"bg-card border border-border shadow-md",glass:"glass-card",gradient:"bg-gradient-to-br from-card via-card to-muted border border-border/50 shadow-lg"};return h.jsx("div",{className:fe("rounded-xl p-6 transition-all duration-300",s[e],n&&"hover:shadow-xl hover:scale-[1.02] cursor-pointer",t),...i,children:r})}function wE({className:t,children:e,...n}){return h.jsx("div",{className:fe("mb-4",t),...n,children:e})}function kE({className:t,children:e,...n}){return h.jsx("h3",{className:fe("text-2xl font-bold text-card-foreground",t),...n,children:e})}function EE({className:t,children:e,...n}){return h.jsx("p",{className:fe("text-sm text-muted-foreground mt-1",t),...n,children:e})}function Je({className:t,children:e,...n}){return h.jsx("div",{className:fe("",t),...n,children:e})}function sn({className:t,variant:e="primary",size:n="md",loading:r=!1,icon:i,children:s,disabled:o,...a}){const l="inline-flex items-center justify-center gap-2 font-medium rounded-lg transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",c={primary:"bg-gradient-to-r from-primary to-secondary text-white shadow-md hover:shadow-lg hover:from-primary/90 hover:to-secondary/90",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/90",outline:"border-2 border-border bg-transparent hover:bg-muted",ghost:"hover:bg-muted hover:text-foreground",danger:"bg-error text-white shadow-sm hover:bg-error/90"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return h.jsxs("button",{className:fe(l,c[e],u[n],t),disabled:o||r,...a,children:[r&&h.jsx(Qt,{className:"w-4 h-4 animate-spin"}),!r&&i,s]})}function SE({uploads:t,onNavigate:e}){const n={totalUploads:t.length,processedUploads:t.filter(i=>i.processed).length,indexedUploads:t.filter(i=>i.indexed).length,totalSlides:t.reduce((i,s)=>i+(s.slideCount||0),0)},r=t.slice(0,5);return h.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[h.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-8 md:p-12 glass-card",children:[h.jsx("div",{className:"gradient-mesh absolute inset-0 opacity-30"}),h.jsxs("div",{className:"relative z-10",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-primary to-secondary rounded-xl shadow-lg",children:h.jsx(Il,{className:"w-6 h-6 text-white"})}),h.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent",children:"Welcome to SlideTutor AI"})]}),h.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mb-6",children:"Transform your learning experience with AI-powered lessons, quizzes, and flashcards from your presentations and documents."}),h.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.jsx(sn,{variant:"primary",size:"lg",onClick:()=>e("upload"),icon:h.jsx(Bo,{className:"w-5 h-5"}),children:"Upload Content"}),h.jsx(sn,{variant:"outline",size:"lg",onClick:()=>e("lessons"),icon:h.jsx(bt,{className:"w-5 h-5"}),children:"Browse Lessons"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx(Ye,{variant:"glass",hover:!0,children:h.jsxs(Je,{className:"flex items-center gap-4",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-secondary/80 to-secondary rounded-lg shadow-lg",children:h.jsx(Bo,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Uploads"}),h.jsx("p",{className:"text-3xl font-bold text-foreground",children:n.totalUploads})]})]})}),h.jsx(Ye,{variant:"glass",hover:!0,children:h.jsxs(Je,{className:"flex items-center gap-4",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg shadow-lg",children:h.jsx(bt,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Slides Processed"}),h.jsx("p",{className:"text-3xl font-bold text-foreground",children:n.totalSlides})]})]})}),h.jsx(Ye,{variant:"glass",hover:!0,children:h.jsxs(Je,{className:"flex items-center gap-4",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg shadow-lg",children:h.jsx(Pn,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Indexed Documents"}),h.jsx("p",{className:"text-3xl font-bold text-foreground",children:n.indexedUploads})]})]})}),h.jsx(Ye,{variant:"glass",hover:!0,children:h.jsxs(Je,{className:"flex items-center gap-4",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg shadow-lg",children:h.jsx(ta,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Ready for Chat"}),h.jsx("p",{className:"text-3xl font-bold text-foreground",children:n.indexedUploads})]})]})})]}),h.jsxs(Ye,{variant:"gradient",children:[h.jsxs(wE,{children:[h.jsxs(kE,{className:"flex items-center gap-2",children:[h.jsx(Mu,{className:"w-6 h-6 text-secondary"}),"Quick Actions"]}),h.jsx(EE,{children:"Jump right into your learning journey"})]}),h.jsx(Je,{children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("button",{onClick:()=>e("upload"),className:"p-6 rounded-xl bg-muted/50 hover:bg-muted transition-all duration-200 active:scale-95 group",children:[h.jsx(Bo,{className:"w-8 h-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),h.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Upload Files"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Add new PDFs or PPTX files"})]}),h.jsxs("button",{onClick:()=>e("lessons"),className:"p-6 rounded-xl bg-muted/50 hover:bg-muted transition-all duration-200 active:scale-95 group",children:[h.jsx(bt,{className:"w-8 h-8 text-secondary mb-3 group-hover:scale-110 transition-transform"}),h.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Generate Lesson"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Create AI-powered lessons"})]}),h.jsxs("button",{onClick:()=>e("quiz"),className:"p-6 rounded-xl bg-muted/50 hover:bg-muted transition-all duration-200 active:scale-95 group",children:[h.jsx(Pn,{className:"w-8 h-8 text-accent mb-3 group-hover:scale-110 transition-transform"}),h.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Take Quiz"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Practice with generated quizzes"})]}),h.jsxs("button",{onClick:()=>e("chat"),className:"p-6 rounded-xl bg-muted/50 hover:bg-muted transition-all duration-200 active:scale-95 group",children:[h.jsx(ta,{className:"w-8 h-8 text-success mb-3 group-hover:scale-110 transition-transform"}),h.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Chat Q&A"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Ask questions about your documents"})]})]})})]}),r.length>0&&h.jsxs(Ye,{children:[h.jsxs(wE,{children:[h.jsxs(kE,{className:"flex items-center gap-2",children:[h.jsx(Al,{className:"w-6 h-6 text-primary"}),"Recent Activity"]}),h.jsx(EE,{children:"Your latest uploads and progress"})]}),h.jsx(Je,{children:h.jsx("div",{className:"space-y-3",children:r.map((i,s)=>h.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors animate-slide-up",style:{animationDelay:`${s*50}ms`},children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-bold",children:i.filename[0].toUpperCase()}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-medium text-foreground truncate",children:i.filename}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.slideCount," slides  ",G$(i.uploadedAt)]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[i.processed&&h.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-success/20 text-success",children:"Processed"}),i.indexed&&h.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-secondary/20 text-secondary",children:"Indexed"})]})]},i.id))})})]})]})}const dO=["shift","alt","meta","mod","ctrl","control"],RF={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Us(t){return(RF[t.trim()]||t.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function hO(t){return dO.includes(t)}function Og(t,e=","){return t.toLowerCase().split(e)}function Ig(t,e="+",n=">",r=!1,i){let s=[],o=!1;t=t.trim(),t.includes(n)?(o=!0,s=t.toLocaleLowerCase().split(n).map(c=>Us(c))):s=t.toLocaleLowerCase().split(e).map(c=>Us(c));const a={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),shift:s.includes("shift"),meta:s.includes("meta"),mod:s.includes("mod"),useKey:r},l=s.filter(c=>!dO.includes(c));return{...a,keys:l,description:i,isSequence:o,hotkey:t}}typeof document<"u"&&(document.addEventListener("keydown",t=>{t.code!==void 0&&fO([Us(t.code)])}),document.addEventListener("keyup",t=>{t.code!==void 0&&pO([Us(t.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{Di.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{Di.clear()},0)}));const Di=new Set;function Iv(t){return Array.isArray(t)}function MF(t,e=","){return(Iv(t)?t:t.split(e)).every(n=>Di.has(n.trim().toLowerCase()))}function fO(t){const e=Array.isArray(t)?t:[t];Di.has("meta")&&Di.forEach(n=>!hO(n)&&Di.delete(n.toLowerCase())),e.forEach(n=>Di.add(n.toLowerCase()))}function pO(t){const e=Array.isArray(t)?t:[t];t==="meta"?Di.clear():e.forEach(n=>Di.delete(n.toLowerCase()))}function jF(t,e,n){(typeof n=="function"&&n(t,e)||n===!0)&&t.preventDefault()}function DF(t,e,n){return typeof n=="function"?n(t,e):n===!0||n===void 0}const PF=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function LF(t){return mO(t,PF)}function mO(t,e=!1){const{target:n,composed:r}=t;let i,s;return $F(n)&&r?(i=t.composedPath()[0]&&t.composedPath()[0].tagName,s=t.composedPath()[0]&&t.composedPath()[0].role):(i=n&&n.tagName,s=n&&n.role),Iv(e)?!!(i&&e&&e.some(o=>o.toLowerCase()===i.toLowerCase()||o===s)):!!(i&&e&&e)}function $F(t){return!!t.tagName&&!t.tagName.startsWith("-")&&t.tagName.includes("-")}function zF(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(n=>e.includes(n))||t.includes("*"):!0}const FF=(t,e,n=!1)=>{const{alt:r,meta:i,mod:s,shift:o,ctrl:a,keys:l,useKey:c}=e,{code:u,key:d,ctrlKey:f,metaKey:p,shiftKey:m,altKey:y}=t,b=Us(u);if(c&&(l==null?void 0:l.length)===1&&l.includes(d))return!0;if(!(l!=null&&l.includes(b))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(b))return!1;if(!n){if(r!==y&&b!=="alt"||o!==m&&b!=="shift")return!1;if(s){if(!p&&!f)return!1}else if(i!==p&&b!=="meta"&&b!=="os"||a!==f&&b!=="ctrl"&&b!=="control")return!1}return l&&l.length===1&&l.includes(b)?!0:l?MF(l):!l},BF=O.createContext(void 0),UF=()=>O.useContext(BF);function gO(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce((n,r)=>n&&gO(t[r],e[r]),!0):t===e}const qF=O.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),HF=()=>O.useContext(qF);function VF(t){const e=O.useRef(void 0);return gO(e.current,t)||(e.current=t),e.current}const _E=t=>{t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},WF=typeof window<"u"?O.useLayoutEffect:O.useEffect;function ar(t,e,n,r){const i=O.useRef(null),s=O.useRef(!1),o=Array.isArray(n)?Array.isArray(r)?void 0:r:n,a=Iv(t)?t.join(o==null?void 0:o.delimiter):t,l=Array.isArray(n)?n:Array.isArray(r)?r:void 0,c=O.useCallback(e,l??[]),u=O.useRef(c);l?u.current=c:u.current=e;const d=VF(o),{activeScopes:f}=HF(),p=UF();return WF(()=>{if((d==null?void 0:d.enabled)===!1||!zF(f,d==null?void 0:d.scopes))return;let m=[],y;const b=(w,S=!1)=>{var E;if(!(LF(w)&&!mO(w,d==null?void 0:d.enableOnFormTags))){if(i.current!==null){const C=i.current.getRootNode();if((C instanceof Document||C instanceof ShadowRoot)&&C.activeElement!==i.current&&!i.current.contains(C.activeElement)){_E(w);return}}(E=w.target)!=null&&E.isContentEditable&&!(d!=null&&d.enableOnContentEditable)||Og(a,d==null?void 0:d.delimiter).forEach(C=>{var A,N,z,F;if(C.includes((d==null?void 0:d.splitKey)??"+")&&C.includes((d==null?void 0:d.sequenceSplitKey)??">")){console.warn(`Hotkey ${C} contains both ${(d==null?void 0:d.splitKey)??"+"} and ${(d==null?void 0:d.sequenceSplitKey)??">"} which is not supported.`);return}const T=Ig(C,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description);if(T.isSequence){y=setTimeout(()=>{m=[]},(d==null?void 0:d.sequenceTimeoutMs)??1e3);const q=T.useKey?w.key:Us(w.code);if(hO(q.toLowerCase()))return;m.push(q);const H=(A=T.keys)==null?void 0:A[m.length-1];if(q!==H){m=[],y&&clearTimeout(y);return}m.length===((N=T.keys)==null?void 0:N.length)&&(u.current(w,T),y&&clearTimeout(y),m=[])}else if(FF(w,T,d==null?void 0:d.ignoreModifiers)||(z=T.keys)!=null&&z.includes("*")){if((F=d==null?void 0:d.ignoreEventWhen)!=null&&F.call(d,w)||S&&s.current)return;if(jF(w,T,d==null?void 0:d.preventDefault),!DF(w,T,d==null?void 0:d.enabled)){_E(w);return}u.current(w,T),S||(s.current=!0)}})}},g=w=>{w.code!==void 0&&(fO(Us(w.code)),((d==null?void 0:d.keydown)===void 0&&(d==null?void 0:d.keyup)!==!0||d!=null&&d.keydown)&&b(w))},x=w=>{w.code!==void 0&&(pO(Us(w.code)),s.current=!1,d!=null&&d.keyup&&b(w,!0))},v=i.current||(o==null?void 0:o.document)||document;return v.addEventListener("keyup",x,o==null?void 0:o.eventListenerOptions),v.addEventListener("keydown",g,o==null?void 0:o.eventListenerOptions),p&&Og(a,d==null?void 0:d.delimiter).forEach(w=>p.addHotkey(Ig(w,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),()=>{v.removeEventListener("keyup",x,o==null?void 0:o.eventListenerOptions),v.removeEventListener("keydown",g,o==null?void 0:o.eventListenerOptions),p&&Og(a,d==null?void 0:d.delimiter).forEach(w=>p.removeHotkey(Ig(w,d==null?void 0:d.splitKey,d==null?void 0:d.sequenceSplitKey,d==null?void 0:d.useKey,d==null?void 0:d.description))),m=[],y&&clearTimeout(y)}},[a,d,f]),i}function KF({onNavigate:t,onClose:e,isOpen:n}){const[r,i]=O.useState(""),[s,o]=O.useState(0),a=O.useMemo(()=>[{id:"nav-dashboard",label:"Go to Dashboard",icon:V4,action:()=>{t("dashboard"),e()},category:"Navigation",keywords:["home","overview","stats"]},{id:"nav-upload",label:"Upload Files",icon:Bo,action:()=>{t("upload"),e()},category:"Navigation",keywords:["add","import","pdf","pptx"]},{id:"nav-lessons",label:"Browse Lessons",icon:bt,action:()=>{t("lessons"),e()},category:"Navigation",keywords:["learn","study","read"]},{id:"nav-quiz",label:"Take Quiz",icon:Pn,action:()=>{t("quiz"),e()},category:"Navigation",keywords:["test","practice","questions"]},{id:"nav-flashcards",label:"Study Flashcards",icon:yv,action:()=>{t("flashcards"),e()},category:"Navigation",keywords:["cards","review","memorize","spaced repetition"]},{id:"nav-chat",label:"Chat Q&A",icon:ta,action:()=>{t("chat"),e()},category:"Navigation",keywords:["ask","question","ai","help"]},{id:"nav-settings",label:"Settings",icon:Ol,action:()=>{t("settings"),e()},category:"Navigation",keywords:["config","preferences","api"]}],[t,e]),l=O.useMemo(()=>{if(!r)return a;const u=r.toLowerCase();return a.filter(d=>{var f;return d.label.toLowerCase().includes(u)||((f=d.keywords)==null?void 0:f.some(p=>p.toLowerCase().includes(u)))})},[a,r]);O.useEffect(()=>{o(0)},[r]),O.useEffect(()=>{n||(i(""),o(0))},[n]);const c=u=>{u.key==="ArrowDown"?(u.preventDefault(),o(d=>d<l.length-1?d+1:d)):u.key==="ArrowUp"?(u.preventDefault(),o(d=>d>0?d-1:d)):u.key==="Enter"?(u.preventDefault(),l[s]&&l[s].action()):u.key==="Escape"&&e()};return n?h.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[20vh] px-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm animate-scale-in",onClick:e}),h.jsxs("div",{className:"relative w-full max-w-2xl glass-card shadow-2xl animate-slide-up",children:[h.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border/50",children:[h.jsx(xv,{className:"w-5 h-5 text-muted-foreground"}),h.jsx("input",{type:"text",placeholder:"Search commands...",value:r,onChange:u=>i(u.target.value),onKeyDown:c,className:"flex-1 bg-transparent text-foreground placeholder:text-muted-foreground outline-none text-lg",autoFocus:!0}),h.jsx("kbd",{className:"px-2 py-1 text-xs bg-muted rounded border border-border",children:"ESC"})]}),h.jsx("div",{className:"max-h-96 overflow-y-auto p-2",children:l.length===0?h.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[h.jsx(Hb,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),h.jsx("p",{children:"No commands found"})]}):h.jsx("div",{className:"space-y-1",children:l.map((u,d)=>{const f=u.icon,p=d===s;return h.jsxs("button",{onClick:u.action,onMouseEnter:()=>o(d),className:`
                      w-full flex items-center gap-3 p-3 rounded-lg text-left transition-all
                      ${p?"bg-gradient-to-r from-primary/20 to-secondary/20 border border-primary/30":"hover:bg-muted/50"}
                    `,children:[h.jsx("div",{className:`
                      p-2 rounded-lg transition-colors
                      ${p?"bg-gradient-to-br from-primary to-secondary":"bg-muted"}
                    `,children:h.jsx(f,{className:`w-4 h-4 ${p?"text-white":"text-foreground"}`})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium text-foreground",children:u.label}),h.jsx("p",{className:"text-xs text-muted-foreground",children:u.category})]}),p&&h.jsx("kbd",{className:"px-2 py-1 text-xs bg-muted rounded border border-border",children:""})]},u.id)})})}),h.jsxs("div",{className:"flex items-center justify-between p-3 border-t border-border/50 text-xs text-muted-foreground",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border border-border",children:""}),h.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border border-border",children:""}),"Navigate"]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border border-border",children:""}),"Select"]})]}),h.jsxs("span",{className:"flex items-center gap-1",children:["Press ",h.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border border-border",children:"K"})," or ",h.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border border-border",children:"Ctrl+K"})]})]})]})]}):null}function GF(){const[t,e]=O.useState(!1);return ar("mod+k",n=>{n.preventDefault(),e(!0)},{enableOnFormTags:!0}),ar("escape",()=>{t&&e(!1)}),{isOpen:t,open:()=>e(!0),close:()=>e(!1),toggle:()=>e(n=>!n)}}const nh={maxFileSizeMB:200,maxFiles:20,concurrency:2,allowedMimeTypes:new Set(["application/pdf","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint"])},yO=t=>{if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return`${parseFloat((t/Math.pow(e,r)).toFixed(2))} ${n[r]}`},QF=t=>`tmp-${t.name}-${t.size}-${t.lastModified}-${Math.random().toString(36).substring(2,9)}`,YF=async t=>{try{const n=await t.slice(0,4).arrayBuffer(),i=new DataView(n).getUint32(0,!1),s=(t.name.split(".").pop()||"").toLowerCase();return i===626017350||s==="pdf"?{mime:"application/pdf",ext:"pdf",pipeline:"pdf_text_pipeline"}:i===1347093252&&["ppt","pptx"].includes(s)?{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",ext:s,pipeline:"pptx_pipeline"}:{mime:t.type,ext:s}}catch(e){return console.warn("File type detection failed",e),{mime:t.type,ext:(t.name.split(".").pop()||"").toLowerCase()}}},Un={add:t=>({type:"ADD",payload:t}),updateStatus:(t,e,n)=>({type:"UPDATE_STATUS",tempId:t,status:e,errorMessage:n}),updateProgress:(t,e)=>({type:"UPDATE_PROGRESS",tempId:t,progress:e}),remove:t=>({type:"REMOVE",tempId:t}),retry:t=>({type:"RETRY",tempId:t}),clearAll:()=>({type:"CLEAR_ALL"}),incrementInProgress:()=>({type:"INCREMENT_IN_PROGRESS"}),decrementInProgress:()=>({type:"DECREMENT_IN_PROGRESS"})},JF=(t,e)=>{switch(e.type){case"ADD":return{...t,entries:[...t.entries,...e.payload]};case"UPDATE_STATUS":return{...t,entries:t.entries.map(n=>n.tempId===e.tempId?{...n,status:e.status,progress:e.status==="error"?0:n.progress,errorMessage:e.errorMessage||""}:n)};case"UPDATE_PROGRESS":return{...t,entries:t.entries.map(n=>n.tempId===e.tempId?{...n,progress:e.progress}:n)};case"REMOVE":return{...t,entries:t.entries.filter(n=>n.tempId!==e.tempId)};case"RETRY":return{...t,entries:t.entries.map(n=>n.tempId===e.tempId?{...n,status:"pending",controller:new AbortController}:n)};case"CLEAR_ALL":return t.entries.forEach(n=>n.status==="uploading"&&n.controller.abort()),{...t,entries:[],uploadsInProgress:0};case"INCREMENT_IN_PROGRESS":return{...t,uploadsInProgress:t.uploadsInProgress+1};case"DECREMENT_IN_PROGRESS":return{...t,uploadsInProgress:Math.max(0,t.uploadsInProgress-1)};default:return t}},ZF=O.memo(({onFilesAdded:t})=>{const[e,n]=O.useState(!1),r=O.useRef(null),i=a=>{a.preventDefault(),a.stopPropagation(),a.type==="dragenter"||a.type==="dragover"?n(!0):a.type==="dragleave"&&n(!1)},s=a=>{a.preventDefault(),a.stopPropagation(),n(!1),a.dataTransfer.files&&a.dataTransfer.files[0]&&t(Array.from(a.dataTransfer.files))},o=a=>{a.target.files&&a.target.files[0]&&(t(Array.from(a.target.files)),a.target.value="")};return h.jsxs("div",{role:"button",tabIndex:0,"aria-label":"File upload dropzone",onClick:()=>{var a;return(a=r.current)==null?void 0:a.click()},onKeyDown:a=>{var l;return(a.key==="Enter"||a.key===" ")&&((l=r.current)==null?void 0:l.click())},onDragEnter:i,onDragOver:i,onDragLeave:i,onDrop:s,className:`border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200 ease-in-out cursor-pointer ${e?"border-secondary bg-secondary/10":"border-border hover:border-secondary"}`,children:[h.jsx(Bo,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Drop Your Files or Click to Upload"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"PDF and PPTX supported"}),h.jsx("input",{ref:r,type:"file",multiple:!0,className:"hidden",onChange:o,accept:".pdf,.pptx,.ppt"})]})}),XF=O.memo(({entry:t,onCancel:e,onRemove:n,onRetry:r})=>{const{status:i,progress:s,file:o,errorMessage:a}=t,l=()=>{switch(i){case"pending":return{icon:h.jsx(Al,{className:"w-5 h-5 text-muted-foreground"}),text:"Pending...",color:"bg-muted/20 text-foreground"};case"uploading":return{icon:h.jsx(Qt,{className:"w-5 h-5 animate-spin text-secondary"}),text:"Uploading...",color:"bg-secondary/10 text-secondary"};case"processing":return{icon:h.jsx(Qt,{className:"w-5 h-5 animate-spin text-primary"}),text:"Processing...",color:"bg-primary/10 text-primary"};case"success":return{icon:h.jsx(am,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),text:"Success",color:"bg-green-500/10 text-green-600 dark:text-green-400"};case"error":return{icon:h.jsx(fd,{className:"w-5 h-5 text-rose-600 dark:text-red-400"}),text:"Error",color:"bg-rose-500/10 text-rose-600 dark:text-red-400"};case"cancelled":return{icon:h.jsx(V2,{className:"w-5 h-5 text-muted-foreground"}),text:"Cancelled",color:"bg-muted/20 text-muted-foreground"}}},{icon:c,text:u,color:d}=l();return h.jsxs("div",{className:"p-4 flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[h.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center shrink-0",children:h.jsx(Jn,{className:"w-6 h-6 text-muted-foreground"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-medium text-foreground truncate",title:o.name,children:o.name}),h.jsx("p",{className:"text-xs text-muted-foreground",children:yO(o.size)}),(i==="uploading"||i==="processing")&&h.jsx("div",{className:"mt-2 w-full bg-muted/30 rounded-full h-2",children:h.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary h-2 rounded-full transition-all duration-300 shadow-sm shadow-primary/20",style:{width:`${s}%`},role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100})}),i==="error"&&h.jsx("p",{className:"text-xs text-rose-600 dark:text-red-400 mt-1 truncate",title:a,children:a})]})]}),h.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[h.jsxs("span",{className:`hidden sm:inline-flex items-center gap-2 px-2 py-1 text-xs rounded-full ${d}`,children:[c,u]}),i==="uploading"&&h.jsx("button",{onClick:e,title:"Cancel",className:"p-1.5 text-muted-foreground hover:bg-muted/50 rounded-md transition-colors",children:h.jsx(pd,{className:"w-4 h-4"})}),(i==="error"||i==="cancelled")&&h.jsx("button",{onClick:r,title:"Retry",className:"p-1.5 text-primary hover:bg-primary/10 rounded-md transition-colors",children:h.jsx(bv,{className:"w-4 h-4"})}),(i==="error"||i==="cancelled"||i==="success")&&h.jsx("button",{onClick:n,title:"Remove",className:"p-1.5 text-rose-500 hover:bg-rose-500/10 rounded-md transition-colors",children:h.jsx(Xl,{className:"w-4 h-4"})})]})]})}),eB=O.memo(({upload:t,onDelete:e})=>h.jsxs("div",{className:"p-4 flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[h.jsx("div",{className:"w-12 h-12 glass-card border border-border/40 rounded-lg flex items-center justify-center shrink-0",children:h.jsx(Jn,{className:"w-6 h-6 text-primary"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"font-medium text-foreground truncate",children:t.filename}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:[yO(t.size??0),"  Uploaded on ",new Date(t.uploadedAt).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[h.jsx(am,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),h.jsx("button",{onClick:e,title:"Delete",className:"p-1.5 text-rose-500 hover:bg-rose-500/10 rounded-md transition-colors",children:h.jsx(Xl,{className:"w-4 h-4"})})]})]})),tB=({uploads:t,onAddUpload:e,onDeleteUpload:n,maxFileSizeMB:r=nh.maxFileSizeMB,maxFiles:i=nh.maxFiles,concurrency:s=nh.concurrency})=>{const[o,a]=O.useReducer(JF,{entries:[],uploadsInProgress:0}),[l,c]=O.useState(null),u=O.useRef(e);u.current=e;const d=O.useCallback(async g=>{try{const x=(w,S,E)=>{a(Un.updateProgress(g.tempId,w)),S&&console.log(`[Upload ${g.file.name}] ${w}% - ${S}${E?` (${E}s remaining)`:""}`)},v=await YF(g.file);await u.current(g.file,{signal:g.controller.signal,clientHint:v,onProgress:x}),a(Un.updateStatus(g.tempId,"processing")),await new Promise(w=>setTimeout(w,400)),a(Un.updateStatus(g.tempId,"success")),setTimeout(()=>a(Un.remove(g.tempId)),1200)}catch(x){g.controller.signal.aborted?a(Un.updateStatus(g.tempId,"cancelled")):a(Un.updateStatus(g.tempId,"error",(x==null?void 0:x.message)||"Upload failed"))}finally{a(Un.decrementInProgress())}},[]);O.useEffect(()=>{const g=o.entries.filter(v=>v.status==="pending"),x=s-o.uploadsInProgress;if(g.length>0&&x>0){const v=g.slice(0,x);for(const w of v)a(Un.incrementInProgress()),a(Un.updateStatus(w.tempId,"uploading")),d(w)}},[o.entries,o.uploadsInProgress,s,d]);const f=O.useCallback(g=>{if(c(null),t.length+o.entries.length+g.length>i){c(`Cannot add ${g.length} files. You would exceed the limit of ${i}.`);return}const v=g.map(E=>{if(t.some(A=>A.filename===E.name&&A.size===E.size)||o.entries.some(A=>A.file.name===E.name&&A.file.size===E.size))return{error:"Duplicate file."};if(E.size===0)return{error:"File is empty (0 bytes)."};if(!nh.allowedMimeTypes.has(E.type)&&!/\.(pdf|pptx|ppt)$/i.test(E.name))return{error:"Unsupported file type."};if(E.size>r*1024*1024)return{error:`Exceeds ${r}MB limit.`};const T=E.size/1024/1024;return T>100&&console.warn(`[Upload] Large file detected: ${E.name} (${T.toFixed(2)}MB). Processing may take several minutes.`),{tempId:QF(E),file:E,status:"pending",progress:0,controller:new AbortController}}),w=v.filter(E=>!("error"in E)),S=v.filter(E=>"error"in E);if(S.length>0){const E=[...new Set(S.map(C=>C.error))];E.length===1?c(`${S.length} file(s) could not be added: ${E[0]}`):c(`${S.length} file(s) could not be added: ${E.join(", ")}`)}w.length>0&&a(Un.add(w))},[t,o.entries,i,r]),p=O.useCallback(g=>{const x=o.entries.find(v=>v.tempId===g);x&&(x.controller.abort(),a(Un.updateStatus(g,"cancelled")))},[o.entries]),m=O.useCallback(g=>{a(Un.remove(g))},[]),y=O.useCallback(g=>{a(Un.retry(g))},[]),b=g=>{window.confirm("Are you sure you want to delete this document?")&&n(g)};return h.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[h.jsxs("div",{className:"text-center p-4",children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Power Up Your Library"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Drop your PDFs and presentations - we'll transform them into study superpowers automatically!"})]}),h.jsxs("div",{className:"glass-card rounded-xl p-6 shadow-sm border border-border/40",children:[h.jsx(ZF,{onFilesAdded:f}),l&&h.jsx("div",{className:"mt-3 text-sm text-center text-rose-600 dark:text-red-400 p-3 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:l})]}),h.jsxs("div",{className:"glass-card rounded-xl shadow-sm border border-border/40",children:[h.jsx("div",{className:"p-4 border-b border-border/40",children:h.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Upload Queue"})}),o.entries.length>0?h.jsx("div",{className:"divide-y divide-border/40",children:o.entries.map(g=>h.jsx(XF,{entry:g,onCancel:()=>p(g.tempId),onRemove:()=>m(g.tempId),onRetry:()=>y(g.tempId)},g.tempId))}):h.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[h.jsx(W4,{className:"w-10 h-10 mx-auto text-muted-foreground mb-2"}),h.jsx("p",{children:"No files in the upload queue."})]})]}),h.jsxs("div",{className:"glass-card rounded-xl shadow-sm border border-border/40",children:[h.jsx("div",{className:"p-4 border-b border-border/40",children:h.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Processed Documents"})}),t.length>0?h.jsx("div",{className:"divide-y divide-border/40",children:t.map(g=>h.jsx(eB,{upload:g,onDelete:()=>b(g.id)},g.id))}):h.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[h.jsx(Jn,{className:"w-10 h-10 mx-auto text-muted-foreground mb-2"}),h.jsx("p",{children:"No documents have been uploaded yet."})]})]})]})};function Rg(t,e={}){const{maxChunkSize:n=3e3,overlapSize:r=600,preserveParagraphs:i=!0,adaptiveChunking:s=!0}=e;if(!t||t.trim().length===0)return[];if(t.length<=n)return[{text:t,index:0,total:1}];let o=n;s&&rB(t)>.7&&(o=Math.floor(n*.7));const a=[];let l=0;for(;l<t.length;){let u=l+o;if(u<t.length&&i){const f=t.lastIndexOf(`

`,u);if(f>l+o*.5)u=f+2;else{const p=t.lastIndexOf(`
`,u);if(p>l+o*.5)u=p+1;else{const m=nB(t,u,l);if(m>l)u=m;else{const y=t.lastIndexOf(" ",u);y>l+o*.5&&(u=y+1)}}}}const d=t.substring(l,u).trim();if(d.length>0&&a.push({text:d,index:a.length,total:0}),l=u-r,l>=t.length)break}const c=a.length;return a.forEach(u=>u.total=c),a}function nB(t,e,n){const r=[". ","! ","? ",`.
`,`!
`,`?
`];let i=-1,s=1/0;for(const o of r){const a=t.lastIndexOf(o,e);if(a>n){const l=Math.abs(e-a);l<s&&(s=l,i=a+o.length)}}return i}function rB(t){const n=t.substring(0,Math.min(2e3,t.length)).split(/\s+/),r=[/\d+/,/[A-Z]{2,}/,/[_\-\.]{2,}/,/\([^)]+\)/,/\[[^\]]+\]/,/\{[^}]+\}/,/```/];let i=0;for(const s of n)r.some(o=>o.test(s))&&i++;return n.length>0?i/n.length:0}function Mg(t){return Math.ceil(t.length/4)}function iB(t,e="lesson"){if(t.length===0)return"";if(t.length===1)return t[0];if(e==="lesson"){const n=[],r=new Set;for(let i=0;i<t.length;i++){const o=t[i].split(`
`),a=[];for(const l of o){const c=l.trim();if(c.startsWith("#")){if(r.has(c))continue;r.add(c)}a.push(l)}n.push(a.join(`
`))}return n.join(`

---

`)}return t.join(`

`)}const sB="https://openrouter.ai/api/v1/chat/completions",Ae=["meta-llama/llama-3.1-8b-instruct:free","qwen/qwen-2.5-32b-instruct:free","google/gemma-2-9b-it:free","mistralai/mistral-7b-instruct:free","deepseek/deepseek-r1:free","openchat/openchat-3.5:free","mistralai/mixtral-8x7b-instruct","meta-llama/llama-3.1-70b-instruct","qwen/qwen-2.5-72b-instruct","nousresearch/hermes-2-pro-mistral"],bc={lesson:[Ae[0],Ae[2],Ae[6],Ae[3],Ae[7],Ae[1],Ae[8],Ae[4],Ae[5],Ae[9]],quiz:[Ae[0],Ae[1],Ae[2],Ae[3],Ae[6],Ae[7],Ae[5],Ae[4],Ae[8],Ae[9]],flashcards:[Ae[0],Ae[1],Ae[2],Ae[3],Ae[6],Ae[7],Ae[5],Ae[4],Ae[8],Ae[9]],chat:[Ae[0],Ae[1],Ae[2],Ae[3],Ae[4],Ae[5],Ae[6],Ae[7],Ae[8],Ae[9]]};class $f{constructor(e){if(this.apiKey=e,!e||e.trim()===""||e==="placeholder-key")throw new Error("OpenRouter API key is required. Please configure your API key in Settings.")}get headers(){if(!this.apiKey)throw new Error("OpenRouter API key not configured");return{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","HTTP-Referer":typeof window<"u"?window.location.origin:"https://slidetutor.ai","X-Title":"SlideTutor AI"}}async rawCompletionRequest(e,n,{expectJson:r,temperature:i=.3,maxTokens:s=4096,signal:o,stream:a}={}){var p,m,y,b,g,x,v,w;const l={model:e,messages:n,temperature:i,top_p:.9,max_tokens:s};r?(l.response_format={type:"json_object"},a&&delete l.stream):a&&(l.stream=!0);const c=await fetch(sB,{method:"POST",headers:this.headers,body:JSON.stringify(l),signal:o});if(!c.ok){const S=await c.text().catch(()=>""),E=c.status===429?"Rate limited. Retry soon or try another model.":c.status>=500?"Provider error. Retry or switch model.":"Verify request format and API key/limits.";throw new Error(`OpenRouter ${c.status} ${c.statusText} [${e}]  ${E}
${S}`)}if(a)return c;const u=await c.json(),d=((y=(m=(p=u==null?void 0:u.choices)==null?void 0:p[0])==null?void 0:m.message)==null?void 0:y.content)??((x=(g=(b=u==null?void 0:u.choices)==null?void 0:b[0])==null?void 0:g.delta)==null?void 0:x.content)??"",f=((w=(v=u==null?void 0:u.choices)==null?void 0:v[0])==null?void 0:w.finish_reason)??"";return{content:d,finish:f,raw:u}}async completionWithFallback(e,n,r={}){let i;for(let s=0;s<e.length;s++){const o=e[s];let a=0;const l=5;for(;a<l;)try{const c=await this.rawCompletionRequest(o,n,r);return c instanceof Response?c:{...c,model:o}}catch(c){i=c;const u=typeof(c==null?void 0:c.message)=="string"&&(/\b429\b/.test(c.message)||/\b5\d{2}\b/.test(c.message));if(a++,a>=l||!u)break;const f=1e3*Math.pow(2,a-1),p=Math.random()*500,m=Math.min(f+p,3e4);console.log(`[OpenRouterAPI] Rate limited on ${o}, attempt ${a}/${l}, retrying in ${Math.round(m)}ms...`),await new Promise(y=>setTimeout(y,m))}}throw i??new Error("All model attempts failed")}async generateLesson(e,n,r=!0){const i=typeof e=="string"?e:String(e.fullText??"");if(!i||i.trim().length===0)throw new Error("No content provided for lesson generation");if(!(Mg(i)>4e3)){n==null||n(10,"Preparing content...");let d=10;const f=setInterval(()=>{d<90&&(d+=5+Math.random()*10,d>90&&(d=90),n==null||n(Math.round(d),"AI is generating your lesson..."))},400);try{setTimeout(()=>n==null?void 0:n(20,"Analyzing content..."),100),setTimeout(()=>n==null?void 0:n(35,"Generating structure..."),300),setTimeout(()=>n==null?void 0:n(50,"Creating detailed explanations..."),600);const p=await this.generateSingleLesson(i,void 0,r);return clearInterval(f),n==null||n(100,"Complete!"),p}catch(p){throw clearInterval(f),p}}n==null||n(5,"Preparing content chunks...");const a=Rg(i,{maxChunkSize:3e3,overlapSize:600,preserveParagraphs:!0,adaptiveChunking:!0});console.log(`[generateLesson] Processing large document: ${i.length} chars split into ${a.length} chunks`),n==null||n(10,`Processing ${a.length} chunks...`);const l=[];let c="";for(let d=0;d<a.length;d++){const f=a[d],p=10+(d+1)/a.length*80;n==null||n(Math.round(p),`Processing chunk ${d+1} of ${a.length}...`);let m;d>0&&c&&(m=`CRITICAL INSTRUCTIONS FOR PART ${d+1} OF ${a.length}:

1. This is a continuation of a multi-part lesson
2. Previous sections already covered: ${c}
3. DO NOT repeat or re-explain concepts from previous parts
4. DO NOT make up information not present in the content below
5. Focus ONLY on NEW content from the text below
6. Build upon previous concepts naturally
7. Use ONLY facts explicitly stated in the provided content

Content to teach (STICK TO THIS ONLY):`);const y=await this.generateSingleLesson(f.text,m,r&&d===a.length-1);if(l.push(y),d<a.length-1){c=y.split(`
`).filter(v=>v.trim()).filter(v=>v.startsWith("#")).slice(0,5).join(", ")||"previous content";const x=500+Math.random()*500;await new Promise(v=>setTimeout(v,x))}}n==null||n(95,"Merging results...");const u=iB(l,"lesson");return n==null||n(100,"Complete!"),console.log(`[generateLesson] Merged lesson length: ${u.length} chars from ${a.length} chunks`),u}async generateSingleLesson(e,n,r=!0){const s=!!n?`You are an expert educator continuing a multi-part lesson.

 CRITICAL ANTI-HALLUCINATION RULES - FOLLOW STRICTLY:
 Use ONLY information explicitly stated in the provided content below
 DO NOT invent, assume, or add ANY examples, facts, statistics, or data not in the source
 DO NOT repeat or rehash concepts from previous lesson parts
 DO NOT speculate, generalize, or add common knowledge
 If something is unclear or missing, DO NOT fill gaps - skip it
 Every sentence must be traceable to the source content
 When in doubt, say less rather than inventing content

Structure your response with:
- Clear section headings for new topics
- **Bold** for key terms
- \`code\` for technical terms
- > blockquotes for important notes
- Lists for related items
- Code blocks with language tags for examples`:`You are an expert educator and curriculum designer creating COMPREHENSIVE lessons from SOURCE MATERIAL ONLY.

 CRITICAL ANTI-HALLUCINATION RULES - ABSOLUTE REQUIREMENTS:
 Use ONLY information explicitly present in the provided content
 DO NOT add ANY facts, examples, statistics, or data not in the source
 DO NOT invent case studies, scenarios, or real-world applications
 DO NOT add general knowledge or common examples from outside the source
 Every statement must be directly from the provided content
 If you cannot find something in the content, DO NOT include it
 Better to have a shorter accurate lesson than a longer one with invented content
 When uncertain about ANY detail, omit it entirely

STRICT CONTENT SOURCING:
- Examples: ONLY from source material
- Statistics/Numbers: ONLY if explicitly stated in source
- Definitions: ONLY as written in source
- Applications: ONLY if mentioned in source

Create an EXTENSIVE, IN-DEPTH lesson using ONLY the provided content.
Each section should be THOROUGH with MULTIPLE paragraphs and DETAILED explanations FROM THE SOURCE.

Required Structure (BE THOROUGH IN EVERY SECTION):

# [Clear, Descriptive Title]

##  Overview
Write a comprehensive introduction (5-8 sentences) that:
- Explains what learners will master in this lesson
- Highlights why this topic is important and relevant
- Provides context and real-world significance
- Sets clear learning objectives

##  Core Concepts
### Fundamental Ideas
DETAILED explanation of main concepts (3-5 paragraphs):
- Define each concept thoroughly with clear, simple language
- Provide MULTIPLE real-world analogies for each concept
- Include historical context or background when relevant
- Break down complex ideas into digestible components
- Use examples and counter-examples to clarify

### Deep Dive: How It Works
COMPREHENSIVE step-by-step explanation (4-6 paragraphs):
- Detailed breakdown of processes and mechanisms
- Numbered lists for sequential steps with thorough explanations
- Visual descriptions (describe diagrams/charts textually)
- Technical details explained in accessible language
- Common pitfalls and how to avoid them

###  Practical Examples & Applications
EXTENSIVE real-world examples (5-8 examples):
- Multiple concrete, relatable scenarios
- Industry applications and use cases
- Step-by-step walkthroughs of practical applications
- Before/after comparisons
- Success stories and case studies

##  Key Points to Remember
Comprehensive list of takeaways (8-12 bullet points):
- Each point should be detailed (2-3 sentences)
- Cover all critical concepts
- Include practical implications
- Highlight connections between ideas

##  Common Questions & Expert Tips
DETAILED FAQ section (5-8 Q&A pairs):
- Address common misconceptions with thorough explanations
- Provide expert tips and best practices
- Include troubleshooting advice
- Offer practical wisdom from experience
- Answer "what if" scenarios

##  Advanced Insights
Go deeper (3-4 paragraphs):
- Explore advanced aspects of the topic
- Discuss future trends and developments
- Provide resources for further learning
- Connect to related topics and fields

##  Summary & Recap
Comprehensive recap (8-10 bullet points):
- Each point summarizing a major section
- Reinforce key concepts with brief explanations
- Tie everything together cohesively

`+(r?`##  Quick Self-Check
Include 5-8 thoughtful questions to test deep understanding:
Format each as: **Q: [Challenging Question]**
A: [Detailed Answer with Explanation]

`:"")+`FORMATTING REQUIREMENTS (Make it visually stunning):
- Use **bold** extensively for emphasis on key terms and concepts
- Use \`code\` for technical terms, formulas, and code snippets
- Use > blockquotes for important notes, warnings, and key insights
- Use numbered lists for sequential steps (with sub-steps when needed)
- Use bullet points with sub-bullets for hierarchical information
- Use code blocks with language tags for code examples
- Use tables for comparisons, specifications, or structured data
- Use emojis sparingly for section headers to improve visual appeal
- Use horizontal rules (---) to separate major sections
- Format mathematical equations clearly

CRITICAL REQUIREMENTS:
 MAKE THIS LESSON 3-4X LONGER than a typical lesson
 EVERY section must be DETAILED and COMPREHENSIVE
 Include MULTIPLE examples in every section
 Write in DEPTH - don't rush through topics
 Make it visually appealing, professional, and engaging
 Explain everything thoroughly so anyone can master the subject
 Use rich markdown formatting throughout

Remember: LONGER is BETTER. DETAIL is ESSENTIAL. Make this a COMPREHENSIVE resource that leaves no questions unanswered.`,o=n?`${n}

${e}`:`Create an engaging, comprehensive lesson from this content:

${e}`,a=[{role:"system",content:s},{role:"user",content:o}],l=await this.completionWithFallback(bc.lesson,a,{maxTokens:8192,temperature:.4});if(l instanceof Response)throw new Error("Unexpected stream for generateLesson");return l.finish==="length"&&console.warn(`[generateLesson] Output may be truncated on model ${l.model}`),l.content}async generateQuiz(e,n=5,r){if(!e||e.trim().length===0)throw new Error("No content provided for quiz generation");if(!(Mg(e)>4e3)){r==null||r(10,"Preparing quiz generator...");let u=10;const d=setInterval(()=>{u<90&&(u+=5+Math.random()*10,u>90&&(u=90),r==null||r(Math.round(u),"AI is creating your quiz..."))},400);try{setTimeout(()=>r==null?void 0:r(20,"Analyzing content for questions..."),100),setTimeout(()=>r==null?void 0:r(35,"Generating questions..."),300),setTimeout(()=>r==null?void 0:r(55,"Creating answer options..."),600),setTimeout(()=>r==null?void 0:r(70,"Writing explanations..."),900);const f=await this.generateSingleQuiz(e,n);return clearInterval(d),r==null||r(100,"Complete!"),f}catch(f){throw clearInterval(d),f}}r==null||r(5,"Preparing content chunks...");const o=Rg(e,{maxChunkSize:3e3,overlapSize:600,preserveParagraphs:!0,adaptiveChunking:!0});console.log(`[generateQuiz] Processing large document: ${e.length} chars split into ${o.length} chunks`);const a=Math.ceil(n/o.length);r==null||r(10,`Generating ${n} questions from ${o.length} chunks...`);const l=[];for(let u=0;u<o.length;u++){const d=o[u],f=10+(u+1)/o.length*85;r==null||r(Math.round(f),`Processing chunk ${u+1} of ${o.length}...`);const p=await this.generateSingleQuiz(d.text,a),m=JSON.parse(p);if(m.quiz&&Array.isArray(m.quiz)&&l.push(...m.quiz),u<o.length-1){const y=500+Math.random()*500;await new Promise(b=>setTimeout(b,y))}}const c=l.slice(0,n);return r==null||r(100,"Complete!"),JSON.stringify({quiz:c})}async generateSingleQuiz(e,n){const r=`You are an expert quiz creator. Generate clear, well-explained multiple-choice questions from the provided content.

 CRITICAL ANTI-HALLUCINATION RULES - ABSOLUTE REQUIREMENTS:
 Create questions ONLY about facts EXPLICITLY STATED in the content below
 DO NOT create questions about general knowledge or outside information
 DO NOT create questions about topics not covered in the provided text
 All answer options must be directly derivable from the source content
 Wrong answer options must be plausible based on content, not invented
 Explanations must reference SPECIFIC parts of the provided content
 DO NOT assume or add ANY information beyond what is written
 If content is limited, create fewer high-quality questions
 Every question and option must be verifiable from the source text

STRICT VERIFICATION REQUIREMENT:
Before including each question, verify:
1. The correct answer is explicitly stated in the content
2. All incorrect options are based on content (or reasonable negations)
3. The explanation quotes or references the source material

Return ONLY a valid JSON object with one key "quiz", an array of question objects.
Schema for each question:
{
  "question": "question text",
  "options": ["option A", "option B", "option C", "option D"],
  "correctIndex": 0,
  "explanation": "detailed explanation with references to the source content"
}
No markdown, no code fences, no extra text. Questions must test understanding of the PROVIDED content only.`,i=`Create exactly ${n} multiple-choice questions from this content:

${e}`,s=[{role:"system",content:r},{role:"user",content:i}],o=await this.completionWithFallback(bc.quiz,s,{maxTokens:4096,temperature:.1,expectJson:!0});if(o instanceof Response)throw new Error("Unexpected stream for generateQuiz");return o.content}async generateFlashcards(e,n=10,r){if(!e||e.trim().length===0)throw new Error("No content provided for flashcard generation");console.log("[OpenRouterAPI] Starting flashcard generation, content length:",e.length,"cards:",n);const i=Mg(e),s=i>4e3;if(console.log("[OpenRouterAPI] Estimated tokens:",i,"needs chunking:",s),!s){console.log("[OpenRouterAPI] Using single-chunk generation"),r==null||r(10,"Preparing flashcard generator...");let u=10;const d=setInterval(()=>{u<90&&(u+=5+Math.random()*10,u>90&&(u=90),r==null||r(Math.round(u),"AI is creating your flashcards..."))},400);try{setTimeout(()=>r==null?void 0:r(20,"Extracting key concepts..."),100),setTimeout(()=>r==null?void 0:r(40,"Creating flashcard questions..."),300),setTimeout(()=>r==null?void 0:r(60,"Writing detailed answers..."),600),setTimeout(()=>r==null?void 0:r(80,"Adding helpful hints..."),900);const f=await this.generateSingleFlashcardSet(e,n);return clearInterval(d),r==null||r(100,"Complete!"),console.log("[OpenRouterAPI] Single-chunk generation complete"),f}catch(f){throw clearInterval(d),f}}console.log("[OpenRouterAPI] Starting chunked generation"),r==null||r(5,"Preparing content chunks...");const o=Rg(e,{maxChunkSize:3e3,overlapSize:600,preserveParagraphs:!0,adaptiveChunking:!0}),a=Math.ceil(n/o.length);console.log("[OpenRouterAPI] Split into",o.length,"chunks,",a,"cards per chunk"),r==null||r(10,`Generating ${n} flashcards from ${o.length} chunks...`);const l=[];for(let u=0;u<o.length;u++){const d=o[u],f=10+(u+1)/o.length*85;console.log(`[OpenRouterAPI] Processing chunk ${u+1}/${o.length}, progress: ${Math.round(f)}%`),r==null||r(Math.round(f),`Processing chunk ${u+1} of ${o.length}...`);const p=await this.generateSingleFlashcardSet(d.text,a),m=JSON.parse(p);if(m.flashcards&&Array.isArray(m.flashcards)&&(console.log(`[OpenRouterAPI] Chunk ${u+1} generated ${m.flashcards.length} cards`),l.push(...m.flashcards)),u<o.length-1){const y=500+Math.random()*500;await new Promise(b=>setTimeout(b,y))}}const c=l.slice(0,n);return console.log("[OpenRouterAPI] Chunked generation complete, total cards:",c.length),r==null||r(100,"Complete!"),JSON.stringify({flashcards:c})}async generateSingleFlashcardSet(e,n){const r=`You are an expert at creating educational flashcards from SOURCE MATERIAL ONLY.

 CRITICAL ANTI-HALLUCINATION RULES - ABSOLUTE REQUIREMENTS:
 Create flashcards ONLY from facts EXPLICITLY STATED in the provided content
 DO NOT add ANY information, examples, or facts not in the source
 DO NOT create cards about general knowledge or outside information
 Questions must be about concepts directly mentioned in the content
 Answers must be word-for-word or paraphrased from the source only
 Hints must reference specific parts of the provided content
 DO NOT assume or infer information beyond what is written
 If content is limited, create fewer high-quality cards
 Every flashcard must be verifiable from the source text

STRICT VERIFICATION REQUIREMENT:
Before including each flashcard, verify:
1. The question asks about something explicitly covered in the content
2. The answer is directly stated or clearly derivable from the source
3. The hint (if any) references actual content from the source

Return ONLY a valid JSON object with one key "flashcards", an array of cards.
Each card has "question" (front), "answer" (back), and "hint" (optional) keys.
No markdown, no code fences, no extra text. Focus on key concepts from the PROVIDED content only.`,i=`Create exactly ${n} flashcards from this content:

${e}`,s=[{role:"system",content:r},{role:"user",content:i}],o=await this.completionWithFallback(bc.flashcards,s,{maxTokens:4096,temperature:.1,expectJson:!0});if(o instanceof Response)throw new Error("Unexpected stream for generateFlashcards");return o.content}async answerQuestion(e,n){const r=`You are a helpful AI assistant. Answer the user's question using only the provided context.
If the answer is not in the context, say: "I dont see that in the provided documents."`,i=`Context:
${n}

Question: ${e}`,s=[{role:"system",content:r},{role:"user",content:i}],o=await this.completionWithFallback(bc.chat,s,{maxTokens:2048,temperature:.2});if(o instanceof Response)throw new Error("Unexpected stream for answerQuestion");return o.content}async answerQuestionStream(e,n,r={}){const i=`You are a helpful AI assistant. Answer the user's question using only the provided context.
If the answer is not in the context, say: "I dont see that in the provided documents."`,s=`Context:
${n}

Question: ${e}`,o=[{role:"system",content:i},{role:"user",content:s}];let a;for(const l of bc.chat)try{const c=await this.rawCompletionRequest(l,o,{temperature:.2,maxTokens:2048,stream:!0,signal:r.signal});if(!(c instanceof Response))throw new Error("Expected streaming Response");return c}catch(c){a=c}throw a??new Error("All streaming model attempts failed")}}class jl{constructor(e){ee(this,"api");this.api=new $f(e)}async generateChunkedLesson(e,n,r,i=!0){return this.api.generateLesson(e,r,i)}async generateChunkedQuiz(e,n,r){return this.api.generateQuiz(e,n,r)}async generateChunkedFlashcards(e,n,r){return this.api.generateFlashcards(e,n,r)}async answerQuestionWithContext(e,n,r){return this.api.answerQuestion(e,n)}}function lx(t){if(!t)return null;const e=t.match(/```json\s*([\s\S]*?)\s*```/i);if(e!=null&&e[1])try{return JSON.parse(e[1])}catch(i){console.error("Failed to parse JSON from code fence:",i)}const n=t.indexOf("{"),r=t.lastIndexOf("}");if(n!==-1&&r>n){const i=t.substring(n,r+1);try{return JSON.parse(i)}catch(s){console.error("Failed to parse JSON from substring:",s)}}return null}function oB(t){const e=[/(?:youtube\.com\/watch\?v=)([^&\s]{11})/,/(?:youtube\.com\/embed\/)([^&\s]{11})/,/(?:youtube\.com\/v\/)([^&\s]{11})/,/(?:youtu\.be\/)([^&\s]{11})/,/(?:youtube\.com\/shorts\/)([^&\s]{11})/,/(?:youtube\.com\/live\/)([^&\s]{11})/];for(const n of e){const r=t.match(n);if(r)return r[1]}return null}async function aB(t){let e="YouTube Video",n="";try{const r=`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${t}&format=json`,i=await fetch(r);if(i.ok){const s=await i.json();return e=s.title||e,n=s.author_name||"",console.log("[YouTube]  Metadata from oEmbed:",e),{title:e,description:n}}}catch{console.log("[YouTube] oEmbed failed, trying alternative...")}try{const r=await fetch(`https://noembed.com/embed?url=https://www.youtube.com/watch?v=${t}`);if(r.ok){const i=await r.json();return e=i.title||e,n=i.author_name||"",console.log("[YouTube]  Metadata from noembed:",e),{title:e,description:n}}}catch{console.log("[YouTube] noembed failed")}return{title:e,description:n}}async function lB(t){const e=[{name:"supadata.ai",fetch:async()=>{const n=await fetch(`https://supadata.ai/youtube-transcript-api?videoId=${t}`,{signal:AbortSignal.timeout(1e4)});if(!n.ok)return null;const r=await n.json();return Array.isArray(r)&&r.length>0?r.map(i=>i.text||"").join(" "):null}},{name:"kome.ai (free transcript API)",fetch:async()=>{const n=await fetch(`https://kome.ai/api/tools/youtube-transcripts?url=https://www.youtube.com/watch?v=${t}`,{signal:AbortSignal.timeout(1e4)});if(!n.ok)return null;const r=await n.json();return r!=null&&r.transcript?r.transcript:null}},{name:"youtubetranscript.com",fetch:async()=>{const n=await fetch(`https://youtubetranscript.com/api/transcript?videoId=${t}`,{signal:AbortSignal.timeout(1e4)});if(!n.ok)return null;const r=await n.json();return Array.isArray(r==null?void 0:r.transcript)&&r.transcript.length>0?r.transcript.map(i=>i.text||"").join(" "):null}},{name:"youtube-captions-scraper (CORS proxy)",fetch:async()=>{const n=await fetch(`https://corsproxy.io/?https://www.youtube.com/watch?v=${t}`,{signal:AbortSignal.timeout(15e3)}).catch(()=>null);if(!n||!n.ok)return null;const i=(await n.text()).match(/"captionTracks":\s*(\[.*?\])/);if(i){const s=JSON.parse(i[1]);if(s.length>0){const o=s[0].baseUrl,a=await fetch(o,{signal:AbortSignal.timeout(1e4)});if(a.ok){const c=(await a.text()).matchAll(/<text[^>]*>([^<]+)<\/text>/g),u=Array.from(c).map(d=>d[1]);if(u.length>0)return u.join(" ").replace(/&amp;#39;/g,"'").replace(/&amp;/g,"&")}}}return null}},{name:"invid.io API (alternative endpoint)",fetch:async()=>{const n=await fetch(`https://invid.io/api/youtube-transcript/${t}`,{signal:AbortSignal.timeout(1e4)}).catch(()=>null);if(!n||!n.ok)return null;const r=await n.json();return r!=null&&r.captions&&Array.isArray(r.captions)?r.captions.map(i=>i.text||"").join(" "):null}}];for(const n of e)try{console.log(`[YouTube] Trying ${n.name}...`);const r=await n.fetch();if(r&&r.length>50)return console.log(`[YouTube]  Transcript from ${n.name}! Length: ${r.length} chars`),{text:r,source:n.name}}catch(r){console.log(`[YouTube] ${n.name} failed:`,r instanceof Error?r.message:"Unknown error")}return console.log("[YouTube]  All transcript APIs failed"),null}async function Rv(t){const e=oB(t);if(!e)throw new Error("Invalid YouTube URL. Please check the URL format and try again.");console.log("[YouTube]  Processing video:",e);const n=await aB(e);console.log("[YouTube]  Title:",n.title);const r=await lB(e);return r?{videoId:e,title:n.title,description:n.description,transcript:r.text.trim(),hasTranscript:!0,transcriptSource:r.source}:(console.log("[YouTube]  No transcript available from any API - AI fallback will be used"),{videoId:e,title:n.title,description:n.description,transcript:"",hasTranscript:!1,transcriptSource:"none - will use AI fallback"})}function Mv({progress:t,message:e,className:n=""}){return h.jsxs("div",{className:`space-y-3 ${n}`,children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Qt,{className:"w-4 h-4 animate-spin text-primary"}),h.jsx("span",{className:"text-foreground font-medium",children:e||"Processing..."})]}),h.jsxs("span",{className:"text-primary font-bold",children:[Math.round(t),"%"]})]}),h.jsxs("div",{className:"relative h-2 bg-muted rounded-full overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-muted via-muted/50 to-muted opacity-50 animate-pulse"}),h.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-primary via-secondary to-primary rounded-full transition-all duration-300 ease-out shadow-lg shadow-primary/50",style:{width:`${t}%`},children:h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})})]}),h.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[t<25&&"Initializing...",t>=25&&t<50&&"Processing content...",t>=50&&t<75&&"Generating results...",t>=75&&t<100&&"Finalizing...",t>=100&&"Complete!"]})]})}function cB(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const uB=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dB=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hB={};function NE(t,e){return(hB.jsx?dB:uB).test(t)}const fB=/[ \t\n\f\r]/g;function pB(t){return typeof t=="object"?t.type==="text"?TE(t.value):!1:TE(t)}function TE(t){return t.replace(fB,"")===""}let gd=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};gd.prototype.normal={};gd.prototype.property={};gd.prototype.space=void 0;function bO(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new gd(n,r,e)}function cx(t){return t.toLowerCase()}class $n{constructor(e,n){this.attribute=n,this.property=e}}$n.prototype.attribute="";$n.prototype.booleanish=!1;$n.prototype.boolean=!1;$n.prototype.commaOrSpaceSeparated=!1;$n.prototype.commaSeparated=!1;$n.prototype.defined=!1;$n.prototype.mustUseProperty=!1;$n.prototype.number=!1;$n.prototype.overloadedBoolean=!1;$n.prototype.property="";$n.prototype.spaceSeparated=!1;$n.prototype.space=void 0;let mB=0;const Te=ha(),Et=ha(),ux=ha(),Z=ha(),tt=ha(),ol=ha(),qn=ha();function ha(){return 2**++mB}const dx=Object.freeze(Object.defineProperty({__proto__:null,boolean:Te,booleanish:Et,commaOrSpaceSeparated:qn,commaSeparated:ol,number:Z,overloadedBoolean:ux,spaceSeparated:tt},Symbol.toStringTag,{value:"Module"})),jg=Object.keys(dx);class jv extends $n{constructor(e,n,r,i){let s=-1;if(super(e,n),CE(this,"space",i),typeof r=="number")for(;++s<jg.length;){const o=jg[s];CE(this,jg[s],(r&dx[o])===dx[o])}}}jv.prototype.defined=!0;function CE(t,e,n){n&&(t[e]=n)}function sc(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new jv(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[cx(r)]=r,n[cx(s.attribute)]=r}return new gd(e,n,t.space)}const xO=sc({properties:{ariaActiveDescendant:null,ariaAtomic:Et,ariaAutoComplete:null,ariaBusy:Et,ariaChecked:Et,ariaColCount:Z,ariaColIndex:Z,ariaColSpan:Z,ariaControls:tt,ariaCurrent:null,ariaDescribedBy:tt,ariaDetails:null,ariaDisabled:Et,ariaDropEffect:tt,ariaErrorMessage:null,ariaExpanded:Et,ariaFlowTo:tt,ariaGrabbed:Et,ariaHasPopup:null,ariaHidden:Et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:tt,ariaLevel:Z,ariaLive:null,ariaModal:Et,ariaMultiLine:Et,ariaMultiSelectable:Et,ariaOrientation:null,ariaOwns:tt,ariaPlaceholder:null,ariaPosInSet:Z,ariaPressed:Et,ariaReadOnly:Et,ariaRelevant:null,ariaRequired:Et,ariaRoleDescription:tt,ariaRowCount:Z,ariaRowIndex:Z,ariaRowSpan:Z,ariaSelected:Et,ariaSetSize:Z,ariaSort:null,ariaValueMax:Z,ariaValueMin:Z,ariaValueNow:Z,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function vO(t,e){return e in t?t[e]:e}function wO(t,e){return vO(t,e.toLowerCase())}const gB=sc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ol,acceptCharset:tt,accessKey:tt,action:null,allow:null,allowFullScreen:Te,allowPaymentRequest:Te,allowUserMedia:Te,alt:null,as:null,async:Te,autoCapitalize:null,autoComplete:tt,autoFocus:Te,autoPlay:Te,blocking:tt,capture:null,charSet:null,checked:Te,cite:null,className:tt,cols:Z,colSpan:null,content:null,contentEditable:Et,controls:Te,controlsList:tt,coords:Z|ol,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Te,defer:Te,dir:null,dirName:null,disabled:Te,download:ux,draggable:Et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Te,formTarget:null,headers:tt,height:Z,hidden:ux,high:Z,href:null,hrefLang:null,htmlFor:tt,httpEquiv:tt,id:null,imageSizes:null,imageSrcSet:null,inert:Te,inputMode:null,integrity:null,is:null,isMap:Te,itemId:null,itemProp:tt,itemRef:tt,itemScope:Te,itemType:tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Te,low:Z,manifest:null,max:null,maxLength:Z,media:null,method:null,min:null,minLength:Z,multiple:Te,muted:Te,name:null,nonce:null,noModule:Te,noValidate:Te,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Te,optimum:Z,pattern:null,ping:tt,placeholder:null,playsInline:Te,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Te,referrerPolicy:null,rel:tt,required:Te,reversed:Te,rows:Z,rowSpan:Z,sandbox:tt,scope:null,scoped:Te,seamless:Te,selected:Te,shadowRootClonable:Te,shadowRootDelegatesFocus:Te,shadowRootMode:null,shape:null,size:Z,sizes:null,slot:null,span:Z,spellCheck:Et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Z,step:null,style:null,tabIndex:Z,target:null,title:null,translate:null,type:null,typeMustMatch:Te,useMap:null,value:Et,width:Z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:tt,axis:null,background:null,bgColor:null,border:Z,borderColor:null,bottomMargin:Z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Te,declare:Te,event:null,face:null,frame:null,frameBorder:null,hSpace:Z,leftMargin:Z,link:null,longDesc:null,lowSrc:null,marginHeight:Z,marginWidth:Z,noResize:Te,noHref:Te,noShade:Te,noWrap:Te,object:null,profile:null,prompt:null,rev:null,rightMargin:Z,rules:null,scheme:null,scrolling:Et,standby:null,summary:null,text:null,topMargin:Z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Te,disableRemotePlayback:Te,prefix:null,property:null,results:Z,security:null,unselectable:null},space:"html",transform:wO}),yB=sc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:qn,accentHeight:Z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Z,amplitude:Z,arabicForm:null,ascent:Z,attributeName:null,attributeType:null,azimuth:Z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Z,by:null,calcMode:null,capHeight:Z,className:tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Z,diffuseConstant:Z,direction:null,display:null,dur:null,divisor:Z,dominantBaseline:null,download:Te,dx:null,dy:null,edgeMode:null,editable:null,elevation:Z,enableBackground:null,end:null,event:null,exponent:Z,externalResourcesRequired:null,fill:null,fillOpacity:Z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ol,g2:ol,glyphName:ol,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Z,horizOriginX:Z,horizOriginY:Z,id:null,ideographic:Z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Z,k:Z,k1:Z,k2:Z,k3:Z,k4:Z,kernelMatrix:qn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Z,overlineThickness:Z,paintOrder:null,panose1:null,path:null,pathLength:Z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Z,pointsAtY:Z,pointsAtZ:Z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:qn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:qn,rev:qn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:qn,requiredFeatures:qn,requiredFonts:qn,requiredFormats:qn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Z,specularExponent:Z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Z,strikethroughThickness:Z,string:null,stroke:null,strokeDashArray:qn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Z,strokeOpacity:Z,strokeWidth:null,style:null,surfaceScale:Z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:qn,tabIndex:Z,tableValues:null,target:null,targetX:Z,targetY:Z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:qn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Z,underlineThickness:Z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Z,values:null,vAlphabetic:Z,vMathematical:Z,vectorEffect:null,vHanging:Z,vIdeographic:Z,version:null,vertAdvY:Z,vertOriginX:Z,vertOriginY:Z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:vO}),kO=sc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),EO=sc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:wO}),SO=sc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),bB={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xB=/[A-Z]/g,AE=/-[a-z]/g,vB=/^data[-\w.:]+$/i;function wB(t,e){const n=cx(e);let r=e,i=$n;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&vB.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(AE,EB);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!AE.test(s)){let o=s.replace(xB,kB);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=jv}return new i(r,e)}function kB(t){return"-"+t.toLowerCase()}function EB(t){return t.charAt(1).toUpperCase()}const SB=bO([xO,gB,kO,EO,SO],"html"),Dv=bO([xO,yB,kO,EO,SO],"svg");function _B(t){return t.join(" ").trim()}var Pv={},OE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NB=/\n/g,TB=/^\s*/,CB=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,AB=/^:\s*/,OB=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,IB=/^[;\s]*/,RB=/^\s+|\s+$/g,MB=`
`,IE="/",RE="*",bo="",jB="comment",DB="declaration",PB=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var y=m.match(NB);y&&(n+=y.length);var b=m.lastIndexOf(MB);r=~b?m.length-b:r+m.length}function s(){var m={line:n,column:r};return function(y){return y.position=new o(m),c(),y}}function o(m){this.start=m,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(m){var y=new Error(e.source+":"+n+":"+r+": "+m);if(y.reason=m,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function l(m){var y=m.exec(t);if(y){var b=y[0];return i(b),t=t.slice(b.length),y}}function c(){l(TB)}function u(m){var y;for(m=m||[];y=d();)y!==!1&&m.push(y);return m}function d(){var m=s();if(!(IE!=t.charAt(0)||RE!=t.charAt(1))){for(var y=2;bo!=t.charAt(y)&&(RE!=t.charAt(y)||IE!=t.charAt(y+1));)++y;if(y+=2,bo===t.charAt(y-1))return a("End of comment missing");var b=t.slice(2,y-2);return r+=2,i(b),t=t.slice(y),r+=2,m({type:jB,comment:b})}}function f(){var m=s(),y=l(CB);if(y){if(d(),!l(AB))return a("property missing ':'");var b=l(OB),g=m({type:DB,property:ME(y[0].replace(OE,bo)),value:b?ME(b[0].replace(OE,bo)):bo});return l(IB),g}}function p(){var m=[];u(m);for(var y;y=f();)y!==!1&&(m.push(y),u(m));return m}return c(),p()};function ME(t){return t?t.replace(RB,bo):bo}var LB=nf&&nf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.default=zB;const $B=LB(PB);function zB(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,$B.default)(t),i=typeof e=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:a}=s;i?e(o,a,s):a&&(n=n||{},n[o]=a)}),n}var hm={};Object.defineProperty(hm,"__esModule",{value:!0});hm.camelCase=void 0;var FB=/^--[a-zA-Z0-9_-]+$/,BB=/-([a-z])/g,UB=/^[^-]+$/,qB=/^-(webkit|moz|ms|o|khtml)-/,HB=/^-(ms)-/,VB=function(t){return!t||UB.test(t)||FB.test(t)},WB=function(t,e){return e.toUpperCase()},jE=function(t,e){return"".concat(e,"-")},KB=function(t,e){return e===void 0&&(e={}),VB(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(HB,jE):t=t.replace(qB,jE),t.replace(BB,WB))};hm.camelCase=KB;var GB=nf&&nf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},QB=GB(Pv),YB=hm;function hx(t,e){var n={};return!t||typeof t!="string"||(0,QB.default)(t,function(r,i){r&&i&&(n[(0,YB.camelCase)(r,e)]=i)}),n}hx.default=hx;var JB=hx;const ZB=la(JB),XB=eU("start");function eU(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function tU(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?DE(t.position):"start"in t||"end"in t?DE(t):"line"in t||"column"in t?fx(t):""}function fx(t){return PE(t&&t.line)+":"+PE(t&&t.column)}function DE(t){return fx(t&&t.start)+"-"+fx(t&&t.end)}function PE(t){return t&&typeof t=="number"?t:1}let Sn=class extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=tU(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};Sn.prototype.file="";Sn.prototype.name="";Sn.prototype.reason="";Sn.prototype.message="";Sn.prototype.stack="";Sn.prototype.column=void 0;Sn.prototype.line=void 0;Sn.prototype.ancestors=void 0;Sn.prototype.cause=void 0;Sn.prototype.fatal=void 0;Sn.prototype.place=void 0;Sn.prototype.ruleId=void 0;Sn.prototype.source=void 0;const Lv={}.hasOwnProperty,nU=new Map,rU=/[A-Z]/g,iU=new Set(["table","tbody","thead","tfoot","tr"]),sU=new Set(["td","th"]),_O="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function oU(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=pU(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=fU(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Dv:SB,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=NO(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function NO(t,e,n){if(e.type==="element")return aU(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return lU(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return uU(t,e,n);if(e.type==="mdxjsEsm")return cU(t,e);if(e.type==="root")return dU(t,e,n);if(e.type==="text")return hU(t,e)}function aU(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Dv,t.schema=i),t.ancestors.push(e);const s=CO(t,e.tagName,!1),o=mU(t,e);let a=zv(t,e);return iU.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!pB(l):!0})),TO(t,o,s,e),$v(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function lU(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Lu(t,e.position)}function cU(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Lu(t,e.position)}function uU(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Dv,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:CO(t,e.name,!0),o=gU(t,e),a=zv(t,e);return TO(t,o,s,e),$v(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function dU(t,e,n){const r={};return $v(r,zv(t,e)),t.create(e,t.Fragment,r,n)}function hU(t,e){return e.value}function TO(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function $v(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function fU(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function pU(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=XB(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function mU(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Lv.call(e.properties,i)){const s=yU(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&sU.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function gU(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Lu(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Lu(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function zv(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:nU;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=NO(t,s,o);a!==void 0&&n.push(a)}return n}function yU(t,e,n){const r=wB(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?cB(n):_B(n)),r.property==="style"){let i=typeof n=="object"?n:bU(t,String(n));return t.stylePropertyNameCase==="css"&&(i=xU(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?bB[r.property]||r.property:r.attribute,n]}}function bU(t,e){try{return ZB(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Sn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=_O+"#cannot-parse-style-attribute",i}}function CO(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=NE(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=NE(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Lv.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Lu(t)}function Lu(t,e){const n=new Sn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=_O+"#cannot-handle-mdx-estrees-without-createevaluater",n}function xU(t){const e={};let n;for(n in t)Lv.call(t,n)&&(e[vU(n)]=t[n]);return e}function vU(t){let e=t.replace(rU,wU);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function wU(t){return"-"+t.toLowerCase()}const Dg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},kU={};function EU(t,e){const n=kU,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return AO(t,r,i)}function AO(t,e,n){if(SU(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return LE(t.children,e,n)}return Array.isArray(t)?LE(t,e,n):""}function LE(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=AO(t[i],e,n);return r.join("")}function SU(t){return!!(t&&typeof t=="object")}const $E=document.createElement("i");function Fv(t){const e="&"+t+";";$E.innerHTML=e;const n=$E.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ci(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function pr(t,e){return t.length>0?(ci(t,t.length,0,e),t):e}const zE={}.hasOwnProperty;function _U(t){const e={};let n=-1;for(;++n<t.length;)NU(e,t[n]);return e}function NU(t,e){let n;for(n in e){const i=(zE.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){zE.call(i,o)||(i[o]=[]);const a=s[o];TU(i[o],Array.isArray(a)?a:a?[a]:[])}}}function TU(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ci(t,0,0,r)}function OO(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function al(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const si=no(/[A-Za-z]/),Pr=no(/[\dA-Za-z]/),CU=no(/[#-'*+\--9=?A-Z^-~]/);function px(t){return t!==null&&(t<32||t===127)}const mx=no(/\d/),AU=no(/[\dA-Fa-f]/),OU=no(/[!-/:-@[-`{-~]/);function ke(t){return t!==null&&t<-2}function jn(t){return t!==null&&(t<0||t===32)}function Fe(t){return t===-2||t===-1||t===32}const IU=no(new RegExp("\\p{P}|\\p{S}","u")),RU=no(/\s/);function no(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function rt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Fe(l)?(t.enter(n),a(l)):e(l)}function a(l){return Fe(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const MU={tokenize:jU};function jU(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),rt(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return ke(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const DU={tokenize:PU},FE={tokenize:LU};function PU(t){const e=this,n=[];let r=0,i,s,o;return a;function a(v){if(r<n.length){const w=n[r];return e.containerState=w[1],t.attempt(w[0].continuation,l,c)(v)}return c(v)}function l(v){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const w=e.events.length;let S=w,E;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){E=e.events[S][1].end;break}g(r);let C=w;for(;C<e.events.length;)e.events[C][1].end={...E},C++;return ci(e.events,S+1,0,e.events.slice(w)),e.events.length=C,c(v)}return a(v)}function c(v){if(r===n.length){if(!i)return f(v);if(i.currentConstruct&&i.currentConstruct.concrete)return m(v);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(FE,u,d)(v)}function u(v){return i&&x(),g(r),f(v)}function d(v){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,m(v)}function f(v){return e.containerState={},t.attempt(FE,p,m)(v)}function p(v){return r++,n.push([e.currentConstruct,e.containerState]),f(v)}function m(v){if(v===null){i&&x(),g(0),t.consume(v);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),y(v)}function y(v){if(v===null){b(t.exit("chunkFlow"),!0),g(0),t.consume(v);return}return ke(v)?(t.consume(v),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(v),y)}function b(v,w){const S=e.sliceStream(v);if(w&&S.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(S),e.parser.lazy[v.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<o&&(!i.events[E][1].end||i.events[E][1].end.offset>o))return;const C=e.events.length;let T=C,A,N;for(;T--;)if(e.events[T][0]==="exit"&&e.events[T][1].type==="chunkFlow"){if(A){N=e.events[T][1].end;break}A=!0}for(g(r),E=C;E<e.events.length;)e.events[E][1].end={...N},E++;ci(e.events,T+1,0,e.events.slice(C)),e.events.length=E}}function g(v){let w=n.length;for(;w-- >v;){const S=n[w];e.containerState=S[1],S[0].exit.call(e,t)}n.length=v}function x(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function LU(t,e,n){return rt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function BE(t){if(t===null||jn(t)||RU(t))return 1;if(IU(t))return 2}function Bv(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const gx={name:"attention",resolveAll:$U,tokenize:zU};function $U(t,e){let n=-1,r,i,s,o,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},f={...t[n][1].start};UE(d,-l),UE(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=pr(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=pr(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=pr(c,Bv(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=pr(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=pr(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,ci(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function zU(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=BE(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),u=BE(l),d=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?d:d&&(i||!f)),c._close=!!(s===42?f:f&&(u||!d)),e(l)}}function UE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const FU={name:"autolink",tokenize:BU};function BU(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return si(p)?(t.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||Pr(p)?(r=1,a(p)):c(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Pr(p))&&r++<32?(t.consume(p),a):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||px(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),u):CU(p)?(t.consume(p),c):n(p)}function u(p){return Pr(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,u):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||Pr(p))&&r++<63){const m=p===45?f:d;return t.consume(p),m}return n(p)}}const fm={partial:!0,tokenize:UU};function UU(t,e,n){return r;function r(s){return Fe(s)?rt(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||ke(s)?e(s):n(s)}}const IO={continuation:{tokenize:HU},exit:VU,name:"blockQuote",tokenize:qU};function qU(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Fe(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function HU(t,e,n){const r=this;return i;function i(o){return Fe(o)?rt(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(IO,e,n)(o)}}function VU(t){t.exit("blockQuote")}const RO={name:"characterEscape",tokenize:WU};function WU(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return OU(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const MO={name:"characterReference",tokenize:KU};function KU(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Pr,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=AU,u):(t.enter("characterReferenceValue"),s=7,o=mx,u(d))}function u(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return o===Pr&&!Fv(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),u):n(d)}}const qE={partial:!0,tokenize:QU},HE={concrete:!0,name:"codeFenced",tokenize:GU};function GU(t,e,n){const r=this,i={partial:!0,tokenize:S};let s=0,o=0,a;return l;function l(E){return c(E)}function c(E){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,a=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(E)}function u(E){return E===a?(o++,t.consume(E),u):o<3?n(E):(t.exit("codeFencedFenceSequence"),Fe(E)?rt(t,d,"whitespace")(E):d(E))}function d(E){return E===null||ke(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(qE,y,w)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(E))}function f(E){return E===null||ke(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(E)):Fe(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),rt(t,p,"whitespace")(E)):E===96&&E===a?n(E):(t.consume(E),f)}function p(E){return E===null||ke(E)?d(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||ke(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(E)):E===96&&E===a?n(E):(t.consume(E),m)}function y(E){return t.attempt(i,w,b)(E)}function b(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),g}function g(E){return s>0&&Fe(E)?rt(t,x,"linePrefix",s+1)(E):x(E)}function x(E){return E===null||ke(E)?t.check(qE,y,w)(E):(t.enter("codeFlowValue"),v(E))}function v(E){return E===null||ke(E)?(t.exit("codeFlowValue"),x(E)):(t.consume(E),v)}function w(E){return t.exit("codeFenced"),e(E)}function S(E,C,T){let A=0;return N;function N(V){return E.enter("lineEnding"),E.consume(V),E.exit("lineEnding"),z}function z(V){return E.enter("codeFencedFence"),Fe(V)?rt(E,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):F(V)}function F(V){return V===a?(E.enter("codeFencedFenceSequence"),q(V)):T(V)}function q(V){return V===a?(A++,E.consume(V),q):A>=o?(E.exit("codeFencedFenceSequence"),Fe(V)?rt(E,H,"whitespace")(V):H(V)):T(V)}function H(V){return V===null||ke(V)?(E.exit("codeFencedFence"),C(V)):T(V)}}}function QU(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Pg={name:"codeIndented",tokenize:JU},YU={partial:!0,tokenize:ZU};function JU(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),rt(t,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):ke(c)?t.attempt(YU,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||ke(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function ZU(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ke(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):rt(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):ke(o)?i(o):n(o)}}const XU={name:"codeText",previous:t6,resolve:e6,tokenize:n6};function e6(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function t6(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function n6(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,u(d)):ke(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||ke(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class r6{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&xc(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),xc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),xc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);xc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);xc(this.left,n.reverse())}}}function xc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function jO(t){const e={};let n=-1,r,i,s,o,a,l,c;const u=new r6(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,i6(u,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return ci(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function i6(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let u,d,f=-1,p=n,m=0,y=0;const b=[y];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(y=f+1,b.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),f=b.length;f--;){const g=a.slice(b[f],b[f+1]),x=s.pop();l.push([x,x+g.length-1]),t.splice(x,2,g)}for(l.reverse(),f=-1;++f<l.length;)c[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return c}const s6={resolve:a6,tokenize:l6},o6={partial:!0,tokenize:c6};function a6(t){return jO(t),t}function l6(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ke(a)?t.check(o6,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function c6(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),rt(t,s,"linePrefix")}function s(o){if(o===null||ke(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function DO(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(g){return g===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(g),t.exit(s),f):g===null||g===32||g===41||px(g)?n(g):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),y(g))}function f(g){return g===62?(t.enter(s),t.consume(g),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===62?(t.exit("chunkString"),t.exit(a),f(g)):g===null||g===60||ke(g)?n(g):(t.consume(g),g===92?m:p)}function m(g){return g===60||g===62||g===92?(t.consume(g),p):p(g)}function y(g){return!u&&(g===null||g===41||jn(g))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(g)):u<c&&g===40?(t.consume(g),u++,y):g===41?(t.consume(g),u--,y):g===null||g===32||g===40||px(g)?n(g):(t.consume(g),g===92?b:y)}function b(g){return g===40||g===41||g===92?(t.consume(g),y):y(g)}}function PO(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),u}function u(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):ke(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||ke(p)||a++>999?(t.exit("chunkString"),u(p)):(t.consume(p),l||(l=!Fe(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function LO(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),c(f))}function c(f){return f===o?(t.exit(s),l(o)):f===null?n(f):ke(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),rt(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===o||f===null||ke(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?d:u)}function d(f){return f===o||f===92?(t.consume(f),u):u(f)}}function Zc(t,e){let n;return r;function r(i){return ke(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Fe(i)?rt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const u6={name:"definition",tokenize:h6},d6={partial:!0,tokenize:f6};function h6(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return PO.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=al(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return jn(p)?Zc(t,c)(p):c(p)}function c(p){return DO(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return t.attempt(d6,d,d)(p)}function d(p){return Fe(p)?rt(t,f,"whitespace")(p):f(p)}function f(p){return p===null||ke(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function f6(t,e,n){return r;function r(a){return jn(a)?Zc(t,i)(a):n(a)}function i(a){return LO(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Fe(a)?rt(t,o,"whitespace")(a):o(a)}function o(a){return a===null||ke(a)?e(a):n(a)}}const p6={name:"hardBreakEscape",tokenize:m6};function m6(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return ke(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const g6={name:"headingAtx",resolve:y6,tokenize:b6};function y6(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ci(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function b6(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(t.consume(u),o):u===null||jn(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||ke(u)?(t.exit("atxHeading"),e(u)):Fe(u)?rt(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||jn(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const x6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],VE=["pre","script","style","textarea"],v6={concrete:!0,name:"htmlFlow",resolveTo:E6,tokenize:S6},w6={partial:!0,tokenize:N6},k6={partial:!0,tokenize:_6};function E6(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function S6(t,e,n){const r=this;let i,s,o,a,l;return c;function c(_){return u(_)}function u(_){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(_),d}function d(_){return _===33?(t.consume(_),f):_===47?(t.consume(_),s=!0,y):_===63?(t.consume(_),i=3,r.interrupt?e:k):si(_)?(t.consume(_),o=String.fromCharCode(_),b):n(_)}function f(_){return _===45?(t.consume(_),i=2,p):_===91?(t.consume(_),i=5,a=0,m):si(_)?(t.consume(_),i=4,r.interrupt?e:k):n(_)}function p(_){return _===45?(t.consume(_),r.interrupt?e:k):n(_)}function m(_){const W="CDATA[";return _===W.charCodeAt(a++)?(t.consume(_),a===W.length?r.interrupt?e:F:m):n(_)}function y(_){return si(_)?(t.consume(_),o=String.fromCharCode(_),b):n(_)}function b(_){if(_===null||_===47||_===62||jn(_)){const W=_===47,pe=o.toLowerCase();return!W&&!s&&VE.includes(pe)?(i=1,r.interrupt?e(_):F(_)):x6.includes(o.toLowerCase())?(i=6,W?(t.consume(_),g):r.interrupt?e(_):F(_)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(_):s?x(_):v(_))}return _===45||Pr(_)?(t.consume(_),o+=String.fromCharCode(_),b):n(_)}function g(_){return _===62?(t.consume(_),r.interrupt?e:F):n(_)}function x(_){return Fe(_)?(t.consume(_),x):N(_)}function v(_){return _===47?(t.consume(_),N):_===58||_===95||si(_)?(t.consume(_),w):Fe(_)?(t.consume(_),v):N(_)}function w(_){return _===45||_===46||_===58||_===95||Pr(_)?(t.consume(_),w):S(_)}function S(_){return _===61?(t.consume(_),E):Fe(_)?(t.consume(_),S):v(_)}function E(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(t.consume(_),l=_,C):Fe(_)?(t.consume(_),E):T(_)}function C(_){return _===l?(t.consume(_),l=null,A):_===null||ke(_)?n(_):(t.consume(_),C)}function T(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||jn(_)?S(_):(t.consume(_),T)}function A(_){return _===47||_===62||Fe(_)?v(_):n(_)}function N(_){return _===62?(t.consume(_),z):n(_)}function z(_){return _===null||ke(_)?F(_):Fe(_)?(t.consume(_),z):n(_)}function F(_){return _===45&&i===2?(t.consume(_),D):_===60&&i===1?(t.consume(_),P):_===62&&i===4?(t.consume(_),L):_===63&&i===3?(t.consume(_),k):_===93&&i===5?(t.consume(_),M):ke(_)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(w6,U,q)(_)):_===null||ke(_)?(t.exit("htmlFlowData"),q(_)):(t.consume(_),F)}function q(_){return t.check(k6,H,U)(_)}function H(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),V}function V(_){return _===null||ke(_)?q(_):(t.enter("htmlFlowData"),F(_))}function D(_){return _===45?(t.consume(_),k):F(_)}function P(_){return _===47?(t.consume(_),o="",I):F(_)}function I(_){if(_===62){const W=o.toLowerCase();return VE.includes(W)?(t.consume(_),L):F(_)}return si(_)&&o.length<8?(t.consume(_),o+=String.fromCharCode(_),I):F(_)}function M(_){return _===93?(t.consume(_),k):F(_)}function k(_){return _===62?(t.consume(_),L):_===45&&i===2?(t.consume(_),k):F(_)}function L(_){return _===null||ke(_)?(t.exit("htmlFlowData"),U(_)):(t.consume(_),L)}function U(_){return t.exit("htmlFlow"),e(_)}}function _6(t,e,n){const r=this;return i;function i(o){return ke(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function N6(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(fm,e,n)}}const T6={name:"htmlText",tokenize:C6};function C6(t,e,n){const r=this;let i,s,o;return a;function a(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),l}function l(k){return k===33?(t.consume(k),c):k===47?(t.consume(k),S):k===63?(t.consume(k),v):si(k)?(t.consume(k),T):n(k)}function c(k){return k===45?(t.consume(k),u):k===91?(t.consume(k),s=0,m):si(k)?(t.consume(k),x):n(k)}function u(k){return k===45?(t.consume(k),p):n(k)}function d(k){return k===null?n(k):k===45?(t.consume(k),f):ke(k)?(o=d,P(k)):(t.consume(k),d)}function f(k){return k===45?(t.consume(k),p):d(k)}function p(k){return k===62?D(k):k===45?f(k):d(k)}function m(k){const L="CDATA[";return k===L.charCodeAt(s++)?(t.consume(k),s===L.length?y:m):n(k)}function y(k){return k===null?n(k):k===93?(t.consume(k),b):ke(k)?(o=y,P(k)):(t.consume(k),y)}function b(k){return k===93?(t.consume(k),g):y(k)}function g(k){return k===62?D(k):k===93?(t.consume(k),g):y(k)}function x(k){return k===null||k===62?D(k):ke(k)?(o=x,P(k)):(t.consume(k),x)}function v(k){return k===null?n(k):k===63?(t.consume(k),w):ke(k)?(o=v,P(k)):(t.consume(k),v)}function w(k){return k===62?D(k):v(k)}function S(k){return si(k)?(t.consume(k),E):n(k)}function E(k){return k===45||Pr(k)?(t.consume(k),E):C(k)}function C(k){return ke(k)?(o=C,P(k)):Fe(k)?(t.consume(k),C):D(k)}function T(k){return k===45||Pr(k)?(t.consume(k),T):k===47||k===62||jn(k)?A(k):n(k)}function A(k){return k===47?(t.consume(k),D):k===58||k===95||si(k)?(t.consume(k),N):ke(k)?(o=A,P(k)):Fe(k)?(t.consume(k),A):D(k)}function N(k){return k===45||k===46||k===58||k===95||Pr(k)?(t.consume(k),N):z(k)}function z(k){return k===61?(t.consume(k),F):ke(k)?(o=z,P(k)):Fe(k)?(t.consume(k),z):A(k)}function F(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),i=k,q):ke(k)?(o=F,P(k)):Fe(k)?(t.consume(k),F):(t.consume(k),H)}function q(k){return k===i?(t.consume(k),i=void 0,V):k===null?n(k):ke(k)?(o=q,P(k)):(t.consume(k),q)}function H(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||jn(k)?A(k):(t.consume(k),H)}function V(k){return k===47||k===62||jn(k)?A(k):n(k)}function D(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),e):n(k)}function P(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),I}function I(k){return Fe(k)?rt(t,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):M(k)}function M(k){return t.enter("htmlTextData"),o(k)}}const Uv={name:"labelEnd",resolveAll:R6,resolveTo:M6,tokenize:j6},A6={tokenize:D6},O6={tokenize:P6},I6={tokenize:L6};function R6(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ci(t,0,t.length,n),t}function M6(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},u={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=pr(a,t.slice(s+1,s+r+3)),a=pr(a,[["enter",u,e]]),a=pr(a,Bv(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=pr(a,[["exit",u,e],t[o-2],t[o-1],["exit",c,e]]),a=pr(a,t.slice(o+1)),a=pr(a,[["exit",l,e]]),ci(t,s,t.length,a),t}function j6(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(al(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(A6,u,o?u:d)(f):f===91?t.attempt(O6,u,o?c:d)(f):o?u(f):d(f)}function c(f){return t.attempt(I6,u,d)(f)}function u(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function D6(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return jn(d)?Zc(t,s)(d):s(d)}function s(d){return d===41?u(d):DO(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return jn(d)?Zc(t,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?LO(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return jn(d)?Zc(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function P6(t,e,n){const r=this;return i;function i(a){return PO.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(al(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function L6(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const $6={name:"labelStartImage",resolveAll:Uv.resolveAll,tokenize:z6};function z6(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const F6={name:"labelStartLink",resolveAll:Uv.resolveAll,tokenize:B6};function B6(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Lg={name:"lineEnding",tokenize:U6};function U6(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),rt(t,e,"linePrefix")}}const Kh={name:"thematicBreak",tokenize:q6};function q6(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||ke(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Fe(c)?rt(t,a,"whitespace")(c):a(c))}}const _n={continuation:{tokenize:K6},exit:Q6,name:"list",tokenize:W6},H6={partial:!0,tokenize:Y6},V6={partial:!0,tokenize:G6};function W6(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:mx(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Kh,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return mx(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(fm,r.interrupt?n:u,t.attempt(H6,f,d))}function u(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return Fe(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function K6(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(fm,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rt(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Fe(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(V6,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,rt(t,t.attempt(_n,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function G6(t,e,n){const r=this;return rt(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Q6(t){t.exit(this.containerState.type)}function Y6(t,e,n){const r=this;return rt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Fe(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const WE={name:"setextUnderline",resolveTo:J6,tokenize:Z6};function J6(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Z6(t,e,n){const r=this;let i;return s;function s(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),Fe(c)?rt(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ke(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const X6={tokenize:e8};function e8(t){const e=this,n=t.attempt(fm,r,t.attempt(this.parser.constructs.flowInitial,i,rt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(s6,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const t8={resolveAll:zO()},n8=$O("string"),r8=$O("text");function $O(t){return{resolveAll:zO(t==="text"?i8:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function zO(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function i8(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const s8={42:_n,43:_n,45:_n,48:_n,49:_n,50:_n,51:_n,52:_n,53:_n,54:_n,55:_n,56:_n,57:_n,62:IO},o8={91:u6},a8={[-2]:Pg,[-1]:Pg,32:Pg},l8={35:g6,42:Kh,45:[WE,Kh],60:v6,61:WE,95:Kh,96:HE,126:HE},c8={38:MO,92:RO},u8={[-5]:Lg,[-4]:Lg,[-3]:Lg,33:$6,38:MO,42:gx,60:[FU,T6],91:F6,92:[p6,RO],93:Uv,95:gx,96:XU},d8={null:[gx,t8]},h8={null:[42,95]},f8={null:[]},p8=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:h8,contentInitial:o8,disable:f8,document:s8,flow:l8,flowInitial:a8,insideSpan:d8,string:c8,text:u8},Symbol.toStringTag,{value:"Module"}));function m8(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:C(S),check:C(E),consume:x,enter:v,exit:w,interrupt:C(E,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:m,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(z){return o=pr(o,z),b(),o[o.length-1]!==null?[]:(T(e,0),c.events=Bv(s,c.events,c),c.events)}function f(z,F){return y8(p(z),F)}function p(z){return g8(o,z)}function m(){const{_bufferIndex:z,_index:F,line:q,column:H,offset:V}=r;return{_bufferIndex:z,_index:F,line:q,column:H,offset:V}}function y(z){i[z.line]=z.column,N()}function b(){let z;for(;r._index<o.length;){const F=o[r._index];if(typeof F=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<F.length;)g(F.charCodeAt(r._bufferIndex));else g(F)}}function g(z){u=u(z)}function x(z){ke(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,N()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=z}function v(z,F){const q=F||{};return q.type=z,q.start=m(),c.events.push(["enter",q,c]),a.push(q),q}function w(z){const F=a.pop();return F.end=m(),c.events.push(["exit",F,c]),F}function S(z,F){T(z,F.from)}function E(z,F){F.restore()}function C(z,F){return q;function q(H,V,D){let P,I,M,k;return Array.isArray(H)?U(H):"tokenize"in H?U([H]):L(H);function L(de){return le;function le(Ee){const Ke=Ee!==null&&de[Ee],He=Ee!==null&&de.null,Ge=[...Array.isArray(Ke)?Ke:Ke?[Ke]:[],...Array.isArray(He)?He:He?[He]:[]];return U(Ge)(Ee)}}function U(de){return P=de,I=0,de.length===0?D:_(de[I])}function _(de){return le;function le(Ee){return k=A(),M=de,de.partial||(c.currentConstruct=de),de.name&&c.parser.constructs.disable.null.includes(de.name)?pe():de.tokenize.call(F?Object.assign(Object.create(c),F):c,l,W,pe)(Ee)}}function W(de){return z(M,k),V}function pe(de){return k.restore(),++I<P.length?_(P[I]):D}}}function T(z,F){z.resolveAll&&!s.includes(z)&&s.push(z),z.resolve&&ci(c.events,F,c.events.length-F,z.resolve(c.events.slice(F),c)),z.resolveTo&&(c.events=z.resolveTo(c.events,c))}function A(){const z=m(),F=c.previous,q=c.currentConstruct,H=c.events.length,V=Array.from(a);return{from:H,restore:D};function D(){r=z,c.previous=F,c.currentConstruct=q,c.events.length=H,a=V,N()}}function N(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function g8(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function y8(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function b8(t){const r={constructs:_U([p8,...(t||{}).extensions||[]]),content:i(MU),defined:[],document:i(DU),flow:i(X6),lazy:{},string:i(n8),text:i(r8)};return r;function i(s){return o;function o(a){return m8(r,s,a)}}}function x8(t){for(;!jO(t););return t}const KE=/[\0\t\n\r]/g;function v8(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,d,f,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(KE.lastIndex=d,c=KE.exec(s),f=c&&c.index!==void 0?c.index:s.length,p=s.charCodeAt(f),!c){e=s.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),p){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const w8=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function k8(t){return t.replace(w8,E8)}function E8(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return OO(n.slice(s?2:1),s?16:10)}return Fv(n)||t}function Gh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?GE(t.position):"start"in t||"end"in t?GE(t):"line"in t||"column"in t?yx(t):""}function yx(t){return QE(t&&t.line)+":"+QE(t&&t.column)}function GE(t){return yx(t&&t.start)+"-"+yx(t&&t.end)}function QE(t){return t&&typeof t=="number"?t:1}const FO={}.hasOwnProperty;function S8(t,e,n){return typeof e!="string"&&(n=e,e=void 0),_8(n)(x8(b8(n).document().write(v8()(t,e,!0))))}function _8(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(we),autolinkProtocol:A,autolinkEmail:A,atxHeading:s(wt),blockQuote:s(He),characterEscape:A,characterReference:A,codeFenced:s(Ge),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Ge,o),codeText:s(Ot,o),codeTextData:A,data:A,codeFlowValue:A,definition:s(Fn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(sr),hardBreakEscape:s(Me),hardBreakTrailing:s(Me),htmlFlow:s(kt,o),htmlFlowData:A,htmlText:s(kt,o),htmlTextData:A,image:s(B),label:o,link:s(we),listItem:s(me),listItemValue:f,listOrdered:s(he,d),listUnordered:s(he),paragraph:s(Le),reference:_,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(wt),strong:s(ze),thematicBreak:s(Q)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:Ke,autolinkProtocol:Ee,blockQuote:l(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:de,characterReference:le,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:N,codeIndented:l(g),codeText:l(V),codeTextData:N,data:N,definition:l(),definitionDestinationString:w,definitionLabelString:x,definitionTitleString:v,emphasis:l(),hardBreakEscape:l(F),hardBreakTrailing:l(F),htmlFlow:l(q),htmlFlowData:N,htmlText:l(H),htmlTextData:N,image:l(P),label:M,labelText:I,lineEnding:z,link:l(D),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:W,resourceDestinationString:k,resourceTitleString:L,resource:U,setextHeading:l(T),setextHeadingLineSequence:C,setextHeadingText:E,strong:l(),thematicBreak:l()}};BO(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(R){let $={type:"root",children:[]};const K={stack:[$],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:n},te=[];let xe=-1;for(;++xe<R.length;)if(R[xe][1].type==="listOrdered"||R[xe][1].type==="listUnordered")if(R[xe][0]==="enter")te.push(xe);else{const Be=te.pop();xe=i(R,Be,xe)}for(xe=-1;++xe<R.length;){const Be=e[R[xe][0]];FO.call(Be,R[xe][1].type)&&Be[R[xe][1].type].call(Object.assign({sliceSerialize:R[xe][2].sliceSerialize},K),R[xe][1])}if(K.tokenStack.length>0){const Be=K.tokenStack[K.tokenStack.length-1];(Be[1]||YE).call(K,void 0,Be[0])}for($.position={start:Xi(R.length>0?R[0][1].start:{line:1,column:1,offset:0}),end:Xi(R.length>0?R[R.length-2][1].end:{line:1,column:1,offset:0})},xe=-1;++xe<e.transforms.length;)$=e.transforms[xe]($)||$;return $}function i(R,$,K){let te=$-1,xe=-1,Be=!1,cn,Ht,qr,pi;for(;++te<=K;){const Vt=R[te];switch(Vt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Vt[0]==="enter"?xe++:xe--,pi=void 0;break}case"lineEndingBlank":{Vt[0]==="enter"&&(cn&&!pi&&!xe&&!qr&&(qr=te),pi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pi=void 0}if(!xe&&Vt[0]==="enter"&&Vt[1].type==="listItemPrefix"||xe===-1&&Vt[0]==="exit"&&(Vt[1].type==="listUnordered"||Vt[1].type==="listOrdered")){if(cn){let Hr=te;for(Ht=void 0;Hr--;){const Bn=R[Hr];if(Bn[1].type==="lineEnding"||Bn[1].type==="lineEndingBlank"){if(Bn[0]==="exit")continue;Ht&&(R[Ht][1].type="lineEndingBlank",Be=!0),Bn[1].type="lineEnding",Ht=Hr}else if(!(Bn[1].type==="linePrefix"||Bn[1].type==="blockQuotePrefix"||Bn[1].type==="blockQuotePrefixWhitespace"||Bn[1].type==="blockQuoteMarker"||Bn[1].type==="listItemIndent"))break}qr&&(!Ht||qr<Ht)&&(cn._spread=!0),cn.end=Object.assign({},Ht?R[Ht][1].start:Vt[1].end),R.splice(Ht||te,0,["exit",cn,Vt[2]]),te++,K++}if(Vt[1].type==="listItemPrefix"){const Hr={type:"listItem",_spread:!1,start:Object.assign({},Vt[1].start),end:void 0};cn=Hr,R.splice(te,0,["enter",Hr,Vt[2]]),te++,K++,qr=void 0,pi=!0}}}return R[$][1]._spread=Be,K}function s(R,$){return K;function K(te){a.call(this,R(te),te),$&&$.call(this,te)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(R,$,K){this.stack[this.stack.length-1].children.push(R),this.stack.push(R),this.tokenStack.push([$,K||void 0]),R.position={start:Xi($.start),end:void 0}}function l(R){return $;function $(K){R&&R.call(this,K),c.call(this,K)}}function c(R,$){const K=this.stack.pop(),te=this.tokenStack.pop();if(te)te[0].type!==R.type&&($?$.call(this,R,te[0]):(te[1]||YE).call(this,R,te[0]));else throw new Error("Cannot close `"+R.type+"` ("+Gh({start:R.start,end:R.end})+"): its not open");K.position.end=Xi(R.end)}function u(){return EU(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(R){if(this.data.expectingFirstListItemValue){const $=this.stack[this.stack.length-2];$.start=Number.parseInt(this.sliceSerialize(R),10),this.data.expectingFirstListItemValue=void 0}}function p(){const R=this.resume(),$=this.stack[this.stack.length-1];$.lang=R}function m(){const R=this.resume(),$=this.stack[this.stack.length-1];$.meta=R}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const R=this.resume(),$=this.stack[this.stack.length-1];$.value=R.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const R=this.resume(),$=this.stack[this.stack.length-1];$.value=R.replace(/(\r?\n|\r)$/g,"")}function x(R){const $=this.resume(),K=this.stack[this.stack.length-1];K.label=$,K.identifier=al(this.sliceSerialize(R)).toLowerCase()}function v(){const R=this.resume(),$=this.stack[this.stack.length-1];$.title=R}function w(){const R=this.resume(),$=this.stack[this.stack.length-1];$.url=R}function S(R){const $=this.stack[this.stack.length-1];if(!$.depth){const K=this.sliceSerialize(R).length;$.depth=K}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function C(R){const $=this.stack[this.stack.length-1];$.depth=this.sliceSerialize(R).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function A(R){const K=this.stack[this.stack.length-1].children;let te=K[K.length-1];(!te||te.type!=="text")&&(te=X(),te.position={start:Xi(R.start),end:void 0},K.push(te)),this.stack.push(te)}function N(R){const $=this.stack.pop();$.value+=this.sliceSerialize(R),$.position.end=Xi(R.end)}function z(R){const $=this.stack[this.stack.length-1];if(this.data.atHardBreak){const K=$.children[$.children.length-1];K.position.end=Xi(R.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes($.type)&&(A.call(this,R),N.call(this,R))}function F(){this.data.atHardBreak=!0}function q(){const R=this.resume(),$=this.stack[this.stack.length-1];$.value=R}function H(){const R=this.resume(),$=this.stack[this.stack.length-1];$.value=R}function V(){const R=this.resume(),$=this.stack[this.stack.length-1];$.value=R}function D(){const R=this.stack[this.stack.length-1];if(this.data.inReference){const $=this.data.referenceType||"shortcut";R.type+="Reference",R.referenceType=$,delete R.url,delete R.title}else delete R.identifier,delete R.label;this.data.referenceType=void 0}function P(){const R=this.stack[this.stack.length-1];if(this.data.inReference){const $=this.data.referenceType||"shortcut";R.type+="Reference",R.referenceType=$,delete R.url,delete R.title}else delete R.identifier,delete R.label;this.data.referenceType=void 0}function I(R){const $=this.sliceSerialize(R),K=this.stack[this.stack.length-2];K.label=k8($),K.identifier=al($).toLowerCase()}function M(){const R=this.stack[this.stack.length-1],$=this.resume(),K=this.stack[this.stack.length-1];if(this.data.inReference=!0,K.type==="link"){const te=R.children;K.children=te}else K.alt=$}function k(){const R=this.resume(),$=this.stack[this.stack.length-1];$.url=R}function L(){const R=this.resume(),$=this.stack[this.stack.length-1];$.title=R}function U(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function W(R){const $=this.resume(),K=this.stack[this.stack.length-1];K.label=$,K.identifier=al(this.sliceSerialize(R)).toLowerCase(),this.data.referenceType="full"}function pe(R){this.data.characterReferenceType=R.type}function de(R){const $=this.sliceSerialize(R),K=this.data.characterReferenceType;let te;K?(te=OO($,K==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):te=Fv($);const xe=this.stack[this.stack.length-1];xe.value+=te}function le(R){const $=this.stack.pop();$.position.end=Xi(R.end)}function Ee(R){N.call(this,R);const $=this.stack[this.stack.length-1];$.url=this.sliceSerialize(R)}function Ke(R){N.call(this,R);const $=this.stack[this.stack.length-1];$.url="mailto:"+this.sliceSerialize(R)}function He(){return{type:"blockquote",children:[]}}function Ge(){return{type:"code",lang:null,meta:null,value:""}}function Ot(){return{type:"inlineCode",value:""}}function Fn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function sr(){return{type:"emphasis",children:[]}}function wt(){return{type:"heading",depth:0,children:[]}}function Me(){return{type:"break"}}function kt(){return{type:"html",value:""}}function B(){return{type:"image",title:null,url:"",alt:null}}function we(){return{type:"link",title:null,url:"",children:[]}}function he(R){return{type:"list",ordered:R.type==="listOrdered",start:null,spread:R._spread,children:[]}}function me(R){return{type:"listItem",spread:R._spread,checked:null,children:[]}}function Le(){return{type:"paragraph",children:[]}}function ze(){return{type:"strong",children:[]}}function X(){return{type:"text",value:""}}function Q(){return{type:"thematicBreak"}}}function Xi(t){return{line:t.line,column:t.column,offset:t.offset}}function BO(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?BO(t,r):N8(t,r)}}function N8(t,e){let n;for(n in e)if(FO.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function YE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Gh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Gh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Gh({start:e.start,end:e.end})+") is still open")}function T8(t){const e=this;e.parser=n;function n(r){return S8(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function C8(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function A8(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function O8(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function I8(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function R8(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const JE=M8(/[\dA-Za-z]/);function M8(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function oc(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&JE(t.charCodeAt(n+1))&&JE(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function j8(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=oc(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function D8(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function P8(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function UO(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function L8(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return UO(t,e);const i={src:oc(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function $8(t,e){const n={src:oc(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function z8(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function F8(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return UO(t,e);const i={href:oc(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function B8(t,e){const n={href:oc(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function U8(t,e,n){const r=t.all(e),i=n?q8(n):qO(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function q8(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=qO(n[r])}return e}function qO(t){const e=t.spread;return e??t.children.length>1}function H8(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function V8(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function W8(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function K8(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const HO=WO("end"),VO=WO("start");function WO(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function G8(t){const e=VO(t),n=HO(t);if(e&&n)return{start:e,end:n}}function Q8(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=VO(e.children[1]),l=HO(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Y8(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const d=e.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let m={type:"element",tagName:s,properties:f,children:[]};d&&(m.children=t.all(d),t.patch(d,m),m=t.applyData(d,m)),c.push(m)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function J8(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const ZE=9,XE=32;function Z8(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(eS(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(eS(e.slice(i),i>0,!1)),s.join("")}function eS(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===ZE||s===XE;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===ZE||s===XE;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function X8(t,e){const n={type:"text",value:Z8(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function e9(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const t9={blockquote:C8,break:A8,code:O8,delete:I8,emphasis:R8,footnoteReference:j8,heading:D8,html:P8,imageReference:L8,image:$8,inlineCode:z8,linkReference:F8,link:B8,listItem:U8,list:H8,paragraph:V8,root:W8,strong:K8,table:Q8,tableCell:J8,tableRow:Y8,text:X8,thematicBreak:e9,toml:rh,yaml:rh,definition:rh,footnoteDefinition:rh};function rh(){}const KO=-1,pm=0,Xc=1,zf=2,qv=3,Hv=4,Vv=5,Wv=6,GO=7,QO=8,tS=typeof self=="object"?self:globalThis,n9=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case pm:case KO:return n(o,i);case Xc:{const a=n([],i);for(const l of o)a.push(r(l));return a}case zf:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case qv:return n(new Date(o),i);case Hv:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Vv:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case Wv:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case GO:{const{name:a,message:l}=o;return n(new tS[a](l),i)}case QO:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new tS[s](o),i)};return r},nS=t=>n9(new Map,t)(0),_a="",{toString:r9}={},{keys:i9}=Object,vc=t=>{const e=typeof t;if(e!=="object"||!t)return[pm,e];const n=r9.call(t).slice(8,-1);switch(n){case"Array":return[Xc,_a];case"Object":return[zf,_a];case"Date":return[qv,_a];case"RegExp":return[Hv,_a];case"Map":return[Vv,_a];case"Set":return[Wv,_a];case"DataView":return[Xc,n]}return n.includes("Array")?[Xc,n]:n.includes("Error")?[GO,n]:[zf,n]},ih=([t,e])=>t===pm&&(e==="function"||e==="symbol"),s9=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=vc(o);switch(a){case pm:{let u=o;switch(l){case"bigint":a=QO,u=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([KO],o)}return i([a,u],o)}case Xc:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const u=[],d=i([a,u],o);for(const f of o)u.push(s(f));return d}case zf:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],d=i([a,u],o);for(const f of i9(o))(t||!ih(vc(o[f])))&&u.push([s(f),s(o[f])]);return d}case qv:return i([a,o.toISOString()],o);case Hv:{const{source:u,flags:d}=o;return i([a,{source:u,flags:d}],o)}case Vv:{const u=[],d=i([a,u],o);for(const[f,p]of o)(t||!(ih(vc(f))||ih(vc(p))))&&u.push([s(f),s(p)]);return d}case Wv:{const u=[],d=i([a,u],o);for(const f of o)(t||!ih(vc(f)))&&u.push(s(f));return d}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},rS=(t,{json:e,lossy:n}={})=>{const r=[];return s9(!(e||n),!!e,new Map,r)(t),r},Ff=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?nS(rS(t,e)):structuredClone(t):(t,e)=>nS(rS(t,e));function o9(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function a9(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function l9(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||o9,r=t.options.footnoteBackLabel||a9,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),d=String(c.identifier).toUpperCase(),f=oc(d.toLowerCase());let p=0;const m=[],y=t.footnoteCounts.get(d);for(;y!==void 0&&++p<=y;){m.length>0&&m.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,p);typeof x=="string"&&(x={type:"text",value:x}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const b=u[u.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const x=b.children[b.children.length-1];x&&x.type==="text"?x.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else u.push(...m);const g={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(u,!0)};t.patch(c,g),a.push(g)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ff(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const YO=function(t){if(t==null)return h9;if(typeof t=="function")return mm(t);if(typeof t=="object")return Array.isArray(t)?c9(t):u9(t);if(typeof t=="string")return d9(t);throw new Error("Expected function, string, or object as test")};function c9(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=YO(t[n]);return mm(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function u9(t){const e=t;return mm(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function d9(t){return mm(e);function e(n){return n&&n.type===t}}function mm(t){return e;function e(n,r,i){return!!(f9(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function h9(){return!0}function f9(t){return t!==null&&typeof t=="object"&&"type"in t}const JO=[],p9=!0,bx=!1,m9="skip";function g9(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=YO(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=JO,m,y,b;if((!e||s(l,c,u[u.length-1]||void 0))&&(p=y9(n(l,u)),p[0]===bx))return p;if("children"in l&&l.children){const g=l;if(g.children&&p[0]!==m9)for(y=(r?g.children.length:-1)+o,b=u.concat(g);y>-1&&y<g.children.length;){const x=g.children[y];if(m=a(x,y,b)(),m[0]===bx)return m;y=typeof m[1]=="number"?m[1]:y+o}}return p}}}function y9(t){return Array.isArray(t)?t:typeof t=="number"?[p9,t]:t==null?JO:[t]}function gm(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),g9(t,s,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const xx={}.hasOwnProperty,b9={};function x9(t,e){const n=e||b9,r=new Map,i=new Map,s=new Map,o={...t9,...n.handlers},a={all:c,applyData:w9,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:v9,wrap:E9};return gm(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,f=String(u.identifier).toUpperCase();d.has(f)||d.set(f,u)}}),a;function l(u,d){const f=u.type,p=a.handlers[f];if(xx.call(a.handlers,f)&&p)return p(a,u,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in u){const{children:y,...b}=u,g=Ff(b);return g.children=a.all(u),g}return Ff(u)}return(a.options.unknownHandler||k9)(a,u,d)}function c(u){const d=[];if("children"in u){const f=u.children;let p=-1;for(;++p<f.length;){const m=a.one(f[p],u);if(m){if(p&&f[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=iS(m.value)),!Array.isArray(m)&&m.type==="element")){const y=m.children[0];y&&y.type==="text"&&(y.value=iS(y.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function v9(t,e){t.position&&(e.position=G8(t))}function w9(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Ff(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function k9(t,e){const n=e.data||{},r="value"in e&&!(xx.call(n,"hProperties")||xx.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function E9(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function iS(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function sS(t,e){const n=x9(t,e),r=n.one(t,void 0),i=l9(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function S9(t,e){return t&&"run"in t?async function(n,r){const i=sS(n,{file:r,...e});await t.run(i,r)}:function(n,r){return sS(n,{file:r,...t||e})}}function oS(t){if(t)throw t}var Qh=Object.prototype.hasOwnProperty,ZO=Object.prototype.toString,aS=Object.defineProperty,lS=Object.getOwnPropertyDescriptor,cS=function(e){return typeof Array.isArray=="function"?Array.isArray(e):ZO.call(e)==="[object Array]"},uS=function(e){if(!e||ZO.call(e)!=="[object Object]")return!1;var n=Qh.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Qh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Qh.call(e,i)},dS=function(e,n){aS&&n.name==="__proto__"?aS(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},hS=function(e,n){if(n==="__proto__")if(Qh.call(e,n)){if(lS)return lS(e,n).value}else return;return e[n]},_9=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=hS(a,n),i=hS(e,n),a!==i&&(u&&i&&(uS(i)||(s=cS(i)))?(s?(s=!1,o=r&&cS(r)?r:[]):o=r&&uS(r)?r:{},dS(a,{name:n,newValue:t(u,o,i)})):typeof i<"u"&&dS(a,{name:n,newValue:i}));return a};const $g=la(_9);function vx(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function N9(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?T9(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function T9(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}function C9(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?fS(t.position):"start"in t||"end"in t?fS(t):"line"in t||"column"in t?wx(t):""}function wx(t){return pS(t&&t.line)+":"+pS(t&&t.column)}function fS(t){return wx(t&&t.start)+"-"+wx(t&&t.end)}function pS(t){return t&&typeof t=="number"?t:1}class zn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=C9(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}zn.prototype.file="";zn.prototype.name="";zn.prototype.reason="";zn.prototype.message="";zn.prototype.stack="";zn.prototype.column=void 0;zn.prototype.line=void 0;zn.prototype.ancestors=void 0;zn.prototype.cause=void 0;zn.prototype.fatal=void 0;zn.prototype.place=void 0;zn.prototype.ruleId=void 0;zn.prototype.source=void 0;const Jr={basename:A9,dirname:O9,extname:I9,join:R9,sep:"/"};function A9(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');yd(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function O9(t){if(yd(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function I9(t){yd(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function R9(...t){let e=-1,n;for(;++e<t.length;)yd(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":M9(n)}function M9(t){yd(t);const e=t.codePointAt(0)===47;let n=j9(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function j9(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function yd(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const D9={cwd:P9};function P9(){return"/"}function kx(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function L9(t){if(typeof t=="string")t=new URL(t);else if(!kx(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return $9(t)}function $9(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const zg=["history","path","basename","stem","extname","dirname"];class XO{constructor(e){let n;e?kx(e)?n={path:e}:typeof e=="string"||z9(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":D9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<zg.length;){const s=zg[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)zg.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Jr.basename(this.path):void 0}set basename(e){Bg(e,"basename"),Fg(e,"basename"),this.path=Jr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Jr.dirname(this.path):void 0}set dirname(e){mS(this.basename,"dirname"),this.path=Jr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Jr.extname(this.path):void 0}set extname(e){if(Fg(e,"extname"),mS(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Jr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){kx(e)&&(e=L9(e)),Bg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Jr.basename(this.path,this.extname):void 0}set stem(e){Bg(e,"stem"),Fg(e,"stem"),this.path=Jr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new zn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Fg(t,e){if(t&&t.includes(Jr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Jr.sep+"`")}function Bg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function mS(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function z9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const F9=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},B9={}.hasOwnProperty;class Kv extends F9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=N9()}copy(){const e=new Kv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data($g(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Hg("data",this.frozen),this.namespace[e]=n,this):B9.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Hg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=sh(e),r=this.parser||this.Parser;return Ug("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Ug("process",this.parser||this.Parser),qg("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=sh(e),l=r.parse(a);r.run(l,a,function(u,d,f){if(u||!d||!f)return c(u);const p=d,m=r.stringify(p,f);H9(m)?f.value=m:f.result=m,c(u,f)});function c(u,d){u||!d?o(u):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),Ug("processSync",this.parser||this.Parser),qg("processSync",this.compiler||this.Compiler),this.process(e,i),yS("processSync","process",n),r;function i(s,o){n=!0,oS(s),r=o}}run(e,n,r){gS(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=sh(n);i.run(e,l,c);function c(u,d,f){const p=d||e;u?a(u):o?o(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),yS("runSync","run",r),i;function s(o,a){oS(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=sh(n),i=this.compiler||this.Compiler;return qg("stringify",i),gS(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Hg("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=$g(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===c){f=d;break}if(f===-1)r.push([c,...u]);else if(u.length>0){let[p,...m]=u;const y=r[f][1];vx(y)&&vx(p)&&(p=$g(!0,y,p)),r[f]=[c,p,...m]}}}}const U9=new Kv().freeze();function Ug(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function qg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Hg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function gS(t){if(!vx(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function yS(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function sh(t){return q9(t)?t:new XO(t)}function q9(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function H9(t){return typeof t=="string"||V9(t)}function V9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const W9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",bS=[],xS={allowDangerousHtml:!0},K9=/^(https?|ircs?|mailto|xmpp)$/i,G9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Q9(t){const e=Y9(t),n=J9(t);return Z9(e.runSync(e.parse(n),n),t)}function Y9(t){const e=t.rehypePlugins||bS,n=t.remarkPlugins||bS,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...xS}:xS;return U9().use(T8).use(n).use(S9,r).use(e)}function J9(t){const e=t.children||"",n=new XO;return typeof e=="string"&&(n.value=e),n}function Z9(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||X9;for(const u of G9)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+W9+u.id,void 0);return gm(t,c),oU(t,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(u,d,f){if(u.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:u.value},d;if(u.type==="element"){let p;for(p in Dg)if(Object.hasOwn(Dg,p)&&Object.hasOwn(u.properties,p)){const m=u.properties[p],y=Dg[p];(y===null||y.includes(u.tagName))&&(u.properties[p]=l(String(m||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):s?s.includes(u.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(u,d,f)),p&&f&&typeof d=="number")return a&&u.children?f.children.splice(d,1,...u.children):f.children.splice(d,1),d}}}function X9(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||K9.test(t.slice(0,e))?t:""}function vS(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function eq(t){return t!==null&&(t<0||t===32)}const eI=nI(new RegExp("\\p{P}|\\p{S}","u")),tI=nI(/\s/);function nI(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function tq(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const ym=function(t){if(t==null)return sq;if(typeof t=="function")return bm(t);if(typeof t=="object")return Array.isArray(t)?nq(t):rq(t);if(typeof t=="string")return iq(t);throw new Error("Expected function, string, or object as test")};function nq(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=ym(t[n]);return bm(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function rq(t){const e=t;return bm(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function iq(t){return bm(e);function e(n){return n&&n.type===t}}function bm(t){return e;function e(n,r,i){return!!(oq(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function sq(){return!0}function oq(t){return t!==null&&typeof t=="object"&&"type"in t}const rI=[],aq=!0,wS=!1,lq="skip";function cq(t,e,n,r){let i;i=e;const s=ym(i),o=1;a(t,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=rI,m,y,b;if(s(l,c,u[u.length-1]||void 0)&&(p=uq(n(l,u)),p[0]===wS))return p;if("children"in l&&l.children){const g=l;if(g.children&&p[0]!==lq)for(y=-1+o,b=u.concat(g);y>-1&&y<g.children.length;){const x=g.children[y];if(m=a(x,y,b)(),m[0]===wS)return m;y=typeof m[1]=="number"?m[1]:y+o}}return p}}}function uq(t){return Array.isArray(t)?t:typeof t=="number"?[aq,t]:t==null?rI:[t]}function dq(t,e,n){const i=ym((n||{}).ignore||[]),s=hq(e);let o=-1;for(;++o<s.length;)cq(t,"text",a);function a(c,u){let d=-1,f;for(;++d<u.length;){const p=u[d],m=f?f.children:void 0;if(i(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return l(c,u)}function l(c,u){const d=u[u.length-1],f=s[o][0],p=s[o][1];let m=0;const b=d.children.indexOf(c);let g=!1,x=[];f.lastIndex=0;let v=f.exec(c.value);for(;v;){const w=v.index,S={index:v.index,input:v.input,stack:[...u,c]};let E=p(...v,S);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?f.lastIndex=w+1:(m!==w&&x.push({type:"text",value:c.value.slice(m,w)}),Array.isArray(E)?x.push(...E):E&&x.push(E),m=w+v[0].length,g=!0),!f.global)break;v=f.exec(c.value)}return g?(m<c.value.length&&x.push({type:"text",value:c.value.slice(m)}),d.children.splice(b,1,...x)):x=[c],b+x.length}}function hq(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([fq(i[0]),pq(i[1])])}return e}function fq(t){return typeof t=="string"?new RegExp(tq(t),"g"):t}function pq(t){return typeof t=="function"?t:function(){return t}}const Vg="phrasing",Wg=["autolink","link","image","label"];function mq(){return{transforms:[kq],enter:{literalAutolink:yq,literalAutolinkEmail:Kg,literalAutolinkHttp:Kg,literalAutolinkWww:Kg},exit:{literalAutolink:wq,literalAutolinkEmail:vq,literalAutolinkHttp:bq,literalAutolinkWww:xq}}}function gq(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Vg,notInConstruct:Wg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Vg,notInConstruct:Wg},{character:":",before:"[ps]",after:"\\/",inConstruct:Vg,notInConstruct:Wg}]}}function yq(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Kg(t){this.config.enter.autolinkProtocol.call(this,t)}function bq(t){this.config.exit.autolinkProtocol.call(this,t)}function xq(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function vq(t){this.config.exit.autolinkEmail.call(this,t)}function wq(t){this.exit(t)}function kq(t){dq(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Eq],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Sq]],{ignore:["link","linkReference"]})}function Eq(t,e,n,r,i){let s="";if(!iI(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!_q(n)))return!1;const o=Nq(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Sq(t,e,n,r){return!iI(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function _q(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Nq(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=vS(t,"(");let s=vS(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function iI(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||tI(n)||eI(n))&&(!e||n!==47)}function sI(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}oI.peek=Dq;function Tq(){this.buffer()}function Cq(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Aq(){this.buffer()}function Oq(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Iq(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=sI(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Rq(t){this.exit(t)}function Mq(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=sI(this.sliceSerialize(t)).toLowerCase(),n.label=e}function jq(t){this.exit(t)}function Dq(){return"["}function oI(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Pq(){return{enter:{gfmFootnoteCallString:Tq,gfmFootnoteCall:Cq,gfmFootnoteDefinitionLabelString:Aq,gfmFootnoteDefinition:Oq},exit:{gfmFootnoteCallString:Iq,gfmFootnoteCall:Rq,gfmFootnoteDefinitionLabelString:Mq,gfmFootnoteDefinition:jq}}}function Lq(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:oI},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),u=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),u(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?aI:$q))),c(),l}}function $q(t,e,n){return e===0?t:aI(t,e,n)}function aI(t,e,n){return(n?"":"    ")+t}const zq=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];lI.peek=Hq;function Fq(){return{canContainEols:["delete"],enter:{strikethrough:Uq},exit:{strikethrough:qq}}}function Bq(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:zq}],handlers:{delete:lI}}}function Uq(t){this.enter({type:"delete",children:[]},t)}function qq(t){this.exit(t)}function lI(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function Hq(){return"~"}function Vq(t){return t.length}function Wq(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||Vq,s=[],o=[],a=[],l=[];let c=0,u=-1;for(;++u<t.length;){const y=[],b=[];let g=-1;for(t[u].length>c&&(c=t[u].length);++g<t[u].length;){const x=Kq(t[u][g]);if(n.alignDelimiters!==!1){const v=i(x);b[g]=v,(l[g]===void 0||v>l[g])&&(l[g]=v)}y.push(x)}o[u]=y,a[u]=b}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)s[d]=kS(r[d]);else{const y=kS(r);for(;++d<c;)s[d]=y}d=-1;const f=[],p=[];for(;++d<c;){const y=s[d];let b="",g="";y===99?(b=":",g=":"):y===108?b=":":y===114&&(g=":");let x=n.alignDelimiters===!1?1:Math.max(1,l[d]-b.length-g.length);const v=b+"-".repeat(x)+g;n.alignDelimiters!==!1&&(x=b.length+x+g.length,x>l[d]&&(l[d]=x),p[d]=x),f[d]=v}o.splice(1,0,f),a.splice(1,0,p),u=-1;const m=[];for(;++u<o.length;){const y=o[u],b=a[u];d=-1;const g=[];for(;++d<c;){const x=y[d]||"";let v="",w="";if(n.alignDelimiters!==!1){const S=l[d]-(b[d]||0),E=s[d];E===114?v=" ".repeat(S):E===99?S%2?(v=" ".repeat(S/2+.5),w=" ".repeat(S/2-.5)):(v=" ".repeat(S/2),w=v):w=" ".repeat(S)}n.delimiterStart!==!1&&!d&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||d)&&g.push(" "),n.alignDelimiters!==!1&&g.push(v),g.push(x),n.alignDelimiters!==!1&&g.push(w),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&g.push("|")}m.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return m.join(`
`)}function Kq(t){return t==null?"":String(t)}function kS(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Gq(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),Qq);return i(),o}function Qq(t,e,n){return">"+(n?"":" ")+t}function Yq(t,e){return ES(t,e.inConstruct,!0)&&!ES(t,e.notInConstruct,!1)}function ES(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function SS(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Yq(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Jq(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function Zq(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Xq(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function eH(t,e,n,r){const i=Xq(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Zq(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,tH);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(Jq(s,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),s&&(u+=a.move(s+`
`)),u+=a.move(l),c(),u}function tH(t,e,n){return(n?"":"    ")+t}function Gv(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function nH(t,e,n,r){const i=Gv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function rH(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function $u(t){return"&#x"+t.toString(16).toUpperCase()+";"}function _S(t){if(t===null||eq(t)||tI(t))return 1;if(eI(t))return 2}function Bf(t,e,n){const r=_S(t),i=_S(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}cI.peek=iH;function cI(t,e,n,r){const i=rH(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=Bf(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=$u(c)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Bf(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+$u(d));const p=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},a+l+p}function iH(t,e,n){return n.options.emphasis||"*"}const sH={};function uI(t,e){const n=sH,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return dI(t,r,i)}function dI(t,e,n){if(oH(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return NS(t.children,e,n)}return Array.isArray(t)?NS(t,e,n):""}function NS(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=dI(t[i],e,n);return r.join("")}function oH(t){return!!(t&&typeof t=="object")}function aH(t,e){let n=!1;return gm(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,bx}),!!((!t.depth||t.depth<3)&&uI(t)&&(e.options.setext||n))}function lH(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(aH(t,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=$u(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}hI.peek=cH;function hI(t){return t.value||""}function cH(){return"<"}fI.peek=uH;function fI(t,e,n,r){const i=Gv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function uH(){return"!"}pI.peek=dH;function pI(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function dH(){return"!"}mI.peek=hH;function mI(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function hH(){return"`"}function gI(t,e){const n=uI(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}yI.peek=fH;function yI(t,e,n,r){const i=Gv(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(gI(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function fH(t,e,n){return gI(t,n)?"<":"["}bI.peek=pH;function bI(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function pH(){return"["}function Qv(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function mH(t){const e=Qv(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function gH(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function xI(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function yH(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?gH(n):Qv(n);const a=t.ordered?o==="."?")":".":mH(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),xI(n)===o&&u){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function bH(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function xH(t,e,n,r){const i=bH(n);let s=n.bulletCurrent||Qv(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(d,f,p){return f?(p?"":" ".repeat(o))+d:(p?s:s+" ".repeat(o-s.length))+d}}function vH(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const wH=ym(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function kH(t,e,n,r){return(t.children.some(function(o){return wH(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function EH(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}vI.peek=SH;function vI(t,e,n,r){const i=EH(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=Bf(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=$u(c)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Bf(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+$u(d));const p=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},a+l+p}function SH(t,e,n){return n.options.strong||"*"}function _H(t,e,n,r){return n.safe(t.value,r)}function NH(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function TH(t,e,n){const r=(xI(n)+(n.options.ruleSpaces?" ":"")).repeat(NH(n));return n.options.ruleSpaces?r.slice(0,-1):r}const wI={blockquote:Gq,break:SS,code:eH,definition:nH,emphasis:cI,hardBreak:SS,heading:lH,html:hI,image:fI,imageReference:pI,inlineCode:mI,link:yI,linkReference:bI,list:yH,listItem:xH,paragraph:vH,root:kH,strong:vI,text:_H,thematicBreak:TH};function CH(){return{enter:{table:AH,tableData:TS,tableHeader:TS,tableRow:IH},exit:{codeText:RH,table:OH,tableData:Gg,tableHeader:Gg,tableRow:Gg}}}function AH(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function OH(t){this.exit(t),this.data.inTable=void 0}function IH(t){this.enter({type:"tableRow",children:[]},t)}function Gg(t){this.exit(t)}function TS(t){this.enter({type:"tableCell",children:[]},t)}function RH(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,MH));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function MH(t,e){return e==="|"?e:t}function jH(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(p,m,y,b){return c(u(p,y,b),p.align)}function a(p,m,y,b){const g=d(p,y,b),x=c([g]);return x.slice(0,x.indexOf(`
`))}function l(p,m,y,b){const g=y.enter("tableCell"),x=y.enter("phrasing"),v=y.containerPhrasing(p,{...b,before:s,after:s});return x(),g(),v}function c(p,m){return Wq(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function u(p,m,y){const b=p.children;let g=-1;const x=[],v=m.enter("table");for(;++g<b.length;)x[g]=d(b[g],m,y);return v(),x}function d(p,m,y){const b=p.children;let g=-1;const x=[],v=m.enter("tableRow");for(;++g<b.length;)x[g]=l(b[g],p,m,y);return v(),x}function f(p,m,y){let b=wI.inlineCode(p,m,y);return y.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function DH(){return{exit:{taskListCheckValueChecked:CS,taskListCheckValueUnchecked:CS,paragraph:LH}}}function PH(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:$H}}}function CS(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function LH(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function $H(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=wI.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function zH(){return[mq(),Pq(),Fq(),CH(),DH()]}function FH(t){return{extensions:[gq(),Lq(t),Bq(),jH(t),PH()]}}function Yh(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}const AS={}.hasOwnProperty;function BH(t){const e={};let n=-1;for(;++n<t.length;)UH(e,t[n]);return e}function UH(t,e){let n;for(n in e){const i=(AS.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){AS.call(i,o)||(i[o]=[]);const a=s[o];qH(i[o],Array.isArray(a)?a:a?[a]:[])}}}function qH(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Yh(t,0,0,r)}const zu=xm(/[A-Za-z]/),Yv=xm(/[\dA-Za-z]/);function HH(t){return t!==null&&(t<32||t===127)}function Ya(t){return t!==null&&t<-2}function Ln(t){return t!==null&&(t<0||t===32)}function Oi(t){return t===-2||t===-1||t===32}const Jv=xm(new RegExp("\\p{P}|\\p{S}","u")),Dl=xm(/\s/);function xm(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}const VH={tokenize:JH,partial:!0},kI={tokenize:ZH,partial:!0},EI={tokenize:XH,partial:!0},SI={tokenize:eV,partial:!0},WH={tokenize:tV,partial:!0},_I={name:"wwwAutolink",tokenize:QH,previous:TI},NI={name:"protocolAutolink",tokenize:YH,previous:CI},Gi={name:"emailAutolink",tokenize:GH,previous:AI},hi={};function KH(){return{text:hi}}let co=48;for(;co<123;)hi[co]=Gi,co++,co===58?co=65:co===91&&(co=97);hi[43]=Gi;hi[45]=Gi;hi[46]=Gi;hi[95]=Gi;hi[72]=[Gi,NI];hi[104]=[Gi,NI];hi[87]=[Gi,_I];hi[119]=[Gi,_I];function GH(t,e,n){const r=this;let i,s;return o;function o(d){return!Ex(d)||!AI.call(r,r.previous)||Zv(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return Ex(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(WH,u,c)(d):d===45||d===95||Yv(d)?(s=!0,t.consume(d),l):u(d)}function c(d){return t.consume(d),i=!0,l}function u(d){return s&&i&&zu(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function QH(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!TI.call(r,r.previous)||Zv(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(VH,t.attempt(kI,t.attempt(EI,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function YH(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&CI.call(r,r.previous)&&!Zv(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(zu(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?c:(s=!0,l)):n(d)}function c(d){return d===null||HH(d)||Ln(d)||Dl(d)||Jv(d)?n(d):t.attempt(kI,t.attempt(EI,u),n)(d)}function u(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function JH(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function ZH(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(SI,l,a)(c):c===null||Ln(c)||Dl(c)||c!==45&&Jv(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function XH(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(SI,e,s)(o):o===null||Ln(o)||Dl(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function eV(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||Ln(a)||Dl(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||Ln(a)||Dl(a)?e(a):r(a)}function s(a){return zu(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):zu(a)?(t.consume(a),o):n(a)}}function tV(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Yv(s)?n(s):e(s)}}function TI(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ln(t)}function CI(t){return!zu(t)}function AI(t){return!(t===47||Ex(t))}function Ex(t){return t===43||t===45||t===46||t===95||Yv(t)}function Zv(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function OS(t){if(t===null||Ln(t)||Dl(t))return 1;if(Jv(t))return 2}function nV(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}function Ii(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Oi(l)?(t.enter(n),a(l)):e(l)}function a(l){return Oi(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const rV={partial:!0,tokenize:iV};function iV(t,e,n){return r;function r(s){return Oi(s)?Ii(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ya(s)?e(s):n(s)}}function Xv(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const sV={tokenize:fV,partial:!0};function oV(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:uV,continuation:{tokenize:dV},exit:hV}},text:{91:{name:"gfmFootnoteCall",tokenize:cV},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:aV,resolveTo:lV}}}}function aV(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=Xv(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function lV(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function cV(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||Ln(d))return n(d);if(d===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(Xv(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return Ln(d)||(o=!0),s++,t.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(t.consume(d),s++,c):c(d)}}function uV(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(m){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(m)}function u(m){if(o>999||m===93&&!a||m===null||m===91||Ln(m))return n(m);if(m===93){t.exit("chunkString");const y=t.exit("gfmFootnoteDefinitionLabelString");return s=Xv(r.sliceSerialize(y)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return Ln(m)||(a=!0),o++,t.consume(m),m===92?d:u}function d(m){return m===91||m===92||m===93?(t.consume(m),o++,u):u(m)}function f(m){return m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),i.includes(s)||i.push(s),Ii(t,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return e(m)}}function dV(t,e,n){return t.check(rV,e,t.attempt(sV,e,n))}function hV(t){t.exit("gfmFootnoteDefinition")}function fV(t,e,n){const r=this;return Ii(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function pV(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",u,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",d,a]],p=a.parser.constructs.insideSpan.null;p&&Yh(f,f.length,0,nV(p,o.slice(c+1,l),a)),Yh(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",u,a]]),Yh(o,c-1,l-c+3,f),l=c+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,u=this.events;let d=0;return f;function f(m){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(m):(o.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const y=OS(c);if(m===126)return d>1?l(m):(o.consume(m),d++,p);if(d<2&&!n)return l(m);const b=o.exit("strikethroughSequenceTemporary"),g=OS(m);return b._open=!g||g===2&&!!y,b._close=!y||y===2&&!!g,a(m)}}}class mV{constructor(){this.map=[]}add(e,n,r){gV(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function gV(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function yV(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function bV(){return{flow:{null:{name:"table",tokenize:xV,resolveAll:vV}}}}function xV(t,e,n){const r=this;let i=0,s=0,o;return a;function a(N){let z=r.events.length-1;for(;z>-1;){const H=r.events[z][1].type;if(H==="lineEnding"||H==="linePrefix")z--;else break}const F=z>-1?r.events[z][1].type:null,q=F==="tableHead"||F==="tableRow"?E:l;return q===E&&r.parser.lazy[r.now().line]?n(N):q(N)}function l(N){return t.enter("tableHead"),t.enter("tableRow"),c(N)}function c(N){return N===124||(o=!0,s+=1),u(N)}function u(N){return N===null?n(N):Ya(N)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),p):n(N):Oi(N)?Ii(t,u,"whitespace")(N):(s+=1,o&&(o=!1,i+=1),N===124?(t.enter("tableCellDivider"),t.consume(N),t.exit("tableCellDivider"),o=!0,u):(t.enter("data"),d(N)))}function d(N){return N===null||N===124||Ln(N)?(t.exit("data"),u(N)):(t.consume(N),N===92?f:d)}function f(N){return N===92||N===124?(t.consume(N),d):d(N)}function p(N){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(N):(t.enter("tableDelimiterRow"),o=!1,Oi(N)?Ii(t,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):m(N))}function m(N){return N===45||N===58?b(N):N===124?(o=!0,t.enter("tableCellDivider"),t.consume(N),t.exit("tableCellDivider"),y):S(N)}function y(N){return Oi(N)?Ii(t,b,"whitespace")(N):b(N)}function b(N){return N===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(N),t.exit("tableDelimiterMarker"),g):N===45?(s+=1,g(N)):N===null||Ya(N)?w(N):S(N)}function g(N){return N===45?(t.enter("tableDelimiterFiller"),x(N)):S(N)}function x(N){return N===45?(t.consume(N),x):N===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(N),t.exit("tableDelimiterMarker"),v):(t.exit("tableDelimiterFiller"),v(N))}function v(N){return Oi(N)?Ii(t,w,"whitespace")(N):w(N)}function w(N){return N===124?m(N):N===null||Ya(N)?!o||i!==s?S(N):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(N)):S(N)}function S(N){return n(N)}function E(N){return t.enter("tableRow"),C(N)}function C(N){return N===124?(t.enter("tableCellDivider"),t.consume(N),t.exit("tableCellDivider"),C):N===null||Ya(N)?(t.exit("tableRow"),e(N)):Oi(N)?Ii(t,C,"whitespace")(N):(t.enter("data"),T(N))}function T(N){return N===null||N===124||Ln(N)?(t.exit("data"),C(N)):(t.consume(N),N===92?A:T)}function A(N){return N===92||N===124?(t.consume(N),T):T(N)}}function vV(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,u,d;const f=new mV;for(;++n<t.length;){const p=t[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(a=!1,l!==0&&(IS(f,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",c,e]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",u,e]])),i=m.type==="tableDelimiterRow"?2:u?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=oh(f,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=oh(f,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):m.type==="tableHead"?(a=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=oh(f,e,s,i,n,d)):o[1]!==0&&(d=oh(f,e,o,i,n,d)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&IS(f,e,l,c,u),f.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=yV(e.events,n))}return t}function oh(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Ia(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=Ia(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=Ia(e.events,n[2]),u=Ia(e.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const f=e.events[n[2]],p=e.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,y=n[3]-n[2]-1;t.add(m,y,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},Ia(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function IS(t,e,n,r,i){const s=[],o=Ia(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function Ia(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const wV={name:"tasklistCheck",tokenize:EV};function kV(){return{text:{91:wV}}}function EV(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Ln(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return Ya(l)?e(l):Oi(l)?t.check({tokenize:SV},e,n)(l):n(l)}}function SV(t,e,n){return Ii(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function _V(t){return BH([KH(),oV(),pV(t),bV(),kV()])}const NV={};function TV(t){const e=this,n=t||NV,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(_V(n)),s.push(zH()),o.push(FH(n))}const OI=function(t){if(t==null)return IV;if(typeof t=="function")return vm(t);if(typeof t=="object")return Array.isArray(t)?CV(t):AV(t);if(typeof t=="string")return OV(t);throw new Error("Expected function, string, or object as test")};function CV(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=OI(t[n]);return vm(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function AV(t){const e=t;return vm(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function OV(t){return vm(e);function e(n){return n&&n.type===t}}function vm(t){return e;function e(n,r,i){return!!(RV(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function IV(){return!0}function RV(t){return t!==null&&typeof t=="object"&&"type"in t}const RS=function(t,e,n){const r=OI(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(r(t.children[e],e,t))return t.children[e]},fa=function(t){if(t==null)return DV;if(typeof t=="string")return jV(t);if(typeof t=="object")return MV(t);if(typeof t=="function")return ew(t);throw new Error("Expected function, string, or array as `test`")};function MV(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=fa(t[n]);return ew(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function jV(t){return ew(e);function e(n){return n.tagName===t}}function ew(t){return e;function e(n,r,i){return!!(PV(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function DV(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function PV(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const MS=/\n/g,jS=/[\t ]+/g,Sx=fa("br"),DS=fa(HV),LV=fa("p"),PS=fa("tr"),$V=fa(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",qV,VV]),II=fa(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function zV(t,e){const n=e||{},r="children"in t?t.children:[],i=II(t),s=jI(t,{whitespace:n.whitespace||"normal"}),o=[];(t.type==="text"||t.type==="comment")&&o.push(...MI(t,{breakBefore:!0,breakAfter:!0}));let a=-1;for(;++a<r.length;)o.push(...RI(r[a],t,{whitespace:s,breakBefore:a?void 0:i,breakAfter:a<r.length-1?Sx(r[a+1]):i}));const l=[];let c;for(a=-1;++a<o.length;){const u=o[a];typeof u=="number"?c!==void 0&&u>c&&(c=u):u&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(u))}return l.join("")}function RI(t,e,n){return t.type==="element"?FV(t,e,n):t.type==="text"?n.whitespace==="normal"?MI(t,n):BV(t):[]}function FV(t,e,n){const r=jI(t,n),i=t.children||[];let s=-1,o=[];if($V(t))return o;let a,l;for(Sx(t)||PS(t)&&RS(e,t,PS)?l=`
`:LV(t)?(a=2,l=2):II(t)&&(a=1,l=1);++s<i.length;)o=o.concat(RI(i[s],t,{whitespace:r,breakBefore:s?void 0:a,breakAfter:s<i.length-1?Sx(i[s+1]):l}));return DS(t)&&RS(e,t,DS)&&o.push("	"),a&&o.unshift(a),l&&o.push(l),o}function MI(t,e){const n=String(t.value),r=[],i=[];let s=0;for(;s<=n.length;){MS.lastIndex=s;const l=MS.exec(n),c=l&&"index"in l?l.index:n.length;r.push(UV(n.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?e.breakBefore:!0,c===n.length?e.breakAfter:!0)),s=c+1}let o=-1,a;for(;++o<r.length;)r[o].charCodeAt(r[o].length-1)===8203||o<r.length-1&&r[o+1].charCodeAt(0)===8203?(i.push(r[o]),a=void 0):r[o]?(typeof a=="number"&&i.push(a),i.push(r[o]),a=0):(o===0||o===r.length-1)&&i.push(0);return i}function BV(t){return[String(t.value)]}function UV(t,e,n){const r=[];let i=0,s;for(;i<t.length;){jS.lastIndex=i;const o=jS.exec(t);s=o?o.index:t.length,!i&&!s&&o&&!e&&r.push(""),i!==s&&r.push(t.slice(i,s)),i=o?s+o[0].length:s}return i!==s&&!n&&r.push(""),r.join(" ")}function jI(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function qV(t){return!!(t.properties||{}).hidden}function HV(t){return t.tagName==="td"||t.tagName==="th"}function VV(t){return t.tagName==="dialog"&&!(t.properties||{}).open}function WV(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],y=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],b=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],g=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],w={type:y,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:b},S={className:"function.dispatch",relevance:0,keywords:{_hint:g},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},E=[S,d,a,n,t.C_BLOCK_COMMENT_MODE,u,c],C={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:w,contains:E.concat([{begin:/\(/,end:/\)/,keywords:w,contains:E.concat(["self"]),relevance:0}]),relevance:0},T={className:"function",begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:w,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:w,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:w,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(C,T,S,E,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:w,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:w},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function KV(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=WV(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function GV(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},a={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(a);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},u={match:/\\'/},d={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=t.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),m={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},y=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],b=["true","false"],g={match:/(\/[a-z._-]+)+/},x=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],v=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],w=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],S=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:y,literal:b,built_in:[...x,...v,"set","shopt",...w,...S]},contains:[p,t.SHEBANG(),m,d,s,o,g,a,l,c,u,n]}}function QV(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",b={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},g=[d,a,n,t.C_BLOCK_COMMENT_MODE,u,c],x={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:b,contains:g.concat([{begin:/\(/,end:/\)/,keywords:b,contains:g.concat(["self"]),relevance:0}]),relevance:0},v={begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:b,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:b,relevance:0},{begin:p,returnBegin:!0,contains:[t.inherit(f,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C",aliases:["h"],keywords:b,disableAutodetect:!0,illegal:"</",contains:[].concat(x,v,g,[d,{begin:t.IDENT_RE+"::",keywords:b},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:d,strings:c,keywords:b}}}function YV(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],y=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],b=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],g=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],w={type:y,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:b},S={className:"function.dispatch",relevance:0,keywords:{_hint:g},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},E=[S,d,a,n,t.C_BLOCK_COMMENT_MODE,u,c],C={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:w,contains:E.concat([{begin:/\(/,end:/\)/,keywords:w,contains:E.concat(["self"]),relevance:0}]),relevance:0},T={className:"function",begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:w,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:w,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:w,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(C,T,S,E,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:w,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:w},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function JV(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(s),built_in:e,literal:r},a=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},u={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},d=t.inherit(u,{illegal:/\n/}),f={className:"subst",begin:/\{/,end:/\}/,keywords:o},p=t.inherit(f,{illegal:/\n/}),m={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,p]},y={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]},b=t.inherit(y,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]});f.contains=[y,m,u,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.C_BLOCK_COMMENT_MODE],p.contains=[b,m,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const g={variants:[c,y,m,u,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},x={begin:"<",end:">",contains:[{beginKeywords:"in out"},a]},v=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",w={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},g,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},a,x,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,x,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+v+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,x],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[g,l,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},w]}}const ZV=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),XV=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],e7=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],t7=[...XV,...e7],n7=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),r7=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),i7=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),s7=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function o7(t){const e=t.regex,n=ZV(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+r7.join("|")+")"},{begin:":(:)?("+i7.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+s7.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:n7.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+t7.join("|")+")\\b"}]}}function a7(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function l7(t){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function c7(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function u7(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[r,s,i,o,n,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,u=/'[^']*'/,d=e.either(l,c,u),f=e.concat(d,"(\\s*\\.\\s*",d,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:f,className:"attr",starts:{end:/$/,contains:[r,a,s,i,o,n]}}]}}var Ra="[0-9](_*[0-9])*",ah=`\\.(${Ra})`,lh="[0-9a-fA-F](_*[0-9a-fA-F])*",LS={className:"number",variants:[{begin:`(\\b(${Ra})((${ah})|\\.)?|(${ah}))[eE][+-]?(${Ra})[fFdD]?\\b`},{begin:`\\b(${Ra})((${ah})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${ah})[fFdD]?\\b`},{begin:`\\b(${Ra})[fFdD]\\b`},{begin:`\\b0[xX]((${lh})\\.?|(${lh})?\\.(${lh}))[pP][+-]?(${Ra})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${lh})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function DI(t,e,n){return n===-1?"":t.replace(e,r=>DI(t,e,n-1))}function d7(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+DI("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[u,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,LS,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},LS,c]}}const $S="[A-Za-z$_][0-9A-Za-z$_]*",h7=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],f7=["true","false","null","undefined","NaN","Infinity"],PI=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],LI=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],$I=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],p7=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],m7=[].concat($I,PI,LI);function g7(t){const e=t.regex,n=(I,{after:M})=>{const k="</"+I[0].slice(1);return I.input.indexOf(k,M)!==-1},r=$S,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(I,M)=>{const k=I[0].length+I.index,L=I.input[k];if(L==="<"||L===","){M.ignoreMatch();return}L===">"&&(n(I,{after:k})||M.ignoreMatch());let U;const _=I.input.substring(k);if(U=_.match(/^\s*=/)){M.ignoreMatch();return}if((U=_.match(/^\s+extends\s+/))&&U.index===0){M.ignoreMatch();return}}},a={$pattern:$S,keyword:h7,literal:f7,built_in:m7,"variable.language":p7},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},y={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},b={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},x={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},v=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,y,b,{match:/\$\d+/},d];f.contains=v.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(v)});const w=[].concat(x,f.contains),S=w.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(w)}]),E={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:S},C={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...PI,...LI]}},A={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},N={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[E],illegal:/%/},z={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function F(I){return e.concat("(?!",I.join("|"),")")}const q={match:e.concat(/\b/,F([...$I,"super","import"].map(I=>`${I}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},H={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},V={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},E]},D="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",P={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(D)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[E]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:S,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),A,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,y,b,x,{match:/\$\d+/},d,T,{scope:"attr",match:r+e.lookahead(":"),relevance:0},P,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,t.REGEXP_MODE,{className:"function",begin:D,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:S}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},N,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[E,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},H,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[E]},q,z,C,V,{match:/\$[(.]/}]}}function y7(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Ma="[0-9](_*[0-9])*",ch=`\\.(${Ma})`,uh="[0-9a-fA-F](_*[0-9a-fA-F])*",b7={className:"number",variants:[{begin:`(\\b(${Ma})((${ch})|\\.)?|(${ch}))[eE][+-]?(${Ma})[fFdD]?\\b`},{begin:`\\b(${Ma})((${ch})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${ch})[fFdD]?\\b`},{begin:`\\b(${Ma})[fFdD]\\b`},{begin:`\\b0[xX]((${uh})\\.?|(${uh})?\\.(${uh}))[pP][+-]?(${Ma})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${uh})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function x7(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(o);const a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(o,{className:"string"}),"self"]}]},c=b7,u=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),d={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},f=d;return f.variants[1].contains=[d],d.variants[1].contains=[f],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,u,n,r,a,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[d,t.C_LINE_COMMENT_MODE,u],relevance:0},t.C_LINE_COMMENT_MODE,u,a,l,o,t.C_NUMBER_MODE]},u]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,l]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const v7=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),w7=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],k7=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],E7=[...w7,...k7],S7=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),zI=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),FI=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),_7=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),N7=zI.concat(FI).sort().reverse();function T7(t){const e=v7(t),n=N7,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",o=[],a=[],l=function(v){return{className:"string",begin:"~?"+v+".*?"+v}},c=function(v,w,S){return{className:v,begin:w,relevance:S}},u={$pattern:/[a-z-]+/,keyword:r,attribute:S7.join(" ")},d={begin:"\\(",end:"\\)",contains:a,keywords:u,relevance:0};a.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,l("'"),l('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,d,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const f=a.concat({begin:/\{/,end:/\}/,contains:o}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(a)},m={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+_7.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:a}}]},y={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:u,returnEnd:!0,contains:a,relevance:0}},b={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:f}},g={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,p,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+E7.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,c("selector-tag",s,0),c("selector-id","#"+s),c("selector-class","\\."+s,0),c("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+zI.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+FI.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:f},{begin:"!important"},e.FUNCTION_DISPATCH]},x={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[g]};return o.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,y,b,x,m,g,p,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function C7(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function A7(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,s,o]}}function O7(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},a=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,a,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},u={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},d=t.inherit(c,{contains:[]}),f=t.inherit(u,{contains:[]});c.contains.push(f),u.contains.push(d);let p=[n,l];return[c,u,d,f].forEach(g=>{g.contains=g.contains.concat(p)}),p=p.concat(c,u),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},n,s,c,u,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},i,r,l,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function I7(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,a={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:a,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function R7(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},a={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[a]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},u=[t.BACKSLASH_ESCAPE,s,l],d=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],f=(y,b,g="\\1")=>{const x=g==="\\1"?g:e.concat(g,b);return e.concat(e.concat("(?:",y,")"),b,/(?:\\.|[^\\\/])*?/,x,/(?:\\.|[^\\\/])*?/,g,r)},p=(y,b,g)=>e.concat(e.concat("(?:",y,")"),b,/(?:\\.|[^\\\/])*?/,g,r),m=[l,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:u,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:f("s|tr|y",e.either(...d,{capture:!0}))},{begin:f("s|tr|y","\\(","\\)")},{begin:f("s|tr|y","\\[","\\]")},{begin:f("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",e.either(...d,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,a]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,a,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=m,o.contains=m,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:m}}function M7(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=e.concat(/[A-Z]+/,n),o={scope:"variable",match:"\\$+"+r},a={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=t.inherit(t.APOS_STRING_MODE,{illegal:null}),u=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(l)}),d={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(H,V)=>{V.data._beginMatch=H[1]||H[2]},"on:end":(H,V)=>{V.data._beginMatch!==H[1]&&V.ignoreMatch()}},f=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,m={scope:"string",variants:[u,c,d,f]},y={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},b=["false","null","true"],g=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],x=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],w={keyword:g,literal:(H=>{const V=[];return H.forEach(D=>{V.push(D),D.toLowerCase()===D?V.push(D.toUpperCase()):V.push(D.toLowerCase())}),V})(b),built_in:x},S=H=>H.map(V=>V.replace(/\|\d+$/,"")),E={variants:[{match:[/new/,e.concat(p,"+"),e.concat("(?!",S(x).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},C=e.concat(r,"\\b(?!\\()"),T={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),C],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),C],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},A={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},N={relevance:0,begin:/\(/,end:/\)/,keywords:w,contains:[A,o,T,t.C_BLOCK_COMMENT_MODE,m,y,E]},z={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",S(g).join("\\b|"),"|",S(x).join("\\b|"),"\\b)"),r,e.concat(p,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[N]};N.contains.push(z);const F=[A,T,t.C_BLOCK_COMMENT_MODE,m,y,E],q={begin:e.concat(/#\[\s*\\?/,e.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:b,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:b,keyword:["new","array"]},contains:["self",...F]},...F,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:w,contains:[q,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},a,{scope:"variable.language",match:/\$this\b/},o,z,T,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},E,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:w,contains:["self",q,o,T,t.C_BLOCK_COMMENT_MODE,m,y]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},m,y]}}function j7(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function D7(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function P7(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},u={begin:/\{\{/,relevance:0},d={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,u,c]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",p=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,m=`\\b|${r.join("|")}`,y={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${p}))[eE][+-]?(${f})[jJ]?(?=${m})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${m})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${m})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${m})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${m})`},{begin:`\\b(${f})[jJ](?=${m})`}]},b={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},g={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",l,y,d,t.HASH_COMMENT_MODE]}]};return c.contains=[d,y,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[l,y,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},d,b,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[g]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[y,g,d]}]}}function L7(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function $7(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function z7(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[t.COMMENT("#","$",{contains:[a]}),t.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],u={className:"subst",begin:/#\{/,end:/\}/,keywords:o},d={className:"string",contains:[t.BACKSLASH_ESCAPE,u],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,u]})]}]},f="[1-9](_?[0-9])*|0",p="[0-9](_?[0-9])*",m={className:"number",relevance:0,variants:[{begin:`\\b(${f})(\\.(${p}))?([eE][+-]?(${p})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},y={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},E=[d,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[y]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[d,{begin:n}],relevance:0},m,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,u],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);u.contains=E,y.contains=E;const N=[{begin:/^\s*=>/,starts:{end:"$",contains:E}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:E}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(N).concat(c).concat(E)}}function F7(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",a=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],u=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:u,keyword:a,literal:l,built_in:c},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:u}},{className:"punctuation",begin:"->"},s]}}const B7=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),U7=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],q7=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],H7=[...U7,...q7],V7=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),W7=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),K7=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),G7=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Q7(t){const e=B7(t),n=K7,r=W7,i="@[a-z-]+",s="and or not only",a={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+H7.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+G7.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,a,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:V7.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function Y7(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function J7(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],u=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],d=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=u,m=[...c,...l].filter(S=>!u.includes(S)),y={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},b={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},g={match:e.concat(/\b/,e.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function x(S){return e.concat(/\b/,e.either(...S.map(E=>E.replace(/\s+/,"\\s+"))),/\b/)}const v={scope:"keyword",match:x(f),relevance:0};function w(S,{exceptions:E,when:C}={}){const T=C;return E=E||[],S.map(A=>A.match(/\|\d+$/)||E.includes(A)?A:T(A)?`${A}|0`:A)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:w(m,{when:S=>S.length<3}),literal:s,type:a,built_in:d},contains:[{scope:"type",match:x(o)},v,g,y,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,b]}}function BI(t){return t?typeof t=="string"?t:t.source:null}function wc(t){return Qe("(?=",t,")")}function Qe(...t){return t.map(n=>BI(n)).join("")}function Z7(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function hn(...t){return"("+(Z7(t).capture?"":"?:")+t.map(r=>BI(r)).join("|")+")"}const tw=t=>Qe(/\b/,t,/\w$/.test(t)?/\b/:/\B/),X7=["Protocol","Type"].map(tw),zS=["init","self"].map(tw),eW=["Any","Self"],Qg=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],FS=["false","nil","true"],tW=["assignment","associativity","higherThan","left","lowerThan","none","right"],nW=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],BS=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],UI=hn(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),qI=hn(UI,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Yg=Qe(UI,qI,"*"),HI=hn(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Uf=hn(HI,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Gr=Qe(HI,Uf,"*"),dh=Qe(/[A-Z]/,Uf,"*"),rW=["attached","autoclosure",Qe(/convention\(/,hn("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Qe(/objc\(/,Gr,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],iW=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function sW(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],i={match:[/\./,hn(...X7,...zS)],className:{2:"keyword"}},s={match:Qe(/\./,hn(...Qg)),relevance:0},o=Qg.filter(Me=>typeof Me=="string").concat(["_|0"]),a=Qg.filter(Me=>typeof Me!="string").concat(eW).map(tw),l={variants:[{className:"keyword",match:hn(...a,...zS)}]},c={$pattern:hn(/\b\w+/,/#\w+/),keyword:o.concat(nW),literal:FS},u=[i,s,l],d={match:Qe(/\./,hn(...BS)),relevance:0},f={className:"built_in",match:Qe(/\b/,hn(...BS),/(?=\()/)},p=[d,f],m={match:/->/,relevance:0},y={className:"operator",relevance:0,variants:[{match:Yg},{match:`\\.(\\.|${qI})+`}]},b=[m,y],g="([0-9]_*)+",x="([0-9a-fA-F]_*)+",v={className:"number",relevance:0,variants:[{match:`\\b(${g})(\\.(${g}))?([eE][+-]?(${g}))?\\b`},{match:`\\b0x(${x})(\\.(${x}))?([pP][+-]?(${g}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},w=(Me="")=>({className:"subst",variants:[{match:Qe(/\\/,Me,/[0\\tnr"']/)},{match:Qe(/\\/,Me,/u\{[0-9a-fA-F]{1,8}\}/)}]}),S=(Me="")=>({className:"subst",match:Qe(/\\/,Me,/[\t ]*(?:[\r\n]|\r\n)/)}),E=(Me="")=>({className:"subst",label:"interpol",begin:Qe(/\\/,Me,/\(/),end:/\)/}),C=(Me="")=>({begin:Qe(Me,/"""/),end:Qe(/"""/,Me),contains:[w(Me),S(Me),E(Me)]}),T=(Me="")=>({begin:Qe(Me,/"/),end:Qe(/"/,Me),contains:[w(Me),E(Me)]}),A={className:"string",variants:[C(),C("#"),C("##"),C("###"),T(),T("#"),T("##"),T("###")]},N=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],z={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:N},F=Me=>{const kt=Qe(Me,/\//),B=Qe(/\//,Me);return{begin:kt,end:B,contains:[...N,{scope:"comment",begin:`#(?!.*${B})`,end:/$/}]}},q={scope:"regexp",variants:[F("###"),F("##"),F("#"),z]},H={match:Qe(/`/,Gr,/`/)},V={className:"variable",match:/\$\d+/},D={className:"variable",match:`\\$${Uf}+`},P=[H,V,D],I={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:iW,contains:[...b,v,A]}]}},M={scope:"keyword",match:Qe(/@/,hn(...rW),wc(hn(/\(/,/\s+/)))},k={scope:"meta",match:Qe(/@/,Gr)},L=[I,M,k],U={match:wc(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Qe(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Uf,"+")},{className:"type",match:dh,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Qe(/\s+&\s+/,wc(dh)),relevance:0}]},_={begin:/</,end:/>/,keywords:c,contains:[...r,...u,...L,m,U]};U.contains.push(_);const W={match:Qe(Gr,/\s*:/),keywords:"_|0",relevance:0},pe={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",W,...r,q,...u,...p,...b,v,A,...P,...L,U]},de={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,U]},le={begin:hn(wc(Qe(Gr,/\s*:/)),wc(Qe(Gr,/\s+/,Gr,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Gr}]},Ee={begin:/\(/,end:/\)/,keywords:c,contains:[le,...r,...u,...b,v,A,...L,U,pe],endsParent:!0,illegal:/["']/},Ke={match:[/(func|macro)/,/\s+/,hn(H.match,Gr,Yg)],className:{1:"keyword",3:"title.function"},contains:[de,Ee,e],illegal:[/\[/,/%/]},He={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[de,Ee,e],illegal:/\[|%/},Ge={match:[/operator/,/\s+/,Yg],className:{1:"keyword",3:"title"}},Ot={begin:[/precedencegroup/,/\s+/,dh],className:{1:"keyword",3:"title"},contains:[U],keywords:[...tW,...FS],end:/}/},Fn={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},sr={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},wt={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Gr,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[de,...u,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:dh},...u],relevance:0}]};for(const Me of A.variants){const kt=Me.contains.find(we=>we.label==="interpol");kt.keywords=c;const B=[...u,...p,...b,v,A,...P];kt.contains=[...B,{begin:/\(/,end:/\)/,contains:["self",...B]}]}return{name:"Swift",keywords:c,contains:[...r,Ke,He,Fn,sr,wt,Ge,Ot,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},q,...u,...p,...b,v,A,...P,...L,U,pe]}}const qf="[A-Za-z$_][0-9A-Za-z$_]*",VI=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],WI=["true","false","null","undefined","NaN","Infinity"],KI=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],GI=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],QI=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],YI=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],JI=[].concat(QI,KI,GI);function oW(t){const e=t.regex,n=(I,{after:M})=>{const k="</"+I[0].slice(1);return I.input.indexOf(k,M)!==-1},r=qf,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(I,M)=>{const k=I[0].length+I.index,L=I.input[k];if(L==="<"||L===","){M.ignoreMatch();return}L===">"&&(n(I,{after:k})||M.ignoreMatch());let U;const _=I.input.substring(k);if(U=_.match(/^\s*=/)){M.ignoreMatch();return}if((U=_.match(/^\s+extends\s+/))&&U.index===0){M.ignoreMatch();return}}},a={$pattern:qf,keyword:VI,literal:WI,built_in:JI,"variable.language":YI},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},y={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},b={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},x={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},v=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,y,b,{match:/\$\d+/},d];f.contains=v.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(v)});const w=[].concat(x,f.contains),S=w.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(w)}]),E={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:S},C={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...KI,...GI]}},A={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},N={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[E],illegal:/%/},z={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function F(I){return e.concat("(?!",I.join("|"),")")}const q={match:e.concat(/\b/,F([...QI,"super","import"].map(I=>`${I}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},H={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},V={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},E]},D="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",P={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(D)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[E]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:S,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),A,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,y,b,x,{match:/\$\d+/},d,T,{scope:"attr",match:r+e.lookahead(":"),relevance:0},P,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,t.REGEXP_MODE,{className:"function",begin:D,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:S}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},N,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[E,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},H,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[E]},q,z,C,V,{match:/\$[(.]/}]}}function aW(t){const e=t.regex,n=oW(t),r=qf,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},a={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:qf,keyword:VI.concat(l),literal:WI,built_in:JI.concat(i),"variable.language":YI},u={className:"meta",begin:"@"+r},d=(y,b,g)=>{const x=y.contains.findIndex(v=>v.label===b);if(x===-1)throw new Error("can not find mode to replace");y.contains.splice(x,1,g)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(u);const f=n.contains.find(y=>y.scope==="attr"),p=Object.assign({},f,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,f,p]),n.contains=n.contains.concat([u,s,o,p]),d(n,"shebang",t.SHEBANG()),d(n,"use_strict",a);const m=n.contains.find(y=>y.label==="func.def");return m.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function lW(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,a=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(o,a),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},u={className:"label",begin:/^\w+:/},d=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),f=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,l,c,u,d,f,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[f]}]}}function cW(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},a={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,o,i,t.QUOTE_STRING_MODE,l,c,a]}}function uW(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(s,{begin:/\(/,end:/\)/}),a=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,l,a]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function dW(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},a=t.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},m={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},y={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},b=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},f,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},m,y,s,o],g=[...b];return g.pop(),g.push(a),p.contains=g,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:b}}const hW={arduino:KV,bash:GV,c:QV,cpp:YV,csharp:JV,css:o7,diff:a7,go:l7,graphql:c7,ini:u7,java:d7,javascript:g7,json:y7,kotlin:x7,less:T7,lua:C7,makefile:A7,markdown:O7,objectivec:I7,perl:R7,php:M7,"php-template":j7,plaintext:D7,python:P7,"python-repl":L7,r:$7,ruby:z7,rust:F7,scss:Q7,shell:Y7,sql:J7,swift:sW,typescript:aW,vbnet:lW,wasm:cW,xml:uW,yaml:dW};function ZI(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{const n=t[e],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&ZI(n)}),t}let US=class{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function XI(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Cs(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const fW="</span>",qS=t=>!!t.scope,pW=(t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${e}${t}`};class mW{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=XI(e)}openNode(e){if(!qS(e))return;const n=pW(e.scope,{prefix:this.classPrefix});this.span(n)}closeNode(e){qS(e)&&(this.buffer+=fW)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const HS=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class nw{constructor(){this.rootNode=HS(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=HS({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{nw._collapse(n)}))}}class gW extends nw{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,n){const r=e.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new mW(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Fu(t){return t?typeof t=="string"?t:t.source:null}function eR(t){return pa("(?=",t,")")}function yW(t){return pa("(?:",t,")*")}function bW(t){return pa("(?:",t,")?")}function pa(...t){return t.map(n=>Fu(n)).join("")}function xW(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function rw(...t){return"("+(xW(t).capture?"":"?:")+t.map(r=>Fu(r)).join("|")+")"}function tR(t){return new RegExp(t.toString()+"|").exec("").length-1}function vW(t,e){const n=t&&t.exec(e);return n&&n.index===0}const wW=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function iw(t,{joinWith:e}){let n=0;return t.map(r=>{n+=1;const i=n;let s=Fu(r),o="";for(;s.length>0;){const a=wW.exec(s);if(!a){o+=s;break}o+=s.substring(0,a.index),s=s.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+i):(o+=a[0],a[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(e)}const kW=/\b\B/,nR="[a-zA-Z]\\w*",sw="[a-zA-Z_]\\w*",rR="\\b\\d+(\\.\\d+)?",iR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",sR="\\b(0b[01]+)",EW="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SW=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=pa(e,/.*\b/,t.binary,/\b.*/)),Cs({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},Bu={begin:"\\\\[\\s\\S]",relevance:0},_W={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Bu]},NW={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Bu]},TW={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},wm=function(t,e,n={}){const r=Cs({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=rw("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:pa(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},CW=wm("//","$"),AW=wm("/\\*","\\*/"),OW=wm("#","$"),IW={scope:"number",begin:rR,relevance:0},RW={scope:"number",begin:iR,relevance:0},MW={scope:"number",begin:sR,relevance:0},jW={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Bu,{begin:/\[/,end:/\]/,relevance:0,contains:[Bu]}]},DW={scope:"title",begin:nR,relevance:0},PW={scope:"title",begin:sw,relevance:0},LW={begin:"\\.\\s*"+sw,relevance:0},$W=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var hh=Object.freeze({__proto__:null,APOS_STRING_MODE:_W,BACKSLASH_ESCAPE:Bu,BINARY_NUMBER_MODE:MW,BINARY_NUMBER_RE:sR,COMMENT:wm,C_BLOCK_COMMENT_MODE:AW,C_LINE_COMMENT_MODE:CW,C_NUMBER_MODE:RW,C_NUMBER_RE:iR,END_SAME_AS_BEGIN:$W,HASH_COMMENT_MODE:OW,IDENT_RE:nR,MATCH_NOTHING_RE:kW,METHOD_GUARD:LW,NUMBER_MODE:IW,NUMBER_RE:rR,PHRASAL_WORDS_MODE:TW,QUOTE_STRING_MODE:NW,REGEXP_MODE:jW,RE_STARTERS_RE:EW,SHEBANG:SW,TITLE_MODE:DW,UNDERSCORE_IDENT_RE:sw,UNDERSCORE_TITLE_MODE:PW});function zW(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function FW(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function BW(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=zW,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function UW(t,e){Array.isArray(t.illegal)&&(t.illegal=rw(...t.illegal))}function qW(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function HW(t,e){t.relevance===void 0&&(t.relevance=1)}const VW=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(r=>{delete t[r]}),t.keywords=n.keywords,t.begin=pa(n.beforeMatch,eR(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},WW=["of","and","for","in","not","or","if","then","parent","list","value"],KW="keyword";function oR(t,e,n=KW){const r=Object.create(null);return typeof t=="string"?i(n,t.split(" ")):Array.isArray(t)?i(n,t):Object.keys(t).forEach(function(s){Object.assign(r,oR(t[s],e,s))}),r;function i(s,o){e&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){const l=a.split("|");r[l[0]]=[s,GW(l[0],l[1])]})}}function GW(t,e){return e?Number(e):QW(t)?0:1}function QW(t){return WW.includes(t.toLowerCase())}const VS={},Uo=t=>{console.error(t)},WS=(t,...e)=>{console.log(`WARN: ${t}`,...e)},Na=(t,e)=>{VS[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),VS[`${t}/${e}`]=!0)},Hf=new Error;function aR(t,e,{key:n}){let r=0;const i=t[n],s={},o={};for(let a=1;a<=e.length;a++)o[a+r]=i[a],s[a+r]=!0,r+=tR(e[a-1]);t[n]=o,t[n]._emit=s,t[n]._multi=!0}function YW(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Uo("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Hf;if(typeof t.beginScope!="object"||t.beginScope===null)throw Uo("beginScope must be object"),Hf;aR(t,t.begin,{key:"beginScope"}),t.begin=iw(t.begin,{joinWith:""})}}function JW(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Uo("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Hf;if(typeof t.endScope!="object"||t.endScope===null)throw Uo("endScope must be object"),Hf;aR(t,t.end,{key:"endScope"}),t.end=iw(t.end,{joinWith:""})}}function ZW(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function XW(t){ZW(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),YW(t),JW(t)}function eK(t){function e(o,a){return new RegExp(Fu(o),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=tR(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(l=>l[1]);this.matcherRe=e(iw(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(a);if(!l)return null;const c=l.findIndex((d,f)=>f>0&&d!==void 0),u=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,u)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const l=new n;return this.rules.slice(a).forEach(([c,u])=>l.addRule(c,u)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(a);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,c=u.exec(a)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function i(o){const a=new r;return o.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function s(o,a){const l=o;if(o.isCompiled)return l;[FW,qW,XW,VW].forEach(u=>u(o,a)),t.compilerExtensions.forEach(u=>u(o,a)),o.__beforeBegin=null,[BW,UW,HW].forEach(u=>u(o,a)),o.isCompiled=!0;let c=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),c=o.keywords.$pattern,delete o.keywords.$pattern),c=c||/\w+/,o.keywords&&(o.keywords=oR(o.keywords,t.case_insensitive)),l.keywordPatternRe=e(c,!0),a&&(o.begin||(o.begin=/\B|\b/),l.beginRe=e(l.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(l.endRe=e(l.end)),l.terminatorEnd=Fu(l.end)||"",o.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(l.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(u){return tK(u==="self"?o:u)})),o.contains.forEach(function(u){s(u,l)}),o.starts&&s(o.starts,a),l.matcher=i(l),l}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=Cs(t.classNameAliases||{}),s(t)}function lR(t){return t?t.endsWithParent||lR(t.starts):!1}function tK(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return Cs(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:lR(t)?Cs(t,{starts:t.starts?Cs(t.starts):null}):Object.isFrozen(t)?Cs(t):t}var nK="11.11.1";class rK extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const Jg=XI,KS=Cs,GS=Symbol("nomatch"),iK=7,cR=function(t){const e=Object.create(null),n=Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:gW};function l(D){return a.noHighlightRe.test(D)}function c(D){let P=D.className+" ";P+=D.parentNode?D.parentNode.className:"";const I=a.languageDetectRe.exec(P);if(I){const M=T(I[1]);return M||(WS(s.replace("{}",I[1])),WS("Falling back to no-highlight mode for this block.",D)),M?I[1]:"no-highlight"}return P.split(/\s+/).find(M=>l(M)||T(M))}function u(D,P,I){let M="",k="";typeof P=="object"?(M=D,I=P.ignoreIllegals,k=P.language):(Na("10.7.0","highlight(lang, code, ...args) has been deprecated."),Na("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),k=D,M=P),I===void 0&&(I=!0);const L={code:M,language:k};H("before:highlight",L);const U=L.result?L.result:d(L.language,L.code,I);return U.code=L.code,H("after:highlight",U),U}function d(D,P,I,M){const k=Object.create(null);function L(R,$){return R.keywords[$]}function U(){if(!B.keywords){he.addText(me);return}let R=0;B.keywordPatternRe.lastIndex=0;let $=B.keywordPatternRe.exec(me),K="";for(;$;){K+=me.substring(R,$.index);const te=wt.case_insensitive?$[0].toLowerCase():$[0],xe=L(B,te);if(xe){const[Be,cn]=xe;if(he.addText(K),K="",k[te]=(k[te]||0)+1,k[te]<=iK&&(Le+=cn),Be.startsWith("_"))K+=$[0];else{const Ht=wt.classNameAliases[Be]||Be;pe($[0],Ht)}}else K+=$[0];R=B.keywordPatternRe.lastIndex,$=B.keywordPatternRe.exec(me)}K+=me.substring(R),he.addText(K)}function _(){if(me==="")return;let R=null;if(typeof B.subLanguage=="string"){if(!e[B.subLanguage]){he.addText(me);return}R=d(B.subLanguage,me,!0,we[B.subLanguage]),we[B.subLanguage]=R._top}else R=p(me,B.subLanguage.length?B.subLanguage:null);B.relevance>0&&(Le+=R.relevance),he.__addSublanguage(R._emitter,R.language)}function W(){B.subLanguage!=null?_():U(),me=""}function pe(R,$){R!==""&&(he.startScope($),he.addText(R),he.endScope())}function de(R,$){let K=1;const te=$.length-1;for(;K<=te;){if(!R._emit[K]){K++;continue}const xe=wt.classNameAliases[R[K]]||R[K],Be=$[K];xe?pe(Be,xe):(me=Be,U(),me=""),K++}}function le(R,$){return R.scope&&typeof R.scope=="string"&&he.openNode(wt.classNameAliases[R.scope]||R.scope),R.beginScope&&(R.beginScope._wrap?(pe(me,wt.classNameAliases[R.beginScope._wrap]||R.beginScope._wrap),me=""):R.beginScope._multi&&(de(R.beginScope,$),me="")),B=Object.create(R,{parent:{value:B}}),B}function Ee(R,$,K){let te=vW(R.endRe,K);if(te){if(R["on:end"]){const xe=new US(R);R["on:end"]($,xe),xe.isMatchIgnored&&(te=!1)}if(te){for(;R.endsParent&&R.parent;)R=R.parent;return R}}if(R.endsWithParent)return Ee(R.parent,$,K)}function Ke(R){return B.matcher.regexIndex===0?(me+=R[0],1):(Q=!0,0)}function He(R){const $=R[0],K=R.rule,te=new US(K),xe=[K.__beforeBegin,K["on:begin"]];for(const Be of xe)if(Be&&(Be(R,te),te.isMatchIgnored))return Ke($);return K.skip?me+=$:(K.excludeBegin&&(me+=$),W(),!K.returnBegin&&!K.excludeBegin&&(me=$)),le(K,R),K.returnBegin?0:$.length}function Ge(R){const $=R[0],K=P.substring(R.index),te=Ee(B,R,K);if(!te)return GS;const xe=B;B.endScope&&B.endScope._wrap?(W(),pe($,B.endScope._wrap)):B.endScope&&B.endScope._multi?(W(),de(B.endScope,R)):xe.skip?me+=$:(xe.returnEnd||xe.excludeEnd||(me+=$),W(),xe.excludeEnd&&(me=$));do B.scope&&he.closeNode(),!B.skip&&!B.subLanguage&&(Le+=B.relevance),B=B.parent;while(B!==te.parent);return te.starts&&le(te.starts,R),xe.returnEnd?0:$.length}function Ot(){const R=[];for(let $=B;$!==wt;$=$.parent)$.scope&&R.unshift($.scope);R.forEach($=>he.openNode($))}let Fn={};function sr(R,$){const K=$&&$[0];if(me+=R,K==null)return W(),0;if(Fn.type==="begin"&&$.type==="end"&&Fn.index===$.index&&K===""){if(me+=P.slice($.index,$.index+1),!i){const te=new Error(`0 width match regex (${D})`);throw te.languageName=D,te.badRule=Fn.rule,te}return 1}if(Fn=$,$.type==="begin")return He($);if($.type==="illegal"&&!I){const te=new Error('Illegal lexeme "'+K+'" for mode "'+(B.scope||"<unnamed>")+'"');throw te.mode=B,te}else if($.type==="end"){const te=Ge($);if(te!==GS)return te}if($.type==="illegal"&&K==="")return me+=`
`,1;if(X>1e5&&X>$.index*3)throw new Error("potential infinite loop, way more iterations than matches");return me+=K,K.length}const wt=T(D);if(!wt)throw Uo(s.replace("{}",D)),new Error('Unknown language: "'+D+'"');const Me=eK(wt);let kt="",B=M||Me;const we={},he=new a.__emitter(a);Ot();let me="",Le=0,ze=0,X=0,Q=!1;try{if(wt.__emitTokens)wt.__emitTokens(P,he);else{for(B.matcher.considerAll();;){X++,Q?Q=!1:B.matcher.considerAll(),B.matcher.lastIndex=ze;const R=B.matcher.exec(P);if(!R)break;const $=P.substring(ze,R.index),K=sr($,R);ze=R.index+K}sr(P.substring(ze))}return he.finalize(),kt=he.toHTML(),{language:D,value:kt,relevance:Le,illegal:!1,_emitter:he,_top:B}}catch(R){if(R.message&&R.message.includes("Illegal"))return{language:D,value:Jg(P),illegal:!0,relevance:0,_illegalBy:{message:R.message,index:ze,context:P.slice(ze-100,ze+100),mode:R.mode,resultSoFar:kt},_emitter:he};if(i)return{language:D,value:Jg(P),illegal:!1,relevance:0,errorRaised:R,_emitter:he,_top:B};throw R}}function f(D){const P={value:Jg(D),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return P._emitter.addText(D),P}function p(D,P){P=P||a.languages||Object.keys(e);const I=f(D),M=P.filter(T).filter(N).map(W=>d(W,D,!1));M.unshift(I);const k=M.sort((W,pe)=>{if(W.relevance!==pe.relevance)return pe.relevance-W.relevance;if(W.language&&pe.language){if(T(W.language).supersetOf===pe.language)return 1;if(T(pe.language).supersetOf===W.language)return-1}return 0}),[L,U]=k,_=L;return _.secondBest=U,_}function m(D,P,I){const M=P&&n[P]||I;D.classList.add("hljs"),D.classList.add(`language-${M}`)}function y(D){let P=null;const I=c(D);if(l(I))return;if(H("before:highlightElement",{el:D,language:I}),D.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",D);return}if(D.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(D)),a.throwUnescapedHTML))throw new rK("One of your code blocks includes unescaped HTML.",D.innerHTML);P=D;const M=P.textContent,k=I?u(M,{language:I,ignoreIllegals:!0}):p(M);D.innerHTML=k.value,D.dataset.highlighted="yes",m(D,I,k.language),D.result={language:k.language,re:k.relevance,relevance:k.relevance},k.secondBest&&(D.secondBest={language:k.secondBest.language,relevance:k.secondBest.relevance}),H("after:highlightElement",{el:D,result:k,text:M})}function b(D){a=KS(a,D)}const g=()=>{w(),Na("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function x(){w(),Na("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let v=!1;function w(){function D(){w()}if(document.readyState==="loading"){v||window.addEventListener("DOMContentLoaded",D,!1),v=!0;return}document.querySelectorAll(a.cssSelector).forEach(y)}function S(D,P){let I=null;try{I=P(t)}catch(M){if(Uo("Language definition for '{}' could not be registered.".replace("{}",D)),i)Uo(M);else throw M;I=o}I.name||(I.name=D),e[D]=I,I.rawDefinition=P.bind(null,t),I.aliases&&A(I.aliases,{languageName:D})}function E(D){delete e[D];for(const P of Object.keys(n))n[P]===D&&delete n[P]}function C(){return Object.keys(e)}function T(D){return D=(D||"").toLowerCase(),e[D]||e[n[D]]}function A(D,{languageName:P}){typeof D=="string"&&(D=[D]),D.forEach(I=>{n[I.toLowerCase()]=P})}function N(D){const P=T(D);return P&&!P.disableAutodetect}function z(D){D["before:highlightBlock"]&&!D["before:highlightElement"]&&(D["before:highlightElement"]=P=>{D["before:highlightBlock"](Object.assign({block:P.el},P))}),D["after:highlightBlock"]&&!D["after:highlightElement"]&&(D["after:highlightElement"]=P=>{D["after:highlightBlock"](Object.assign({block:P.el},P))})}function F(D){z(D),r.push(D)}function q(D){const P=r.indexOf(D);P!==-1&&r.splice(P,1)}function H(D,P){const I=D;r.forEach(function(M){M[I]&&M[I](P)})}function V(D){return Na("10.7.0","highlightBlock will be removed entirely in v12.0"),Na("10.7.0","Please use highlightElement now."),y(D)}Object.assign(t,{highlight:u,highlightAuto:p,highlightAll:w,highlightElement:y,highlightBlock:V,configure:b,initHighlighting:g,initHighlightingOnLoad:x,registerLanguage:S,unregisterLanguage:E,listLanguages:C,getLanguage:T,registerAliases:A,autoDetection:N,inherit:KS,addPlugin:F,removePlugin:q}),t.debugMode=function(){i=!1},t.safeMode=function(){i=!0},t.versionString=nK,t.regex={concat:pa,lookahead:eR,either:rw,optional:bW,anyNumberOfTimes:yW};for(const D in hh)typeof hh[D]=="object"&&ZI(hh[D]);return Object.assign(t,hh),t},Pl=cR({});Pl.newInstance=()=>cR({});var sK=Pl;Pl.HighlightJS=Pl;Pl.default=Pl;const oK=la(sK),QS={},aK="hljs-";function lK(t){const e=oK.newInstance();return t&&s(t),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:o,registered:a};function n(l,c,u){const d=u||QS,f=typeof d.prefix=="string"?d.prefix:aK;if(!e.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");e.configure({__emitter:cK,classPrefix:f});const p=e.highlight(c,{ignoreIllegals:!0,language:l});if(p.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:p.errorRaised});const m=p._emitter.root,y=m.data;return y.language=p.language,y.relevance=p.relevance,m}function r(l,c){const d=(c||QS).subset||i();let f=-1,p=0,m;for(;++f<d.length;){const y=d[f];if(!e.getLanguage(y))continue;const b=n(y,l,c);b.data&&b.data.relevance!==void 0&&b.data.relevance>p&&(p=b.data.relevance,m=b)}return m||{type:"root",children:[],data:{language:void 0,relevance:p}}}function i(){return e.listLanguages()}function s(l,c){if(typeof l=="string")e.registerLanguage(l,c);else{let u;for(u in l)Object.hasOwn(l,u)&&e.registerLanguage(u,l[u])}}function o(l,c){if(typeof l=="string")e.registerAliases(typeof c=="string"?c:[...c],{languageName:l});else{let u;for(u in l)if(Object.hasOwn(l,u)){const d=l[u];e.registerAliases(typeof d=="string"?d:[...d],{languageName:u})}}}function a(l){return!!e.getLanguage(l)}}class cK{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(o,a){return a?o+"_".repeat(a):n.options.classPrefix+o}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const uK={};function dK(t){const e=t||uK,n=e.aliases,r=e.detect||!1,i=e.languages||hW,s=e.plainText,o=e.prefix,a=e.subset;let l="hljs";const c=lK(i);if(n&&c.registerAlias(n),o){const u=o.indexOf("-");l=u===-1?o:o.slice(0,u)}return function(u,d){gm(u,"element",function(f,p,m){if(f.tagName!=="code"||!m||m.type!=="element"||m.tagName!=="pre")return;const y=hK(f);if(y===!1||!y&&!r||y&&s&&s.includes(y))return;Array.isArray(f.properties.className)||(f.properties.className=[]),f.properties.className.includes(l)||f.properties.className.unshift(l);const b=zV(f,{whitespace:"pre"});let g;try{g=y?c.highlight(y,b,{prefix:o}):c.highlightAuto(b,{prefix:o,subset:a})}catch(x){const v=x;if(y&&/Unknown language/.test(v.message)){d.message("Cannot highlight as `"+y+"`, its not registered",{ancestors:[m,f],cause:v,place:f.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw v}!y&&g.data&&g.data.language&&f.properties.className.push("language-"+g.data.language),g.children.length>0&&(f.children=g.children)})}}function hK(t){const e=t.properties.className;let n=-1;if(!Array.isArray(e))return;let r;for(;++n<e.length;){const i=String(e[n]);if(i==="no-highlight"||i==="nohighlight")return!1;!r&&i.slice(0,5)==="lang-"&&(r=i.slice(5)),!r&&i.slice(0,9)==="language-"&&(r=i.slice(9))}return r}function km({content:t,className:e=""}){const n=t.replace(/```json\s*/g,"").replace(/```\s*/g,"").replace(/^\*+\s*/gm,"").trim();return h.jsx("div",{className:`prose prose-slate dark:prose-invert max-w-none ${e}`,children:h.jsx(Q9,{remarkPlugins:[TV],rehypePlugins:[dK],components:{h1:({children:r})=>h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4 mt-6 border-b border-border/30 pb-2",children:r}),h2:({children:r})=>h.jsx("h2",{className:"text-2xl font-bold text-foreground mb-3 mt-5",children:r}),h3:({children:r})=>h.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2 mt-4",children:r}),h4:({children:r})=>h.jsx("h4",{className:"text-lg font-semibold text-foreground mb-2 mt-3",children:r}),p:({children:r})=>h.jsx("p",{className:"text-foreground/90 leading-relaxed mb-4",children:r}),strong:({children:r})=>h.jsx("strong",{className:"font-bold text-foreground",children:r}),em:({children:r})=>h.jsx("em",{className:"italic text-foreground/90",children:r}),code:({inline:r,children:i,...s})=>r?h.jsx("code",{className:"px-1.5 py-0.5 bg-primary/10 text-primary rounded font-mono text-sm",...s,children:i}):h.jsx("code",{...s,children:i}),pre:({children:r})=>h.jsx("pre",{className:"bg-muted/80 border border-border/50 rounded-xl p-4 overflow-x-auto mb-4 shadow-inner",children:r}),ul:({children:r})=>h.jsx("ul",{className:"list-disc list-inside space-y-2 mb-4 text-foreground/90 pl-4",children:r}),ol:({children:r})=>h.jsx("ol",{className:"list-decimal list-inside space-y-2 mb-4 text-foreground/90 pl-4",children:r}),li:({children:r})=>h.jsx("li",{className:"leading-relaxed",children:r}),blockquote:({children:r})=>h.jsx("blockquote",{className:"border-l-4 border-primary/50 pl-4 py-2 my-4 bg-primary/5 rounded-r-lg italic text-foreground/80",children:r}),a:({children:r,href:i})=>h.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 underline transition-colors",children:r}),table:({children:r})=>h.jsx("div",{className:"overflow-x-auto mb-4",children:h.jsx("table",{className:"min-w-full border border-border/30 rounded-lg overflow-hidden",children:r})}),th:({children:r})=>h.jsx("th",{className:"bg-muted/50 border border-border/30 px-4 py-2 text-left font-semibold text-foreground",children:r}),td:({children:r})=>h.jsx("td",{className:"border border-border/30 px-4 py-2 text-foreground/90",children:r})},children:n})})}function ow(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ma=ow();function uR(t){ma=t}var eu={exec:()=>null};function $e(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(gn.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}var gn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},fK=/^(?:[ \t]*(?:\n|$))+/,pK=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,mK=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,bd=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,gK=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,aw=/(?:[*+-]|\d{1,9}[.)])/,dR=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,hR=$e(dR).replace(/bull/g,aw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),yK=$e(dR).replace(/bull/g,aw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),lw=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,bK=/^[^\n]+/,cw=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,xK=$e(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",cw).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),vK=$e(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,aw).getRegex(),Em="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",uw=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,wK=$e("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",uw).replace("tag",Em).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fR=$e(lw).replace("hr",bd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Em).getRegex(),kK=$e(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",fR).getRegex(),dw={blockquote:kK,code:pK,def:xK,fences:mK,heading:gK,hr:bd,html:wK,lheading:hR,list:vK,newline:fK,paragraph:fR,table:eu,text:bK},YS=$e("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",bd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Em).getRegex(),EK={...dw,lheading:yK,table:YS,paragraph:$e(lw).replace("hr",bd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",YS).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Em).getRegex()},SK={...dw,html:$e(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",uw).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:eu,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:$e(lw).replace("hr",bd).replace("heading",` *#{1,6} *[^
]`).replace("lheading",hR).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},_K=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,NK=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,pR=/^( {2,}|\\)\n(?!\s*$)/,TK=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Sm=/[\p{P}\p{S}]/u,hw=/[\s\p{P}\p{S}]/u,mR=/[^\s\p{P}\p{S}]/u,CK=$e(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,hw).getRegex(),gR=/(?!~)[\p{P}\p{S}]/u,AK=/(?!~)[\s\p{P}\p{S}]/u,OK=/(?:[^\s\p{P}\p{S}]|~)/u,IK=$e(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),yR=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,RK=$e(yR,"u").replace(/punct/g,Sm).getRegex(),MK=$e(yR,"u").replace(/punct/g,gR).getRegex(),bR="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",jK=$e(bR,"gu").replace(/notPunctSpace/g,mR).replace(/punctSpace/g,hw).replace(/punct/g,Sm).getRegex(),DK=$e(bR,"gu").replace(/notPunctSpace/g,OK).replace(/punctSpace/g,AK).replace(/punct/g,gR).getRegex(),PK=$e("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,mR).replace(/punctSpace/g,hw).replace(/punct/g,Sm).getRegex(),LK=$e(/\\(punct)/,"gu").replace(/punct/g,Sm).getRegex(),$K=$e(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),zK=$e(uw).replace("(?:-->|$)","-->").getRegex(),FK=$e("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",zK).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Vf=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,BK=$e(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Vf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),xR=$e(/^!?\[(label)\]\[(ref)\]/).replace("label",Vf).replace("ref",cw).getRegex(),vR=$e(/^!?\[(ref)\](?:\[\])?/).replace("ref",cw).getRegex(),UK=$e("reflink|nolink(?!\\()","g").replace("reflink",xR).replace("nolink",vR).getRegex(),JS=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,fw={_backpedal:eu,anyPunctuation:LK,autolink:$K,blockSkip:IK,br:pR,code:NK,del:eu,emStrongLDelim:RK,emStrongRDelimAst:jK,emStrongRDelimUnd:PK,escape:_K,link:BK,nolink:vR,punctuation:CK,reflink:xR,reflinkSearch:UK,tag:FK,text:TK,url:eu},qK={...fw,link:$e(/^!?\[(label)\]\((.*?)\)/).replace("label",Vf).getRegex(),reflink:$e(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Vf).getRegex()},_x={...fw,emStrongRDelimAst:DK,emStrongLDelim:MK,url:$e(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",JS).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:$e(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",JS).getRegex()},HK={..._x,br:$e(pR).replace("{2,}","*").getRegex(),text:$e(_x.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},fh={normal:dw,gfm:EK,pedantic:SK},kc={normal:fw,gfm:_x,breaks:HK,pedantic:qK},VK={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ZS=t=>VK[t];function Qr(t,e){if(e){if(gn.escapeTest.test(t))return t.replace(gn.escapeReplace,ZS)}else if(gn.escapeTestNoEncode.test(t))return t.replace(gn.escapeReplaceNoEncode,ZS);return t}function XS(t){try{t=encodeURI(t).replace(gn.percentDecode,"%")}catch{return null}return t}function e_(t,e){var s;let n=t.replace(gn.findPipe,(o,a,l)=>{let c=!1,u=a;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),r=n.split(gn.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(gn.slashPipe,"|");return r}function Ec(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function WK(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function t_(t,e,n,r,i){let s=e.href,o=e.title||null,a=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function KK(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let o=s.match(n.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=i.length?s.slice(i.length):s}).join(`
`)}var Wf=class{constructor(t){ee(this,"options");ee(this,"rules");ee(this,"lexer");this.options=t||ma}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Ec(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=KK(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=Ec(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Ec(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=Ec(e[0],`
`).split(`
`),r="",i="",s=[];for(;n.length>0;){let o=!1,a=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),o=!0;else if(!o)a.push(n[l]);else break;n=n.slice(l);let c=a.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,i=i?`${i}
${u}`:u;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=d,n.length===0)break;let f=s.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){let p=f,m=p.raw+`
`+n.join(`
`),y=this.blockquote(m);s[s.length-1]=y,r=r.substring(0,r.length-p.raw.length)+y.raw,i=i.substring(0,i.length-p.text.length)+y.text;break}else if((f==null?void 0:f.type)==="list"){let p=f,m=p.raw+`
`+n.join(`
`),y=this.list(m);s[s.length-1]=y,r=r.substring(0,r.length-f.raw.length)+y.raw,i=i.substring(0,i.length-p.raw.length)+y.raw,n=m.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let s=this.rules.other.listItemRegex(n),o=!1;for(;t;){let l=!1,c="",u="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;c=e[0],t=t.substring(c.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,g=>" ".repeat(3*g.length)),f=t.split(`
`,1)[0],p=!d.trim(),m=0;if(this.options.pedantic?(m=2,u=d.trimStart()):p?m=e[1].length+1:(m=e[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,u=d.slice(m),m+=e[1].length),p&&this.rules.other.blankLine.test(f)&&(c+=f+`
`,t=t.substring(f.length+1),l=!0),!l){let g=this.rules.other.nextBulletRegex(m),x=this.rules.other.hrRegex(m),v=this.rules.other.fencesBeginRegex(m),w=this.rules.other.headingBeginRegex(m),S=this.rules.other.htmlBeginRegex(m);for(;t;){let E=t.split(`
`,1)[0],C;if(f=E,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),C=f):C=f.replace(this.rules.other.tabCharGlobal,"    "),v.test(f)||w.test(f)||S.test(f)||g.test(f)||x.test(f))break;if(C.search(this.rules.other.nonSpaceChar)>=m||!f.trim())u+=`
`+C.slice(m);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||v.test(d)||w.test(d)||x.test(d))break;u+=`
`+f}!p&&!f.trim()&&(p=!0),c+=E+`
`,t=t.substring(E.length+1),d=C.slice(m)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let y=null,b;this.options.gfm&&(y=this.rules.other.listIsTask.exec(u),y&&(b=y[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!y,checked:b,loose:!1,text:u,tokens:[]}),i.raw+=c}let a=i.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){let c=i.items[l].tokens.filter(d=>d.type==="space"),u=c.length>0&&c.some(d=>this.rules.other.anyLine.test(d.raw));i.loose=u}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:i}}}table(t){var o;let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=e_(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(o=e[3])!=null&&o.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)this.rules.other.tableAlignRight.test(a)?s.align.push("right"):this.rules.other.tableAlignCenter.test(a)?s.align.push("center"):this.rules.other.tableAlignLeft.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<n.length;a++)s.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:s.align[a]});for(let a of i)s.rows.push(e_(a,s.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[c]})));return s}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=Ec(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=WK(e[2],"()");if(s===-2)return;if(s>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),t_(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return t_(n,i,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let i=[...r[0]].length-1,s,o,a=i,l=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+i);(r=c.exec(e))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(o=[...s].length,r[3]||r[4]){a+=o;continue}else if((r[5]||r[6])&&i%3&&!((i+o)%3)){l+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+l);let u=[...r[0]][0].length,d=t.slice(0,i+r.index+u+o);if(Math.min(i,o)%2){let p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}let f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let r,i;if(e[2]==="@")r=e[0],i="mailto:"+r;else{let s;do s=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(s!==e[0]);r=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},Rr=class Nx{constructor(e){ee(this,"tokens");ee(this,"options");ee(this,"state");ee(this,"tokenizer");ee(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ma,this.options.tokenizer=this.options.tokenizer||new Wf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:gn,block:fh.normal,inline:kc.normal};this.options.pedantic?(n.block=fh.pedantic,n.inline=kc.pedantic):this.options.gfm&&(n.block=fh.gfm,this.options.breaks?n.inline=kc.breaks:n.inline=kc.gfm),this.tokenizer.rules=n}static get rules(){return{block:fh,inline:kc}}static lex(e,n){return new Nx(n).lex(e)}static lexInline(e,n){return new Nx(n).inlineTokens(e)}lex(e){e=e.replace(gn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var i,s,o;for(this.options.pedantic&&(e=e.replace(gn.tabCharGlobal,"    ").replace(gn.spaceLine,""));e;){let a;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(a=c.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let c=n.at(-1);a.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.at(-1).src=c.text):n.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},n.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),n.push(a);continue}let l=e;if((o=this.options.extensions)!=null&&o.startBlock){let c=1/0,u=e.slice(1),d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},u),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){let c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(a),r=l.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(a);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var a,l,c,u,d;let r=e,i=null;if(this.tokens.links){let f=Object.keys(this.tokens.links);if(f.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)f.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((l=(a=this.options.hooks)==null?void 0:a.emStrongMask)==null?void 0:l.call({lexer:this},r))??r;let s=!1,o="";for(;e;){s||(o=""),s=!1;let f;if((u=(c=this.options.extensions)==null?void 0:c.inline)!=null&&u.some(m=>(f=m.call({lexer:this},e,n))?(e=e.substring(f.raw.length),n.push(f),!0):!1))continue;if(f=this.tokenizer.escape(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.tag(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.link(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(f.raw.length);let m=n.at(-1);f.type==="text"&&(m==null?void 0:m.type)==="text"?(m.raw+=f.raw,m.text+=f.text):n.push(f);continue}if(f=this.tokenizer.emStrong(e,r,o)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.codespan(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.br(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.del(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.autolink(e)){e=e.substring(f.raw.length),n.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(e))){e=e.substring(f.raw.length),n.push(f);continue}let p=e;if((d=this.options.extensions)!=null&&d.startInline){let m=1/0,y=e.slice(1),b;this.options.extensions.startInline.forEach(g=>{b=g.call({lexer:this},y),typeof b=="number"&&b>=0&&(m=Math.min(m,b))}),m<1/0&&m>=0&&(p=e.substring(0,m+1))}if(f=this.tokenizer.inlineText(p)){e=e.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(o=f.raw.slice(-1)),s=!0;let m=n.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=f.raw,m.text+=f.text):n.push(f);continue}if(e){let m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return n}},Kf=class{constructor(t){ee(this,"options");ee(this,"parser");this.options=t||ma}space(t){return""}code({text:t,lang:e,escaped:n}){var s;let r=(s=(e||"").match(gn.notSpaceStart))==null?void 0:s[0],i=t.replace(gn.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Qr(r)+'">'+(n?i:Qr(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:Qr(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let a=t.items[o];r+=this.listitem(a)}let i=e?"ol":"ul",s=e&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(t){var n;let e="";if(t.task){let r=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+Qr(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);e+=this.tablerow({text:n});let r="";for(let i=0;i<t.rows.length;i++){let s=t.rows[i];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Qr(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),i=XS(t);if(i===null)return r;t=i;let s='<a href="'+t+'"';return e&&(s+=' title="'+Qr(e)+'"'),s+=">"+r+"</a>",s}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=XS(t);if(i===null)return Qr(n);t=i;let s=`<img src="${t}" alt="${n}"`;return e&&(s+=` title="${Qr(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Qr(t.text)}},pw=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Mr=class Tx{constructor(e){ee(this,"options");ee(this,"renderer");ee(this,"textRenderer");this.options=e||ma,this.options.renderer=this.options.renderer||new Kf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new pw}static parse(e,n){return new Tx(n).parse(e)}static parseInline(e,n){return new Tx(n).parseInline(e)}parse(e,n=!0){var i,s;let r="";for(let o=0;o<e.length;o++){let a=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[a.type]){let c=a,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=u||"";continue}}let l=a;switch(l.type){case"space":{r+=this.renderer.space(l);continue}case"hr":{r+=this.renderer.hr(l);continue}case"heading":{r+=this.renderer.heading(l);continue}case"code":{r+=this.renderer.code(l);continue}case"table":{r+=this.renderer.table(l);continue}case"blockquote":{r+=this.renderer.blockquote(l);continue}case"list":{r+=this.renderer.list(l);continue}case"html":{r+=this.renderer.html(l);continue}case"def":{r+=this.renderer.def(l);continue}case"paragraph":{r+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;o+1<e.length&&e[o+1].type==="text";)c=e[++o],u+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){var i,s;let r="";for(let o=0;o<e.length;o++){let a=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[a.type]){let c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=c||"";continue}}let l=a;switch(l.type){case"escape":{r+=n.text(l);break}case"html":{r+=n.html(l);break}case"link":{r+=n.link(l);break}case"image":{r+=n.image(l);break}case"strong":{r+=n.strong(l);break}case"em":{r+=n.em(l);break}case"codespan":{r+=n.codespan(l);break}case"br":{r+=n.br(l);break}case"del":{r+=n.del(l);break}case"text":{r+=n.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Ih,jc=(Ih=class{constructor(t){ee(this,"options");ee(this,"block");this.options=t||ma}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Rr.lex:Rr.lexInline}provideParser(){return this.block?Mr.parse:Mr.parseInline}},ee(Ih,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),ee(Ih,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Ih),GK=class{constructor(...t){ee(this,"defaults",ow());ee(this,"options",this.setOptions);ee(this,"parse",this.parseMarkdown(!0));ee(this,"parseInline",this.parseMarkdown(!1));ee(this,"Parser",Mr);ee(this,"Renderer",Kf);ee(this,"TextRenderer",pw);ee(this,"Lexer",Rr);ee(this,"Tokenizer",Wf);ee(this,"Hooks",jc);this.use(...t)}walkTokens(t,e){var r,i;let n=[];for(let s of t)switch(n=n.concat(e.call(this,s)),s.type){case"table":{let o=s;for(let a of o.header)n=n.concat(this.walkTokens(a.tokens,e));for(let a of o.rows)for(let l of a)n=n.concat(this.walkTokens(l.tokens,e));break}case"list":{let o=s;n=n.concat(this.walkTokens(o.items,e));break}default:{let o=s;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[o.type]?this.defaults.extensions.childTokens[o.type].forEach(a=>{let l=o[a].flat(1/0);n=n.concat(this.walkTokens(l,e))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=e.renderers[i.name];s?e.renderers[i.name]=function(...o){let a=i.renderer.apply(this,o);return a===!1&&(a=s.apply(this,o)),a}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[i.level];s?s.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){let i=this.defaults.renderer||new Kf(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,a=n.renderer[o],l=i[o];i[o]=(...c)=>{let u=a.apply(i,c);return u===!1&&(u=l.apply(i,c)),u||""}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new Wf(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,a=n.tokenizer[o],l=i[o];i[o]=(...c)=>{let u=a.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new jc;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,a=n.hooks[o],l=i[o];jc.passThroughHooks.has(s)?i[o]=c=>{if(this.defaults.async&&jc.passThroughHooksRespectAsync.has(s))return(async()=>{let d=await a.call(i,c);return l.call(i,d)})();let u=a.call(i,c);return l.call(i,u)}:i[o]=(...c)=>{if(this.defaults.async)return(async()=>{let d=await a.apply(i,c);return d===!1&&(d=await l.apply(i,c)),d})();let u=a.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(o){let a=[];return a.push(s.call(this,o)),i&&(a=a.concat(i.call(this,o))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Rr.lex(t,e??this.defaults)}parser(t,e){return Mr.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},i={...this.defaults,...r},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&r.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=t),i.async)return(async()=>{let o=i.hooks?await i.hooks.preprocess(e):e,a=await(i.hooks?await i.hooks.provideLexer():t?Rr.lex:Rr.lexInline)(o,i),l=i.hooks?await i.hooks.processAllTokens(a):a;i.walkTokens&&await Promise.all(this.walkTokens(l,i.walkTokens));let c=await(i.hooks?await i.hooks.provideParser():t?Mr.parse:Mr.parseInline)(l,i);return i.hooks?await i.hooks.postprocess(c):c})().catch(s);try{i.hooks&&(e=i.hooks.preprocess(e));let o=(i.hooks?i.hooks.provideLexer():t?Rr.lex:Rr.lexInline)(e,i);i.hooks&&(o=i.hooks.processAllTokens(o)),i.walkTokens&&this.walkTokens(o,i.walkTokens);let a=(i.hooks?i.hooks.provideParser():t?Mr.parse:Mr.parseInline)(o,i);return i.hooks&&(a=i.hooks.postprocess(a)),a}catch(o){return s(o)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+Qr(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},na=new GK;function Ue(t,e){return na.parse(t,e)}Ue.options=Ue.setOptions=function(t){return na.setOptions(t),Ue.defaults=na.defaults,uR(Ue.defaults),Ue};Ue.getDefaults=ow;Ue.defaults=ma;Ue.use=function(...t){return na.use(...t),Ue.defaults=na.defaults,uR(Ue.defaults),Ue};Ue.walkTokens=function(t,e){return na.walkTokens(t,e)};Ue.parseInline=na.parseInline;Ue.Parser=Mr;Ue.parser=Mr.parse;Ue.Renderer=Kf;Ue.TextRenderer=pw;Ue.Lexer=Rr;Ue.lexer=Rr.lex;Ue.Tokenizer=Wf;Ue.Hooks=jc;Ue.parse=Ue;Ue.options;Ue.setOptions;Ue.use;Ue.walkTokens;Ue.parseInline;Mr.parse;Rr.lex;function QK(t){return Ue.setOptions({gfm:!0,breaks:!0}),Ue.parse(t,{async:!1})}function YK(t,e){const n=QK(t),r=window.open("","","width=1000,height=800");if(!r){alert("Please allow popups to export PDF");return}r.document.write(`
    <!DOCTYPE html>
    <html>
    <head>
      <title>${e}</title>
      <meta charset="utf-8">
      <style>
        @media print {
          @page { margin: 2cm; }
        }
        body {
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
          max-width: 800px;
          margin: 0 auto;
          padding: 40px 20px;
          line-height: 1.7;
          color: #1a1a1a;
          background: white;
        }
        h1 {
          color: #2563eb;
          font-size: 32px;
          font-weight: 700;
          margin-top: 0;
          margin-bottom: 24px;
          padding-bottom: 12px;
          border-bottom: 3px solid #3b82f6;
        }
        h2 {
          color: #1e40af;
          font-size: 24px;
          font-weight: 600;
          margin-top: 32px;
          margin-bottom: 16px;
          padding-bottom: 8px;
          border-bottom: 2px solid #93c5fd;
        }
        h3 {
          color: #1e3a8a;
          font-size: 20px;
          font-weight: 600;
          margin-top: 24px;
          margin-bottom: 12px;
        }
        p {
          margin-bottom: 16px;
        }
        strong {
          color: #0f172a;
          font-weight: 600;
        }
        em {
          font-style: italic;
          color: #334155;
        }
        code {
          background: #f1f5f9;
          padding: 3px 6px;
          border-radius: 4px;
          font-family: 'Consolas', 'Monaco', monospace;
          font-size: 0.9em;
          color: #dc2626;
        }
        pre {
          background: #1e293b;
          color: #e2e8f0;
          padding: 16px;
          border-radius: 8px;
          overflow-x: auto;
          margin: 20px 0;
        }
        pre code {
          background: none;
          color: inherit;
          padding: 0;
        }
        blockquote {
          border-left: 4px solid #3b82f6;
          padding-left: 20px;
          margin: 20px 0;
          font-style: italic;
          background: #eff6ff;
          padding: 16px 20px;
          border-radius: 4px;
        }
        ul, ol {
          margin: 16px 0;
          padding-left: 30px;
        }
        li {
          margin-bottom: 8px;
          line-height: 1.6;
        }
        .footer {
          margin-top: 60px;
          padding-top: 20px;
          border-top: 2px solid #e5e7eb;
          text-align: center;
          color: #6b7280;
          font-size: 14px;
        }
      </style>
    </head>
    <body>
      ${n}
      <div class="footer">
        <p>Generated by SlideTutor AI  ${new Date().toLocaleDateString()}</p>
      </div>
      <script>
        window.onload = () => {
          window.print();
          // Close after printing (or cancel)
          setTimeout(() => window.close(), 500);
        };
      <\/script>
    </body>
    </html>
  `),r.document.close()}function JK(t,e){const n=t.map((i,s)=>{const o=i.options.map((a,l)=>{const c=l===i.correctIndex;return`
        <div style="padding: 10px; margin: 6px 0; background: ${c?"#dcfce7":"#f9fafb"}; border-left: 4px solid ${c?"#22c55e":"#e5e7eb"}; border-radius: 4px;">
          <strong>${String.fromCharCode(65+l)}.</strong> ${a}
          ${c?'<span style="color: #16a34a; font-weight: 600; margin-left: 8px;"> Correct Answer</span>':""}
        </div>
      `}).join("");return`
      <div style="page-break-inside: avoid; margin-bottom: 40px; padding: 24px; background: #ffffff; border: 1px solid #e5e7eb; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
        <div style="color: #3b82f6; font-weight: 700; font-size: 14px; margin-bottom: 8px;">QUESTION ${s+1}</div>
        <h3 style="color: #0f172a; font-size: 18px; font-weight: 600; margin: 0 0 16px 0;">${i.question}</h3>
        <div style="margin: 16px 0;">
          ${o}
        </div>
        <div style="margin-top: 16px; padding: 16px; background: #eff6ff; border-left: 4px solid #3b82f6; border-radius: 4px;">
          <div style="color: #1e40af; font-weight: 600; margin-bottom: 8px;"> Explanation:</div>
          <div style="color: #334155; line-height: 1.6;">${i.explanation||"No explanation provided."}</div>
        </div>
      </div>
    `}).join(""),r=window.open("","","width=1000,height=800");if(!r){alert("Please allow popups to export PDF");return}r.document.write(`
    <!DOCTYPE html>
    <html>
    <head>
      <title>${e}</title>
      <meta charset="utf-8">
      <style>
        @media print {
          @page { margin: 2cm; }
        }
        body {
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
          max-width: 800px;
          margin: 0 auto;
          padding: 40px 20px;
          background: #f9fafb;
        }
        h1 {
          color: #2563eb;
          font-size: 32px;
          font-weight: 700;
          margin: 0 0 12px 0;
        }
        .subtitle {
          color: #64748b;
          font-size: 16px;
          margin-bottom: 40px;
        }
        .footer {
          margin-top: 60px;
          padding-top: 20px;
          border-top: 2px solid #e5e7eb;
          text-align: center;
          color: #6b7280;
          font-size: 14px;
        }
      </style>
    </head>
    <body>
      <h1> Quiz</h1>
      <div class="subtitle">${t.length} Questions  Generated on ${new Date().toLocaleDateString()}</div>
      ${n}
      <div class="footer">
        <p>Generated by SlideTutor AI</p>
      </div>
      <script>
        window.onload = () => {
          window.print();
          setTimeout(() => window.close(), 500);
        };
      <\/script>
    </body>
    </html>
  `),r.document.close()}function ZK(t,e){const n=t.map((i,s)=>`
    <div style="page-break-inside: avoid; margin-bottom: 24px;">
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
        <!-- Front of card -->
        <div style="padding: 28px; background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); border-radius: 12px; color: #ffffff; min-height: 220px; display: flex; align-items: center; justify-content: center; text-align: center; box-shadow: 0 4px 12px rgba(30,64,175,0.3); border: 3px solid #1e3a8a;">
          <div>
            <div style="font-size: 14px; font-weight: 700; color: #dbeafe; margin-bottom: 12px; letter-spacing: 1px;">FRONT  CARD ${s+1}</div>
            <div style="font-size: 19px; font-weight: 700; line-height: 1.6; color: #ffffff; text-shadow: 0 1px 2px rgba(0,0,0,0.2);">${i.question}</div>
          </div>
        </div>
        <!-- Back of card -->
        <div style="padding: 28px; background: linear-gradient(135deg, #059669 0%, #10b981 100%); border-radius: 12px; color: #ffffff; min-height: 220px; display: flex; align-items: center; justify-content: center; text-align: center; box-shadow: 0 4px 12px rgba(5,150,105,0.3); border: 3px solid #047857;">
          <div>
            <div style="font-size: 14px; font-weight: 700; color: #d1fae5; margin-bottom: 12px; letter-spacing: 1px;">BACK  CARD ${s+1}</div>
            <div style="font-size: 17px; font-weight: 600; line-height: 1.7; color: #ffffff; text-shadow: 0 1px 2px rgba(0,0,0,0.2);">${i.answer}</div>
          </div>
        </div>
      </div>
    </div>
  `).join(""),r=window.open("","","width=1000,height=800");if(!r){alert("Please allow popups to export PDF");return}r.document.write(`
    <!DOCTYPE html>
    <html>
    <head>
      <title>${e}</title>
      <meta charset="utf-8">
      <style>
        @media print {
          @page { margin: 1.5cm; }
        }
        body {
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
          max-width: 900px;
          margin: 0 auto;
          padding: 40px 20px;
          background: white;
        }
        h1 {
          color: #2563eb;
          font-size: 32px;
          font-weight: 700;
          margin: 0 0 12px 0;
        }
        .subtitle {
          color: #64748b;
          font-size: 16px;
          margin-bottom: 40px;
        }
        .instructions {
          background: #fef3c7;
          border-left: 4px solid #f59e0b;
          padding: 16px 20px;
          margin-bottom: 32px;
          border-radius: 4px;
        }
        .footer {
          margin-top: 60px;
          padding-top: 20px;
          border-top: 2px solid #e5e7eb;
          text-align: center;
          color: #6b7280;
          font-size: 14px;
        }
      </style>
    </head>
    <body>
      <h1> Flashcards</h1>
      <div class="subtitle">${t.length} Cards  Generated on ${new Date().toLocaleDateString()}</div>
      <div class="instructions">
        <strong> How to Study:</strong> Cover the answer (right side) and try to recall it from the question (left side). Review cards you get wrong more frequently.
      </div>
      ${n}
      <div class="footer">
        <p>Generated by SlideTutor AI</p>
      </div>
      <script>
        window.onload = () => {
          window.print();
          setTimeout(() => window.close(), 500);
        };
      <\/script>
    </body>
    </html>
  `),r.document.close()}const XK={wordsPerMinute:200},eG={selectedUploadId:"",isGenerating:!1,generationProgress:0,generationMessage:"",lessonContent:"",parsedLesson:null,error:null,showMarkdown:!0,showStructured:!0,sourceType:"document",youtubeUrl:"",savedLessons:[],currentLessonId:null,showSavedLessons:!1,difficulty:"intermediate",customInstructions:"",includeQuiz:!0},tG=(t,e)=>{switch(e.type){case"SET_SELECTED_UPLOAD":return{...t,selectedUploadId:e.payload};case"SET_SOURCE_TYPE":return{...t,sourceType:e.payload,selectedUploadId:"",youtubeUrl:"",error:null};case"SET_YOUTUBE_URL":return{...t,youtubeUrl:e.payload,error:null};case"SET_DIFFICULTY":return{...t,difficulty:e.payload};case"SET_CUSTOM_INSTRUCTIONS":return{...t,customInstructions:e.payload};case"TOGGLE_INCLUDE_QUIZ":return{...t,includeQuiz:!t.includeQuiz};case"START_GENERATION":return{...t,isGenerating:!0,generationProgress:0,generationMessage:"Initializing...",error:null,lessonContent:"",parsedLesson:null,currentLessonId:null};case"UPDATE_PROGRESS":return{...t,generationProgress:e.payload.progress,generationMessage:e.payload.message};case"GENERATION_SUCCESS":return{...t,isGenerating:!1,generationProgress:100,generationMessage:"Complete!",lessonContent:e.payload.raw,parsedLesson:e.payload.parsed,currentLessonId:e.payload.lessonId};case"GENERATION_FAILURE":return{...t,isGenerating:!1,generationProgress:0,generationMessage:"",error:e.payload};case"TOGGLE_VIEW":return e.payload==="markdown"?{...t,showMarkdown:!t.showMarkdown}:e.payload==="structured"?{...t,showStructured:!t.showStructured}:t;case"LOAD_SAVED_LESSONS":return{...t,savedLessons:e.payload};case"LOAD_LESSON":return{...t,lessonContent:e.payload.content,parsedLesson:e.payload.parsed,currentLessonId:e.payload.id,error:null,showSavedLessons:!1};case"DELETE_LESSON":return{...t,savedLessons:t.savedLessons.filter(n=>n.id!==e.payload),...t.currentLessonId===e.payload?{lessonContent:"",currentLessonId:null}:{}};case"TOGGLE_SAVED_LESSONS":return{...t,showSavedLessons:!t.showSavedLessons};case"CLEAR":return{...t,lessonContent:"",parsedLesson:null,error:null,currentLessonId:null};default:return t}},nG=O.memo(({uploads:t,state:e,apiKey:n,onGenerate:r,dispatch:i})=>h.jsxs("div",{className:"glass-card border border-border/40 rounded-2xl p-8 shadow-xl shadow-primary/5 hover:shadow-2xl hover:shadow-primary/10 transition-all duration-300",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-lg shadow-primary/30",children:h.jsx(bt,{className:"w-6 h-6 text-white"})}),"Build Your Perfect Lesson"]}),h.jsx("p",{className:"text-muted-foreground text-sm",children:"Turn any content into a personalized learning experience that matches your level"})]}),h.jsxs("div",{className:"flex gap-2 mb-6",children:[h.jsxs("button",{onClick:()=>i({type:"SET_SOURCE_TYPE",payload:"document"}),className:fe("flex-1 px-4 py-3 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all",e.sourceType==="document"?"bg-gradient-to-r from-indigo-700 to-purple-700 dark:from-indigo-600 dark:to-purple-600 text-white shadow-lg":"glass-card border border-border/50 text-muted-foreground hover:border-primary/30"),children:[h.jsx(bt,{className:"w-4 h-4"}),"Document"]}),h.jsxs("button",{onClick:()=>i({type:"SET_SOURCE_TYPE",payload:"youtube"}),className:fe("flex-1 px-4 py-3 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all",e.sourceType==="youtube"?"bg-gradient-to-r from-red-700 to-pink-700 dark:from-red-600 dark:to-pink-600 text-white shadow-lg":"glass-card border border-border/50 text-muted-foreground hover:border-red-500/30"),children:[h.jsx(Fr,{className:"w-4 h-4"}),"YouTube"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsx("div",{children:e.sourceType==="document"?h.jsxs(h.Fragment,{children:[h.jsxs("label",{htmlFor:"select-doc",className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(bt,{className:"w-4 h-4 text-primary"}),"Select Document"]}),h.jsxs("select",{id:"select-doc",value:e.selectedUploadId,onChange:s=>i({type:"SET_SELECTED_UPLOAD",payload:s.target.value}),className:"w-full px-5 py-3.5 glass-card border border-border/50 rounded-xl focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 text-foreground bg-background/50 hover:border-primary/30 cursor-pointer font-medium shadow-sm hover:shadow-md appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3c%2Fpolyline%3E%3c%2Fsvg%3E')] bg-[length:1.25rem] bg-[right_0.75rem_center] bg-no-repeat pr-10",children:[h.jsx("option",{value:"",children:"Choose a document..."}),t.map(s=>h.jsx("option",{value:s.id,children:s.filename},s.id))]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("label",{htmlFor:"youtube-url",className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(Fr,{className:"w-4 h-4 text-red-500"}),"YouTube URL"]}),h.jsx("input",{id:"youtube-url",type:"url",value:e.youtubeUrl,onChange:s=>i({type:"SET_YOUTUBE_URL",payload:s.target.value}),placeholder:"https://youtube.com/watch?v=...",className:"w-full px-5 py-3.5 glass-card border border-border/50 rounded-xl focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all duration-200 text-foreground bg-background/50 hover:border-red-500/30 placeholder:text-muted-foreground font-medium shadow-sm hover:shadow-md"})]})}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"difficulty",className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(il,{className:"w-4 h-4 text-secondary"}),"Difficulty Level"]}),h.jsxs("select",{id:"difficulty",value:e.difficulty,onChange:s=>i({type:"SET_DIFFICULTY",payload:s.target.value}),className:"w-full px-5 py-3.5 glass-card border border-border/50 rounded-xl focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 text-foreground bg-background/50 hover:border-primary/30 cursor-pointer font-medium shadow-sm hover:shadow-md appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3c%2Fpolyline%3E%3c%2Fsvg%3E')] bg-[length:1.25rem] bg-[right_0.75rem_center] bg-no-repeat pr-10",children:[h.jsx("option",{value:"beginner",children:"Beginner - Simple explanations"}),h.jsx("option",{value:"intermediate",children:"Intermediate - Balanced depth"}),h.jsx("option",{value:"advanced",children:"Advanced - In-depth analysis"})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{htmlFor:"custom-instructions",className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(Ol,{className:"w-4 h-4 text-primary"}),"Custom Instructions (Optional)"]}),h.jsx("textarea",{id:"custom-instructions",value:e.customInstructions,onChange:s=>i({type:"SET_CUSTOM_INSTRUCTIONS",payload:s.target.value}),placeholder:"Add specific topics to focus on, teaching style preferences, or any special requirements...",rows:3,className:"w-full px-5 py-3.5 glass-card border border-border/50 rounded-xl focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 text-foreground bg-background/50 hover:border-primary/30 placeholder:text-muted-foreground resize-none font-medium shadow-sm hover:shadow-md"})]}),h.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 glass-card border border-border/50 rounded-xl",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center shadow-lg shadow-emerald-500/30",children:h.jsx(Wi,{className:"w-5 h-5 text-white"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-foreground",children:"Include Practice Quiz"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Test your knowledge with instant feedback"})]})]}),h.jsx("button",{onClick:()=>i({type:"TOGGLE_INCLUDE_QUIZ"}),className:fe("relative inline-flex h-7 w-14 items-center rounded-full transition-colors",e.includeQuiz?"bg-gradient-to-r from-emerald-700 to-teal-700 dark:from-emerald-600 dark:to-teal-600 shadow-lg shadow-emerald-500/30":"bg-muted"),children:h.jsx("span",{className:fe("inline-block h-5 w-5 transform rounded-full bg-white shadow-lg transition-transform",e.includeQuiz?"translate-x-8":"translate-x-1")})})]}),h.jsx("div",{className:"flex justify-center",children:h.jsxs("button",{onClick:r,disabled:(e.sourceType==="document"?!e.selectedUploadId:!e.youtubeUrl.trim())||e.isGenerating||!n,className:fe("px-10 py-4 rounded-xl font-bold flex items-center gap-3 transition-all duration-300 shadow-lg relative overflow-hidden group","bg-gradient-to-r from-indigo-700 via-purple-700 to-pink-700 dark:from-indigo-600 dark:via-purple-600 dark:to-pink-600 text-white","hover:shadow-2xl hover:shadow-primary/40 hover:scale-105 hover:from-indigo-800 hover:via-purple-800 hover:to-pink-800 dark:hover:from-indigo-500 dark:hover:via-purple-500 dark:hover:to-pink-500 active:scale-95","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 group-hover:animate-shimmer"}),e.isGenerating?h.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):h.jsx(Rf,{className:"w-5 h-5"}),h.jsx("span",{className:"relative z-10",children:e.isGenerating?"Creating Your Lesson...":"Generate Lesson Now"})]})})]})),rG=O.memo(({content:t,onCopy:e,onClear:n})=>{const[r,i]=O.useState(!1),[s,o]=O.useState(!1),[a,l]=O.useState(""),c=()=>{const m=new Date().toISOString().slice(0,10);YK(t,`lesson-${m}.pdf`),ie.success("PDF export started!")},[u,d]=O.useState(!1),f=O.useMemo(()=>t.trim().split(/\s+/).length,[t]),p=Math.max(1,Math.round(f/XK.wordsPerMinute));return h.jsxs("div",{className:"glass-card border border-border/40 rounded-2xl overflow-hidden shadow-xl shadow-primary/5",children:[u&&h.jsx("div",{className:"h-1.5 bg-gradient-to-r from-emerald-500 to-green-500"}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-6",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-2 mb-2",children:[h.jsx(bt,{className:"w-6 h-6 text-primary"}),"Your Personalized Lesson"]}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(Wh,{className:"w-4 h-4"}),"~",p," min read"]}),h.jsx("span",{children:""}),h.jsxs("span",{children:[f," words"]}),h.jsx("span",{children:""}),h.jsxs("button",{onClick:()=>d(!u),className:fe("flex items-center gap-1.5 transition-colors",u?"text-success font-semibold":"text-muted-foreground hover:text-foreground"),children:[u?h.jsx(Wi,{className:"w-4 h-4"}):h.jsx(F2,{className:"w-4 h-4"}),u?"Completed":"Mark Complete"]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>i(!r),title:r?"Remove Bookmark":"Bookmark Lesson",className:fe("p-2.5 rounded-xl transition-all duration-200 hover:scale-110 active:scale-95",r?"bg-gradient-to-r from-amber-700 to-orange-700 dark:from-amber-600 dark:to-orange-600 text-white shadow-lg shadow-amber-500/30":"glass-card border border-border/50 hover:border-primary/50 text-muted-foreground hover:text-primary"),children:r?h.jsx(L4,{className:"w-5 h-5"}):h.jsx($4,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>o(!s),title:"Toggle Notes",className:fe("p-2.5 rounded-xl transition-all duration-200 hover:scale-110 active:scale-95",s?"bg-gradient-to-r from-purple-700 to-indigo-700 dark:from-purple-600 dark:to-indigo-600 text-white shadow-lg shadow-purple-500/30":"glass-card border border-border/50 hover:border-primary/50 text-muted-foreground hover:text-primary"),children:h.jsx(B1,{className:"w-5 h-5"})}),h.jsx("button",{onClick:e,title:"Copy to Clipboard",className:"p-2.5 rounded-xl glass-card border border-border/50 hover:border-primary/50 text-muted-foreground hover:text-primary transition-all duration-200 hover:scale-110 active:scale-95",children:h.jsx(lm,{className:"w-5 h-5"})}),h.jsx("button",{onClick:c,title:"Export as PDF",className:"p-2.5 rounded-xl glass-card border border-border/50 hover:border-success/50 text-muted-foreground hover:text-success transition-all duration-200 hover:scale-110 active:scale-95",children:h.jsx(gv,{className:"w-5 h-5"})}),h.jsx("button",{onClick:n,title:"Clear Lesson",className:"p-2.5 rounded-xl glass-card border border-border/50 hover:border-error/50 text-muted-foreground hover:text-error transition-all duration-200 hover:scale-110 active:scale-95",children:h.jsx(Ru,{className:"w-5 h-5"})})]})]}),s&&h.jsxs("div",{className:"mb-6 p-4 glass-card border border-border/50 rounded-xl animate-in fade-in slide-in-from-top-2 duration-300",children:[h.jsxs("label",{className:"block text-sm font-semibold text-foreground mb-2 flex items-center gap-2",children:[h.jsx(B1,{className:"w-4 h-4 text-primary"}),"Your Notes"]}),h.jsx("textarea",{value:a,onChange:m=>l(m.target.value),placeholder:"Write your notes about this lesson...",className:"w-full px-4 py-3 glass-card border border-border/50 rounded-xl focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 text-foreground bg-background/50 min-h-[100px] resize-y"})]}),h.jsx(km,{content:t})]})]})}),iG=O.memo(({lesson:t})=>{var i,s;const[e,n]=O.useState("Beginner"),r=["Beginner","Intermediate","Advanced"];return h.jsxs("div",{className:"glass-card border border-border/40 rounded-2xl overflow-hidden shadow-xl shadow-primary/5",children:[h.jsx("div",{className:"p-6 border-b border-border/30 bg-gradient-to-r from-primary/5 to-secondary/5",children:h.jsxs("h3",{className:"text-2xl font-bold text-foreground flex items-center justify-center gap-2",children:[h.jsx(bt,{className:"w-6 h-6 text-primary"}),t.title??"Structured Lesson"]})}),h.jsx("div",{className:"flex border-b border-border/30 bg-background/50",children:r.map(o=>h.jsxs("button",{onClick:()=>n(o),className:fe("flex-1 px-6 py-4 font-semibold transition-all duration-200 relative",e===o?"text-primary bg-gradient-to-b from-primary/10 to-transparent":"text-muted-foreground hover:text-foreground hover:bg-muted/30"),children:[o,e===o&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-primary to-secondary"})]},o))}),h.jsx("div",{className:"p-6",children:t.levels&&t.levels[e]&&h.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[t.levels[e].explanation&&h.jsxs("div",{className:"glass-card border border-border/40 rounded-xl p-5",children:[h.jsxs("h4",{className:"text-lg font-bold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(Wi,{className:"w-5 h-5 text-emerald-500"}),"Explanation"]}),h.jsx("p",{className:"text-foreground/90 leading-relaxed",children:t.levels[e].explanation})]}),t.levels[e].worked_example&&h.jsxs("div",{className:"glass-card border border-border/40 rounded-xl p-5 bg-gradient-to-br from-blue-500/5 to-cyan-500/5",children:[h.jsxs("h4",{className:"text-lg font-bold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(bt,{className:"w-5 h-5 text-blue-500"}),"Worked Example"]}),h.jsx("p",{className:"text-foreground/90 leading-relaxed font-mono text-sm",children:t.levels[e].worked_example})]}),((i=t.levels[e].tips)==null?void 0:i.length)&&h.jsxs("div",{className:"glass-card border border-border/40 rounded-xl p-5 bg-gradient-to-br from-amber-500/5 to-orange-500/5",children:[h.jsxs("h4",{className:"text-lg font-bold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(F2,{className:"w-5 h-5 text-amber-500"}),"Pro Tips"]}),h.jsx("ul",{className:"space-y-2",children:t.levels[e].tips.map((o,a)=>h.jsxs("li",{className:"flex items-start gap-2 text-foreground/90",children:[h.jsx("span",{className:"text-primary font-bold mt-0.5",children:""}),h.jsx("span",{children:o})]},a))})]})]})}),((s=t.short_quiz)==null?void 0:s.length)&&h.jsxs("div",{className:"p-6 border-t border-border/30 bg-gradient-to-b from-transparent to-muted/20",children:[h.jsxs("h4",{className:"text-xl font-bold text-foreground mb-4 flex items-center gap-2",children:[h.jsx(Wi,{className:"w-6 h-6 text-primary"}),"Quick Quiz"]}),h.jsx("div",{className:"space-y-3",children:t.short_quiz.map((o,a)=>h.jsxs("details",{className:"glass-card border border-border/40 rounded-xl p-4 group hover:border-primary/50 transition-all duration-200",children:[h.jsxs("summary",{className:"cursor-pointer font-semibold text-foreground flex items-start gap-2",children:[h.jsxs("span",{className:"text-primary",children:["Q",a+1,":"]}),h.jsx("span",{className:"flex-1",children:o.question})]}),h.jsx("p",{className:"mt-3 pt-3 border-t border-border/30 text-foreground/80 leading-relaxed",children:o.answer})]},a))})]})]})}),sG=({uploads:t,apiKey:e})=>{const[n,r]=O.useReducer(tG,eG),i=O.useMemo(()=>t.filter(u=>u.processed),[t]),s=O.useMemo(()=>i.find(u=>u.id===n.selectedUploadId),[i,n.selectedUploadId]);O.useEffect(()=>{!n.selectedUploadId&&i.length>0&&r({type:"SET_SELECTED_UPLOAD",payload:i[0].id})},[i,n.selectedUploadId]),O.useEffect(()=>{(async()=>{try{const{storage:d}=await Dr(async()=>{const{storage:p}=await Promise.resolve().then(()=>Mc);return{storage:p}},void 0),f=await d.getLessons();r({type:"LOAD_SAVED_LESSONS",payload:f||[]})}catch(d){console.error("Failed to load saved lessons:",d)}})()},[]);const o=async()=>{if(!e){r({type:"GENERATION_FAILURE",payload:"API key is missing. Please set it in settings."});return}let u="";r({type:"START_GENERATION"});try{if(n.sourceType==="document"){if(!s){r({type:"GENERATION_FAILURE",payload:"Please select a processed document."});return}u=s.fullText}else{if(!n.youtubeUrl.trim()){r({type:"GENERATION_FAILURE",payload:"Please enter a YouTube URL."}),ie.error("Please enter a YouTube URL");return}r({type:"UPDATE_PROGRESS",payload:{progress:5,message:"Validating YouTube URL..."}});try{r({type:"UPDATE_PROGRESS",payload:{progress:10,message:"Fetching video information..."}});const b=await Rv(n.youtubeUrl);r({type:"UPDATE_PROGRESS",payload:{progress:25,message:`Found: "${b.title}"`}}),b.hasTranscript&&b.transcript.length>100?(u=b.transcript,r({type:"UPDATE_PROGRESS",payload:{progress:30,message:`Processing ${Math.round(b.transcript.length/1e3)}K characters of content...`}}),ie.success(`Successfully loaded transcript for "${b.title}"`)):(u=`Create a comprehensive educational lesson about: "${b.title}"

This is a YouTube video. Since the transcript is not available, create a detailed lesson covering what this video likely teaches, including key concepts, examples, and learning points.`,r({type:"UPDATE_PROGRESS",payload:{progress:30,message:"Transcript unavailable - generating AI content from video title..."}}),ie("Transcript unavailable - generating lesson from video title"))}catch(b){r({type:"GENERATION_FAILURE",payload:b.message||"Failed to fetch YouTube data"}),ie.error(b.message||"Failed to fetch YouTube data");return}}if(!u||u.trim().length<50){r({type:"GENERATION_FAILURE",payload:"Source content is too short to generate a lesson."}),ie.error("Content is too short");return}const d=new jl(e),f=n.customInstructions.trim()?`${u}

[CUSTOM INSTRUCTIONS]: ${n.customInstructions}`:u,p=await d.generateChunkedLesson(f,n.difficulty,(b,g)=>{r({type:"UPDATE_PROGRESS",payload:{progress:b||0,message:g||"Processing..."}})},n.includeQuiz),m=lx(p),y=`lesson-${Date.now()}`;try{const{storage:b}=await Dr(async()=>{const{storage:x}=await Promise.resolve().then(()=>Mc);return{storage:x}},void 0);await b.createLesson({id:y,title:n.sourceType==="youtube"?"Lesson from YouTube video":`Lesson from ${(s==null?void 0:s.filename)||"document"}`,content:p,parsedContent:m,sourceType:n.sourceType,sourceId:n.sourceType==="document"?n.selectedUploadId:n.youtubeUrl,createdAt:new Date().toISOString()});const g=await b.getLessons();r({type:"LOAD_SAVED_LESSONS",payload:g})}catch(b){console.error("Failed to save lesson:",b)}r({type:"GENERATION_SUCCESS",payload:{raw:p,parsed:m||null,lessonId:y}}),ie.success("Lesson generated and saved successfully!")}catch(d){r({type:"GENERATION_FAILURE",payload:d.message||"An unknown error occurred."}),ie.error(d.message||"Failed to generate lesson")}},a=()=>navigator.clipboard.writeText(n.lessonContent),l=async u=>{try{const{storage:d}=await Dr(async()=>{const{storage:p}=await Promise.resolve().then(()=>Mc);return{storage:p}},void 0),f=await d.getLessonById(u);if(f&&f.content){const p=f.parsedContent||lx(f.content);r({type:"LOAD_LESSON",payload:{content:f.content,parsed:p||null,id:f.id}}),ie.success("Lesson loaded successfully!")}}catch(d){console.error("Failed to load lesson:",d),ie.error("Failed to load lesson")}},c=async u=>{if(confirm("Are you sure you want to delete this lesson?"))try{const{storage:d}=await Dr(async()=>{const{storage:f}=await Promise.resolve().then(()=>Mc);return{storage:f}},void 0);await d.deleteLesson(u),r({type:"DELETE_LESSON",payload:u}),ie.success("Lesson deleted successfully!")}catch(d){console.error("Failed to delete lesson:",d),ie.error("Failed to delete lesson")}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"text-center space-y-3",children:[h.jsxs("h1",{className:"text-4xl font-bold text-foreground flex items-center justify-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-lg shadow-primary/30",children:h.jsx(bt,{className:"w-7 h-7 text-white"})}),"Generate AI-Powered Lessons"]}),h.jsx("p",{className:"text-base text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Select a document and let AI create comprehensive, interactive lessons with multiple difficulty levels"})]}),h.jsx(nG,{uploads:i,state:n,apiKey:e,onGenerate:o,dispatch:r}),n.savedLessons.length>0&&h.jsxs("div",{className:"glass-card border border-border/40 rounded-2xl p-6 shadow-lg",children:[h.jsxs("button",{onClick:()=>r({type:"TOGGLE_SAVED_LESSONS"}),className:"w-full flex items-center justify-between mb-4 text-left",children:[h.jsxs("h3",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[h.jsx(bt,{className:"w-5 h-5 text-primary"}),"Saved Lessons (",n.savedLessons.length,")"]}),h.jsx(z2,{className:fe("w-5 h-5 text-muted-foreground transition-transform",n.showSavedLessons&&"rotate-90")})]}),n.showSavedLessons&&h.jsx("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2 duration-300",children:n.savedLessons.map(u=>h.jsxs("div",{className:fe("flex items-center justify-between p-4 rounded-lg border transition-all",n.currentLessonId===u.id?"border-primary bg-primary/5":"border-border/30 hover:border-primary/50"),children:[h.jsxs("button",{onClick:()=>l(u.id),className:"flex-1 text-left",children:[h.jsx("p",{className:"font-medium text-foreground",children:u.title}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[new Date(u.createdAt).toLocaleDateString(),"  ",u.sourceType]})]}),h.jsx("button",{onClick:()=>c(u.id),className:"p-2 rounded-lg hover:bg-error/10 text-error transition-colors",title:"Delete lesson",children:h.jsx(Ru,{className:"w-4 h-4"})})]},u.id))})]}),n.isGenerating&&h.jsx("div",{className:"glass-card border border-primary/40 rounded-xl p-6 bg-gradient-to-r from-primary/5 to-secondary/5 animate-in fade-in slide-in-from-top-2 duration-300",children:h.jsx(Mv,{progress:n.generationProgress,message:n.generationMessage})}),n.error&&h.jsx("div",{className:"glass-card border border-error/40 rounded-xl p-5 bg-gradient-to-r from-error/10 to-error/5 animate-in fade-in slide-in-from-top-2 duration-300",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-error/20 flex items-center justify-center flex-shrink-0",children:h.jsx(Ru,{className:"w-5 h-5 text-error"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-semibold text-error mb-1",children:"Generation Error"}),h.jsx("p",{className:"text-sm text-foreground/80",children:n.error})]})]})}),n.showMarkdown&&n.lessonContent&&h.jsx(rG,{content:n.lessonContent,onCopy:a,onClear:()=>r({type:"CLEAR"})}),n.showStructured&&n.parsedLesson&&h.jsx(iG,{lesson:n.parsedLesson}),i.length===0&&h.jsxs("div",{className:"text-center p-12 glass-card border border-border/40 rounded-2xl shadow-xl shadow-primary/5",children:[h.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-muted to-muted/50 flex items-center justify-center",children:h.jsx(bt,{className:"w-10 h-10 text-muted-foreground"})}),h.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"No Documents Available"}),h.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Please upload and process a document first to start generating AI-powered lessons."})]})]})};function oG(t){const e=o=>{try{return JSON.parse(o)}catch{return null}};let n=e(t);if(!n){const o=t.match(/```(?:json)?\s*([\s\S]*?)\s*```/i);o&&(n=e(o[1]))}if(!n){const o=t.match(/(\{[\s\S]*\}|\[[\s\S]*\])/);o&&(n=e(o[1]))}let r=null;if(Array.isArray(n)?r=n:n&&typeof n=="object"&&(Array.isArray(n.quiz)?r=n.quiz:Array.isArray(n.questions)&&(r=n.questions)),!r)throw new Error("Could not parse quiz JSON from the model response.");const i=o=>{const a=String((o==null?void 0:o.question)??"").trim(),l=Array.isArray(o==null?void 0:o.options)?o.options.map(d=>String(d??"").trim()):[],c=Number.isFinite(o==null?void 0:o.correctIndex)?Number(o.correctIndex):-1,u=o!=null&&o.explanation?String(o.explanation):void 0;return!a||l.length<2||c<0||c>=l.length?null:{question:a,options:l,correctIndex:c,explanation:u}},s=r.map(i).filter(Boolean);if(!s.length)throw new Error("No valid questions found after parsing.");return s}const n_=t=>{const e=Math.max(0,Math.floor(t/1e3)),n=Math.floor(e/60),r=e%60;return`${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`};function ph({children:t,className:e,...n}){return h.jsx("button",{...n,className:["inline-flex items-center justify-center gap-2 px-4 py-2 rounded-2xl text-sm font-semibold text-foreground","glass-card border border-border/50 hover:border-primary/30 shadow-sm","active:scale-[.985] transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/50",n.disabled?"opacity-60 cursor-not-allowed":"",e||""].join(" "),children:t})}function r_({value:t,label:e}){return h.jsxs("div",{className:"min-w-[320px]",children:[h.jsx("div",{className:"text-xs text-foreground mb-1 text-center font-medium",children:e}),h.jsx("div",{className:"h-2 rounded-full bg-muted overflow-hidden",children:h.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-indigo-500 to-violet-500 transition-[width] duration-500 ease-out relative",style:{width:`${Math.max(0,Math.min(100,t))}%`},children:h.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-16 bg-white/50 mix-blend-overlay animate-sheen"})})})]})}const aG=({uploads:t,apiKey:e})=>{const[n,r]=O.useState(""),[i,s]=O.useState("document"),[o,a]=O.useState(""),[l,c]=O.useState(10),[u,d]=O.useState("mixed"),[f,p]=O.useState("mixed"),[m,y]=O.useState(0),[b,g]=O.useState(!1),[x,v]=O.useState(null),[w,S]=O.useState(0),[E,C]=O.useState(""),T=O.useMemo(()=>t.filter(B=>B.processed),[t]),[A,N]=O.useState(null),[z,F]=O.useState(!1),[q,H]=O.useState(!1),[V,D]=O.useState(0);O.useEffect(()=>{if(!A||q)return;D(Date.now()-A.startedAt);const B=window.setInterval(()=>{D(Date.now()-A.startedAt)},250);return()=>window.clearInterval(B)},[A,q]);const P=A?A.questions[A.currentIndex]:null,I=A?A.answers[A.currentIndex]:-1,[M,k]=O.useState(!1),[L,U]=O.useState(null),[_,W]=O.useState(""),pe=O.useCallback(B=>{const we=B.questions.map((he,me)=>{const Le=B.answers[me],ze=he.correctIndex;return{index:me+1,question:he.question,options:he.options,correctIndex:ze,userIndex:Le,correct:Le===ze,flagged:B.flagged[me],explanation:he.explanation??""}});return{total:B.questions.length,correct:we.filter(he=>he.correct).length,time_seconds:Math.round(((B.finishedAt??Date.now())-B.startedAt)/1e3),rows:we}},[]),de=O.useCallback(async B=>{if(e){k(!0),U(null),W("");try{const we=new $f(e),he=pe(B),me=`Quiz results JSON:
`+JSON.stringify(he,null,2)+`

Task: Analyze performance. Identify strengths, weaknesses, and topics to reinforce.
Return a concise, well-structured report with:
- Headline with score and time
- Top strengths (bullet list)
- Weak areas with 23 targeted topics to study
- Suggested micro-study plan for the next session
- If any questions were flagged, call them out.
Use short sections and bullet points.`,Le=await we.answerQuestion("Generate the performance report described above.",me);W(String(Le).trim())}catch(we){console.error(we),U((we==null?void 0:we.message)??"Failed to generate AI report.")}finally{k(!1)}}},[e,pe]);O.useEffect(()=>{q&&A&&e&&de(A)},[q,A,e,de]);const le=O.useCallback(async()=>{var we;if(v(null),!e){v("Please provide an API key in Settings.");return}let B="";g(!0),S(0),C("Starting quiz generation...");try{if(i==="document"){if(!n){v("Select a processed document first."),g(!1);return}const Q=t.find(R=>R.id===n);if(!(Q!=null&&Q.fullText)){v("Selected document has no text content."),g(!1);return}B=Q.fullText}else{if(!o.trim()){v("Please enter a YouTube URL."),g(!1);return}try{S(5),C("Validating YouTube URL..."),S(10),C("Fetching video information...");const Q=await Rv(o);S(25),C(`Found: "${Q.title}"`),Q.hasTranscript&&Q.transcript.length>100?(B=Q.transcript,S(30),C(`Processing ${Math.round(Q.transcript.length/1e3)}K characters of content...`)):(B=`Create quiz questions about: "${Q.title}"

This is a YouTube video. Since the transcript is not available, create quiz questions covering what this video likely teaches based on the title.`,S(30),C("Transcript unavailable - generating quiz from video title..."))}catch(Q){v(Q.message||"Failed to fetch YouTube data"),g(!1);return}}if(!B||B.trim().length<50){v("Source content is too short to generate quiz questions."),g(!1);return}let he=B;if(u!=="mixed"){const Q={easy:"Focus on basic comprehension and fundamental concepts. Questions should be straightforward and test core understanding.",medium:"Create standard difficulty questions that test both understanding and application of concepts.",hard:"Generate advanced questions requiring deep analysis, critical thinking, and synthesis of multiple concepts."}[u];he+=`

[DIFFICULTY]: ${Q}`}if(f!=="mixed"){const Q={multiple_choice:"All questions must be multiple choice with 4 options.",true_false:"All questions must be true/false format.",short_answer:"All questions must be short answer format requiring written responses."}[f];he+=`

[QUESTION TYPE]: ${Q}`}else he+=`

[QUESTION TYPE]: Mix of multiple choice, true/false, and short answer questions for variety.`;const Le=await new jl(e).generateChunkedQuiz(he,l,(Q,R)=>{S(Q||0),C(R||"Processing...")}),ze=oG(Le),X={questions:ze,currentIndex:0,answers:Array(ze.length).fill(-1),flagged:Array(ze.length).fill(!1),startedAt:Date.now()};N(X),F(!1),H(!1),W(""),U(null),D(0);try{const{storage:Q}=await Dr(async()=>{const{storage:R}=await Promise.resolve().then(()=>Mc);return{storage:R}},void 0);await Q.createQuiz({id:`quiz-${Date.now()}`,title:i==="youtube"?"Quiz from YouTube video":`Quiz from ${((we=t.find(R=>R.id===n))==null?void 0:we.filename)||"document"}`,questions:ze,sourceType:i,sourceId:i==="document"?n:o,createdAt:new Date().toISOString()})}catch(Q){console.error("Failed to save quiz:",Q)}window.scrollTo({top:0,behavior:"smooth"})}catch(he){console.error(he),v((he==null?void 0:he.message)??"Failed to generate quiz.")}finally{g(!1)}},[e,l,u,f,n,i,o,t]),Ee=B=>{if(!A||I!==-1)return;const we={...A,answers:[...A.answers]};we.answers[we.currentIndex]=B,N(we),F(!0)},Ke=()=>{if(!A)return;const B=Math.max(0,A.currentIndex-1);N({...A,currentIndex:B}),F(A.answers[B]!==-1)},He=()=>{if(A)if(A.currentIndex<A.questions.length-1){const B=A.currentIndex+1;N({...A,currentIndex:B}),F(A.answers[B]!==-1)}else N(B=>B&&{...B,finishedAt:Date.now()}),H(!0),window.scrollTo({top:0,behavior:"smooth"})},Ge=()=>{if(!A)return;const B=[...A.flagged];B[A.currentIndex]=!B[A.currentIndex],N({...A,flagged:B})},Ot=B=>{A&&(N({...A,currentIndex:B}),F(A.answers[B]!==-1))},Fn=()=>{N(null),H(!1),F(!1),W(""),U(null),D(0),v(null)},sr=B=>{if(!A)return;const we=B==="wrong"?A.answers.map((Le,ze)=>Le!==A.questions[ze].correctIndex?ze:-1).filter(Le=>Le>=0):A.flagged.map((Le,ze)=>Le?ze:-1).filter(Le=>Le>=0);if(we.length===0)return;const he=we.map(Le=>A.questions[Le]),me={questions:he,currentIndex:0,answers:Array(he.length).fill(-1),flagged:Array(he.length).fill(!1),startedAt:Date.now()};N(me),F(!1),H(!1),W(""),U(null),D(0),window.scrollTo({top:0,behavior:"smooth"})};O.useEffect(()=>{const B=we=>{if(!(!A||q))if(/^[1-9]$/.test(we.key)){const he=Number(we.key)-1;P&&he<P.options.length&&(we.preventDefault(),Ee(he))}else we.key==="Enter"||we.key==="ArrowRight"?(we.preventDefault(),He()):we.key==="ArrowLeft"?(we.preventDefault(),Ke()):we.key.toLowerCase()==="f"&&(we.preventDefault(),Ge())};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[A,P,q,I]);const wt=O.useMemo(()=>A?A.answers.filter(we=>we!==-1).length/A.questions.length*100:0,[A]),Me=O.useMemo(()=>A?A.answers.reduce((B,we,he)=>(we===A.questions[he].correctIndex&&(B+=1),B),0):0,[A]),kt=O.useMemo(()=>A?q&&A.finishedAt?A.finishedAt-A.startedAt:V:0,[A,V,q]);if(q&&A){const B=A.finishedAt??Date.now(),we=`Completed  ${A.questions.length} questions`,he=A.questions.length-Me,me=A.flagged.filter(Boolean).length,Le=()=>{var Q;return(Q=navigator.clipboard)==null?void 0:Q.writeText(_||"").catch(()=>{})},ze=()=>{const Q=new Blob([_||""],{type:"text/markdown"}),R=URL.createObjectURL(Q),$=document.createElement("a");$.href=R,$.download=`quiz-report-${new Date(B).toISOString().slice(0,19)}.md`,$.click(),URL.revokeObjectURL(R)},X=()=>{const Q=new Date(B).toISOString().slice(0,10);JK(A.questions,`quiz-${Q}.pdf`),ie.success("PDF export started!")};return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl font-extrabold text-foreground",children:"Mission Complete!"}),h.jsx("p",{className:"text-muted-foreground",children:"Awesome work! See how you did and keep crushing it."})]}),h.jsx("div",{className:"sticky top-[64px] z-30 border-b border-border/40 glass-card backdrop-blur",children:h.jsxs("div",{className:"app-container py-3 flex items-center justify-between gap-3",children:[h.jsxs(ph,{onClick:Fn,children:[h.jsx(Rf,{className:"w-4 h-4"}),"New Challenge"]}),h.jsx(r_,{value:100,label:we}),h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsxs("div",{className:"px-3 py-2 rounded-xl border border-border/40 glass-card text-foreground flex items-center gap-2",children:[h.jsx(Wh,{className:"w-4 h-4"}),n_(kt)]}),h.jsxs("div",{className:"px-3 py-2 rounded-xl border border-border/40 glass-card text-foreground flex items-center gap-2",children:[h.jsx(il,{className:"w-4 h-4"}),Me,"/",A.questions.length]})]})]})}),h.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.jsxs("button",{onClick:()=>sr("wrong"),disabled:!he,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-secondary text-white font-semibold shadow-sm hover:bg-secondary/90 disabled:bg-muted transition-all",children:[h.jsx(Ru,{className:"w-4 h-4"}),"Retake wrong only (",he,")"]}),h.jsxs("button",{onClick:()=>sr("flagged"),disabled:!me,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-warning text-white font-semibold shadow-sm hover:bg-warning/90 disabled:bg-muted transition-all",children:[h.jsx(P1,{className:"w-4 h-4"}),"Retake flagged (",me,")"]})]}),h.jsxs("div",{className:"glass-card border rounded-xl p-6 shadow-sm",children:[h.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Your Answer Breakdown"}),h.jsx("div",{className:"space-y-6",children:A.questions.map((Q,R)=>{const $=A.answers[R],K=Q.correctIndex,te=$===K;return h.jsxs("div",{className:"rounded-lg border p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("h3",{className:"font-semibold text-foreground",children:["Q",R+1,". ",Q.question]}),h.jsxs("span",{className:`inline-flex items-center gap-1 text-sm rounded-full px-2 py-0.5 ${te?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:[te?h.jsx(Wi,{className:"w-4 h-4"}):h.jsx(V2,{className:"w-4 h-4"}),te?"Correct":"Wrong"]})]}),h.jsx("div",{className:"grid gap-2",children:Q.options.map((xe,Be)=>{const cn="px-3 py-2 rounded border text-foreground",Ht=Be===K?"border-success bg-success/10":Be===$?"border-error/50 bg-error/10":"border-border/40 bg-muted/20";return h.jsxs("div",{className:`${cn} ${Ht}`,children:[h.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+Be),"."]}),xe]},Be)})}),Q.explanation&&h.jsxs("p",{className:"mt-3 text-sm text-muted-foreground",children:[h.jsx("span",{className:"font-medium text-foreground",children:"Explanation:"})," ",Q.explanation]})]},R)})})]}),h.jsxs("div",{className:"glass-card border rounded-xl p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[h.jsx(z1,{className:"w-5 h-5 text-indigo-600"}),"AI Performance Report"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("button",{onClick:Le,disabled:!_,className:"btn",title:"Copy",children:[h.jsx(lm,{className:"w-4 h-4"}),"Copy"]}),h.jsxs("button",{onClick:ze,disabled:!_,className:"btn",title:"Download .md",children:[h.jsx(mv,{className:"w-4 h-4"}),"Markdown"]}),h.jsxs("button",{onClick:X,disabled:!A,className:"btn",title:"Export as PDF",children:[h.jsx(gv,{className:"w-4 h-4"}),"PDF"]})]})]}),M&&h.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[h.jsx(Qt,{className:"w-4 h-4 animate-spin"}),"Generating your report"]}),L&&h.jsx("div",{className:"rounded-lg border border-error/50 bg-error/10 text-error px-3 py-2 text-sm",children:L}),!M&&!L&&_&&h.jsx("div",{className:"rounded-lg border bg-muted/20 p-4",children:h.jsx(km,{content:_})}),!M&&!L&&!_&&h.jsx("div",{className:"rounded-lg border bg-muted/20 p-4 text-muted-foreground text-center italic",children:"Report will appear here after quiz completion."})]})]})}if(A&&P){const B=A.questions.length,we=`Question ${A.currentIndex+1} of ${B}`;return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl font-extrabold text-foreground",children:"Quizzes"}),h.jsxs("p",{className:"text-muted-foreground",children:["Use ",h.jsx("span",{className:"kbd",children:"19"})," to choose, ",h.jsx("span",{className:"kbd",children:"Enter"})," to continue, ",h.jsx("span",{className:"kbd",children:"F"})," to flag."]})]}),h.jsx("div",{className:"sticky top-[64px] z-30 border-b border-border/40 glass-card backdrop-blur",children:h.jsxs("div",{className:"app-container py-3 flex items-center justify-between gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs(ph,{onClick:Ke,disabled:A.currentIndex===0,title:"Left Arrow",children:[h.jsx(z4,{className:"w-5 h-5"}),"Prev"]}),h.jsxs(ph,{onClick:He,title:"Enter / ",children:[A.currentIndex===B-1?"Finish":"Next",h.jsx(z2,{className:"w-5 h-5"})]})]}),h.jsx(r_,{value:wt,label:we}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"px-3 py-2 rounded-xl border border-border/40 glass-card text-foreground flex items-center gap-2",children:[h.jsx(Wh,{className:"w-4 h-4"}),n_(V)]}),h.jsxs(ph,{onClick:Ge,className:A.flagged[A.currentIndex]?"ring-2 ring-warning bg-warning/10":"",title:"F to toggle flag",children:[h.jsx(P1,{className:"w-5 h-5"}),"Flag"]})]})]})}),h.jsx("div",{className:"app-container",children:h.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[h.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Question Palette"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:A.questions.map((he,me)=>{const Le=me===A.currentIndex,ze=A.answers[me],X=A.flagged[me],Q="w-9 h-8 rounded-lg border text-sm font-semibold flex items-center justify-center transition-all",R=ze===-1?"glass-card border-border text-foreground hover:bg-muted/20":"bg-success/10 border-success text-success",$=Le?"ring-2 ring-indigo-300":"",K=X?"shadow-[0_0_0_2px_#fde68a_inset]":"";return h.jsx("button",{onClick:()=>Ot(me),className:`${Q} ${R} ${$} ${K}`,title:X?"Flagged":ze===-1?"Unanswered":"Answered",children:me+1},me)})}),h.jsxs("div",{className:"ml-auto flex items-center gap-2 text-xs text-muted-foreground",children:[h.jsxs("span",{className:"inline-flex items-center gap-1",children:[h.jsx("span",{className:"w-3 h-3 rounded glass-card border border-border inline-block"})," Unanswered"]}),h.jsxs("span",{className:"inline-flex items-center gap-1",children:[h.jsx("span",{className:"w-3 h-3 rounded bg-success/10 border border-success inline-block"})," Answered"]}),h.jsxs("span",{className:"inline-flex items-center gap-1",children:[h.jsx("span",{className:"w-3 h-3 rounded bg-warning/20 inline-block"})," Flagged"]})]})]})}),h.jsxs("div",{className:"glass-card border rounded-xl p-6 shadow-sm",children:[h.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:P.question}),h.jsx("div",{className:"space-y-3",children:P.options.map((he,me)=>{const Le=I===me,ze=z&&me===P.correctIndex,X=z&&Le&&me!==P.correctIndex,Q="group w-full text-left px-4 py-4 rounded-xl border transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 text-foreground",R=ze?"border-success bg-success/10":X?"border-error bg-error/10 text-error":Le?"border-secondary bg-secondary/10":"border-border hover:border-primary/50 hover:bg-muted/20";return h.jsxs("button",{onClick:()=>Ee(me),disabled:I!==-1,className:`${Q} ${R}`,children:[h.jsx("span",{className:"inline-flex w-8 h-8 mr-3 items-center justify-center rounded-full font-semibold border border-current/30",children:String.fromCharCode(65+me)}),h.jsx("span",{className:"align-middle",children:he})]},me)})}),z&&P.explanation&&h.jsxs("div",{className:"mt-5 rounded-xl border bg-muted/20 p-4 text-foreground",children:[h.jsx("span",{className:"font-semibold",children:"Explanation:"})," ",P.explanation]})]})]})}return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl font-extrabold text-foreground",children:"Generate & Take Quizzes"}),h.jsx("p",{className:"text-muted-foreground",children:"Pick a processed document, generate a quiz, and start practicing in seconds."})]}),h.jsxs("div",{className:"glass-card border rounded-xl p-6 shadow-sm",children:[x&&h.jsx("div",{className:"mb-4 rounded-lg border border-error/50 bg-error/10 text-error px-3 py-2 text-sm",children:x}),b&&h.jsx("div",{className:"mb-6",children:h.jsx(Mv,{progress:w,message:E})}),h.jsxs("div",{className:"flex gap-2 mb-6",children:[h.jsxs("button",{onClick:()=>{s("document"),v(null)},className:fe("flex-1 px-4 py-3 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center justify-center gap-2",i==="document"?"bg-gradient-to-r from-indigo-700 to-purple-700 dark:from-indigo-600 dark:to-purple-600 text-white shadow-lg shadow-primary/30":"glass-card border border-border/50 text-muted-foreground hover:border-primary/50 hover:text-foreground"),children:[h.jsx(bt,{className:"w-4 h-4"}),"Document"]}),h.jsxs("button",{onClick:()=>{s("youtube"),v(null)},className:fe("flex-1 px-4 py-3 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center justify-center gap-2",i==="youtube"?"bg-gradient-to-r from-red-700 to-pink-700 dark:from-red-600 dark:to-pink-600 text-white shadow-lg shadow-red-500/30":"glass-card border border-border/50 text-muted-foreground hover:border-red-500/50 hover:text-foreground"),children:[h.jsx(Fr,{className:"w-4 h-4"}),"YouTube"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i==="document"?h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(bt,{className:"w-4 h-4 text-primary"}),"Select Document"]}),h.jsxs("select",{value:n,onChange:B=>r(B.target.value),className:"w-full px-4 py-3.5 glass-card border border-border/50 rounded-xl bg-background/50 text-foreground focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 hover:border-primary/30 cursor-pointer font-medium shadow-sm hover:shadow-md appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3c%2Fpolyline%3E%3c%2Fsvg%3E')] bg-[length:1.25rem] bg-[right_0.75rem_center] bg-no-repeat pr-10",children:[h.jsx("option",{value:"",children:T.length?"Choose a document":"No documents processed"}),T.map(B=>h.jsx("option",{value:B.id,children:B.filename},B.id))]})]}):h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(Fr,{className:"w-4 h-4 text-red-500"}),"YouTube URL"]}),h.jsx("input",{type:"url",value:o,onChange:B=>a(B.target.value),placeholder:"https://youtube.com/watch?v=...",className:"w-full px-4 py-3.5 glass-card border border-border/50 rounded-xl bg-background/50 text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all duration-200 hover:border-red-500/30 font-medium shadow-sm hover:shadow-md"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(Pn,{className:"w-4 h-4 text-secondary"}),"Number of Questions"]}),h.jsx("select",{value:l,onChange:B=>c(parseInt(B.target.value,10)),className:"w-full px-4 py-3.5 glass-card border border-border/50 rounded-xl bg-background/50 text-foreground focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 hover:border-primary/30 cursor-pointer font-medium shadow-sm hover:shadow-md appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3c%2Fpolyline%3E%3c%2Fsvg%3E')] bg-[length:1.25rem] bg-[right_0.75rem_center] bg-no-repeat pr-10",children:[3,5,10,15,20,25,30].map(B=>h.jsxs("option",{value:B,children:[B," ",B===1?"question":"questions"]},B))})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(il,{className:"w-4 h-4 text-amber-500"}),"Difficulty Level"]}),h.jsxs("select",{value:u,onChange:B=>d(B.target.value),className:"w-full px-4 py-3.5 glass-card border border-border/50 rounded-xl bg-background/50 text-foreground focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 hover:border-primary/30 cursor-pointer font-medium shadow-sm hover:shadow-md appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3c%2Fpolyline%3E%3c%2Fsvg%3E')] bg-[length:1.25rem] bg-[right_0.75rem_center] bg-no-repeat pr-10",children:[h.jsx("option",{value:"easy",children:"Easy - Basic comprehension"}),h.jsx("option",{value:"medium",children:"Medium - Standard questions"}),h.jsx("option",{value:"hard",children:"Hard - Advanced analysis"}),h.jsx("option",{value:"mixed",children:"Mixed - All difficulty levels"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(z1,{className:"w-4 h-4 text-emerald-500"}),"Question Type"]}),h.jsxs("select",{value:f,onChange:B=>p(B.target.value),className:"w-full px-4 py-3.5 glass-card border border-border/50 rounded-xl bg-background/50 text-foreground focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 hover:border-primary/30 cursor-pointer font-medium shadow-sm hover:shadow-md appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3c%2Fpolyline%3E%3c%2Fsvg%3E')] bg-[length:1.25rem] bg-[right_0.75rem_center] bg-no-repeat pr-10",children:[h.jsx("option",{value:"multiple_choice",children:"Multiple Choice"}),h.jsx("option",{value:"true_false",children:"True/False"}),h.jsx("option",{value:"short_answer",children:"Short Answer"}),h.jsx("option",{value:"mixed",children:"Mixed Types"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(s$,{className:"w-4 h-4 text-blue-500"}),"Time Limit (per question)"]}),h.jsxs("select",{value:m,onChange:B=>y(parseInt(B.target.value,10)),className:"w-full px-4 py-3.5 glass-card border border-border/50 rounded-xl bg-background/50 text-foreground focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 hover:border-primary/30 cursor-pointer font-medium shadow-sm hover:shadow-md appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3c%2Fpolyline%3E%3c%2Fsvg%3E')] bg-[length:1.25rem] bg-[right_0.75rem_center] bg-no-repeat pr-10",children:[h.jsx("option",{value:"0",children:"No time limit"}),h.jsx("option",{value:"30",children:"30 seconds"}),h.jsx("option",{value:"60",children:"1 minute"}),h.jsx("option",{value:"90",children:"1.5 minutes"}),h.jsx("option",{value:"120",children:"2 minutes"}),h.jsx("option",{value:"180",children:"3 minutes"})]})]})]}),h.jsx("div",{className:"flex justify-center mb-6",children:h.jsxs("button",{onClick:le,disabled:(i==="document"?!n:!o.trim())||b||!e,className:fe("px-10 py-4 rounded-xl font-bold text-white shadow-lg relative overflow-hidden group transition-all duration-300","bg-gradient-to-r from-indigo-700 via-purple-700 to-pink-700 dark:from-indigo-600 dark:via-purple-600 dark:to-pink-600","hover:shadow-2xl hover:shadow-primary/40 hover:scale-105 hover:from-indigo-800 hover:via-purple-800 hover:to-pink-800 dark:hover:from-indigo-500 dark:hover:via-purple-500 dark:hover:to-pink-500 active:scale-95","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 group-hover:animate-shimmer"}),b?h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-5 h-5 animate-spin inline mr-2"}),h.jsxs("span",{className:"relative z-10",children:["Generating... ",Math.round(w),"%"]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Rf,{className:"w-5 h-5 inline mr-2"}),h.jsx("span",{className:"relative z-10",children:"Generate Quiz"})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border",children:[h.jsx(Pn,{className:"w-4 h-4 text-indigo-600"}),"AI-crafted questions from your content"]}),h.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border",children:[h.jsx(il,{className:"w-4 h-4 text-indigo-600"}),"Instant scoring & detailed review"]}),h.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border",children:[h.jsx(Wh,{className:"w-4 h-4 text-indigo-600"}),"Keyboard shortcuts for speed"]})]})]})]})},Wt=[];for(let t=0;t<256;++t)Wt.push((t+256).toString(16).slice(1));function lG(t,e=0){return(Wt[t[e+0]]+Wt[t[e+1]]+Wt[t[e+2]]+Wt[t[e+3]]+"-"+Wt[t[e+4]]+Wt[t[e+5]]+"-"+Wt[t[e+6]]+Wt[t[e+7]]+"-"+Wt[t[e+8]]+Wt[t[e+9]]+"-"+Wt[t[e+10]]+Wt[t[e+11]]+Wt[t[e+12]]+Wt[t[e+13]]+Wt[t[e+14]]+Wt[t[e+15]]).toLowerCase()}let Zg;const cG=new Uint8Array(16);function uG(){if(!Zg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Zg=crypto.getRandomValues.bind(crypto)}return Zg(cG)}const dG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),i_={randomUUID:dG};function hG(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??uG();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,lG(r)}function Gf(t,e,n){return i_.randomUUID&&!t?i_.randomUUID():hG(t)}function fG(t,e){if(e<0||e>5)throw new Error("Quality must be between 0 and 5.");let{easiness:n,interval:r,repetitions:i}=t;e<3?(i=0,r=1):(i+=1,i===1?r=1:i===2?r=6:r=Math.round(r*n)),n+=.1-(5-e)*(.08+(5-e)*.02),n=Math.max(1.3,n);const s=24*60*60*1e3,o=Date.now()+r*s;return{easiness:n,interval:r,repetitions:i,nextReview:o}}const Dc=t=>{const e=Date.now();return t.filter(n=>n.nextReview<=e)},pG=(t,e)=>{switch(e.type){case"ADD_CARDS":{const n=e.payload.map(i=>({...i,id:Gf(),easiness:2.5,interval:0,repetitions:0,nextReview:Date.now()})),r=[...t.cards,...n];return{...t,cards:r,dueCards:Dc(r)}}case"UPDATE_CARD":{const n=t.cards.map(r=>r.id===e.payload.cardId?{...r,...e.payload.updates}:r);return{...t,cards:n,dueCards:Dc(n)}}case"LOAD_CARDS":return{...t,cards:e.payload,dueCards:Dc(e.payload)};case"UPDATE_DUE_CARDS":return{...t,dueCards:Dc(t.cards)};default:return t}},wR=O.createContext(null),mG=()=>{try{const t=localStorage.getItem("slidetutor_flashcards"),e=t?JSON.parse(t):[];return{cards:e,dueCards:Dc(e)}}catch(t){return console.error("Failed to load flashcards from localStorage:",t),{cards:[],dueCards:[]}}},gG=({children:t})=>{const[e,n]=O.useReducer(pG,void 0,mG);O.useEffect(()=>{try{localStorage.setItem("slidetutor_flashcards",JSON.stringify(e.cards))}catch(i){console.error("Failed to save flashcards to localStorage:",i)}},[e.cards]);const r=O.useMemo(()=>({state:e,dispatch:n}),[e,n]);return h.jsx(wR.Provider,{value:r,children:t})},mw=()=>{const t=O.useContext(wR);if(!t)throw new Error("useFlashcards must be used within a FlashcardProvider");return t},yG={selectedUploadId:"",sourceType:"document",youtubeUrl:"",cardCount:10,isGenerating:!1,isStudyMode:!1,error:null,generationProgress:0,generationMessage:""},bG=(t,e)=>{switch(e.type){case"SET_FIELD":return{...t,[e.field]:e.payload,error:null};case"START_GENERATION":return{...t,isGenerating:!0,error:null,generationProgress:0,generationMessage:"Starting..."};case"UPDATE_PROGRESS":return{...t,generationProgress:e.progress,generationMessage:e.message};case"GENERATION_COMPLETE":return{...t,isGenerating:!1,error:e.error||null,generationProgress:100};default:return t}},xG=O.memo(({uploads:t,state:e,dispatch:n,onGenerate:r,onStartStudy:i})=>{const{state:{dueCards:s,cards:o}}=mw(),a=O.useMemo(()=>t.filter(c=>c.processed),[t]),l=()=>{if(o.length===0){ie.error("No flashcards to export");return}const c=new Date().toISOString().slice(0,10);ZK(o,`flashcards-${c}.pdf`),ie.success("PDF export started!")};return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"glass-card border border-border/40 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 text-center group",children:[h.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mx-auto mb-3 shadow-lg shadow-indigo-500/30 group-hover:shadow-xl group-hover:shadow-indigo-500/40 transition-all duration-300",children:h.jsx(D1,{className:"w-7 h-7 text-white"})}),h.jsx("h3",{className:"text-3xl font-bold text-foreground mb-1",children:o.length}),h.jsx("p",{className:"text-muted-foreground font-medium",children:"Cards Created"})]}),h.jsxs("div",{className:"glass-card border border-border/40 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 text-center group",children:[h.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-500 to-green-600 flex items-center justify-center mx-auto mb-3 shadow-lg shadow-emerald-500/30 group-hover:shadow-xl group-hover:shadow-emerald-500/40 transition-all duration-300",children:h.jsx(bv,{className:"w-7 h-7 text-white"})}),h.jsx("h3",{className:"text-3xl font-bold text-foreground mb-1",children:s.length}),h.jsx("p",{className:"text-muted-foreground font-medium",children:"Ready to Review"})]}),h.jsxs("div",{className:"glass-card border border-border/40 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 text-center group",children:[h.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center mx-auto mb-3 shadow-lg shadow-purple-500/30 group-hover:shadow-xl group-hover:shadow-purple-500/40 transition-all duration-300",children:h.jsx(am,{className:"w-7 h-7 text-white"})}),h.jsx("h3",{className:"text-3xl font-bold text-foreground mb-1",children:o.length-s.length}),h.jsx("p",{className:"text-muted-foreground font-medium",children:"Mastered"})]})]}),h.jsxs("div",{className:"glass-card border border-border/40 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"Generate Smart Flashcards"}),h.jsx("p",{className:"text-muted-foreground text-sm",children:"AI creates cards that match your learning style and pace"})]}),h.jsxs("div",{className:"flex gap-2 mb-6",children:[h.jsxs("button",{onClick:()=>n({type:"SET_FIELD",field:"sourceType",payload:"document"}),className:fe("flex-1 px-4 py-3 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center justify-center gap-2",e.sourceType==="document"?"bg-gradient-to-r from-indigo-700 to-purple-700 dark:from-indigo-600 dark:to-purple-600 text-white shadow-lg shadow-primary/30":"glass-card border border-border/50 text-muted-foreground hover:border-primary/50 hover:text-foreground"),children:[h.jsx(bt,{className:"w-4 h-4"}),"Document"]}),h.jsxs("button",{onClick:()=>n({type:"SET_FIELD",field:"sourceType",payload:"youtube"}),className:fe("flex-1 px-4 py-3 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center justify-center gap-2",e.sourceType==="youtube"?"bg-gradient-to-r from-red-700 to-pink-700 dark:from-red-600 dark:to-pink-600 text-white shadow-lg shadow-red-500/30":"glass-card border border-border/50 text-muted-foreground hover:border-red-500/50 hover:text-foreground"),children:[h.jsx(Fr,{className:"w-4 h-4"}),"YouTube"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.sourceType==="document"?h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(bt,{className:"w-4 h-4 text-primary"}),"Select Document"]}),h.jsxs("select",{value:e.selectedUploadId,onChange:c=>n({type:"SET_FIELD",field:"selectedUploadId",payload:c.target.value}),className:"w-full px-5 py-3.5 glass-card border border-border/50 rounded-xl focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 text-foreground bg-background/50 hover:border-primary/30 cursor-pointer",disabled:a.length===0,children:[h.jsx("option",{value:"",children:a.length>0?"Choose a document...":"No documents processed"}),a.map(c=>h.jsx("option",{value:c.id,children:c.filename},c.id))]})]}):h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(Fr,{className:"w-4 h-4 text-red-500"}),"YouTube URL"]}),h.jsx("input",{type:"url",value:e.youtubeUrl,onChange:c=>n({type:"SET_FIELD",field:"youtubeUrl",payload:c.target.value}),placeholder:"https://youtube.com/watch?v=...",className:"w-full px-5 py-3.5 glass-card border border-border/50 rounded-xl focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all duration-200 text-foreground bg-background/50 hover:border-red-500/30"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[h.jsx(D1,{className:"w-4 h-4 text-primary"}),"Number of Cards"]}),h.jsx("select",{value:e.cardCount,onChange:c=>n({type:"SET_FIELD",field:"cardCount",payload:parseInt(c.target.value)}),className:"w-full px-5 py-3.5 glass-card border border-border/50 rounded-xl focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 text-foreground bg-background/50 hover:border-primary/30 cursor-pointer",children:[5,10,15,20,25].map(c=>h.jsxs("option",{value:c,children:[c," cards"]},c))})]})]}),e.isGenerating&&h.jsx("div",{className:"mb-6",children:h.jsx(Mv,{progress:e.generationProgress,message:e.generationMessage})}),h.jsxs("div",{className:"flex flex-wrap gap-4",children:[h.jsxs("button",{onClick:r,disabled:(e.sourceType==="document"?!e.selectedUploadId:!e.youtubeUrl.trim())||e.isGenerating,className:"px-8 py-4 bg-gradient-to-r from-indigo-700 to-purple-700 dark:from-indigo-600 dark:to-purple-600 hover:from-indigo-800 hover:to-purple-800 dark:hover:from-indigo-500 dark:hover:to-purple-500 text-white rounded-xl hover:shadow-xl hover:shadow-indigo-500/30 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center gap-2.5 font-semibold shadow-lg",children:[h.jsx(Rf,{className:"w-5 h-5"}),e.isGenerating?`Creating... ${Math.round(e.generationProgress)}%`:"Generate Cards"]}),h.jsxs("button",{onClick:i,disabled:s.length===0,className:"px-8 py-4 bg-gradient-to-r from-emerald-700 to-green-700 dark:from-emerald-600 dark:to-green-600 hover:from-emerald-800 hover:to-green-800 dark:hover:from-emerald-500 dark:hover:to-green-500 text-white rounded-xl hover:shadow-xl hover:shadow-emerald-500/30 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center gap-2.5 font-semibold shadow-lg",children:[h.jsx(U2,{className:"w-5 h-5"}),"Start Studying (",s.length," due)"]}),h.jsxs("button",{onClick:l,disabled:o.length===0,className:"px-8 py-4 bg-gradient-to-r from-blue-700 to-cyan-700 dark:from-blue-600 dark:to-cyan-600 hover:from-blue-800 hover:to-cyan-800 dark:hover:from-blue-500 dark:hover:to-cyan-500 text-white rounded-xl hover:shadow-xl hover:shadow-blue-500/30 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center gap-2.5 font-semibold shadow-lg",children:[h.jsx(gv,{className:"w-5 h-5"}),"Export PDF"]})]})]})]})}),vG=O.memo(({onReview:t,onEndSession:e})=>{const{state:{dueCards:n}}=mw(),[r,i]=O.useState(0),[s,o]=O.useState(!1);O.useEffect(()=>{i(0),o(!1)},[n]);const a=n[r];if(!a)return h.jsxs("div",{className:"text-center p-8",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Session Complete - Great Job!"}),h.jsx("button",{onClick:e,className:"mt-4 px-6 py-3 bg-secondary text-white rounded-lg",children:"Back to Learning Hub"})]});const l=c=>{t(a.id,c),r<n.length-1?(i(r+1),o(!1)):e()};return h.jsxs("div",{className:"space-y-8 max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Study Session in Progress"}),h.jsxs("p",{className:"text-lg text-muted-foreground",children:["Card ",r+1," of ",n.length," - You've got this!"]}),h.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:h.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${(r+1)/n.length*100}%`}})})]}),h.jsxs("div",{className:"glass-card border border-border/40 rounded-2xl p-8 shadow-xl",children:[h.jsx("div",{className:"text-center mb-8 min-h-[100px] flex items-center justify-center",children:h.jsx("p",{className:"text-xl text-foreground font-medium",children:a.question})}),s?h.jsxs("div",{children:[h.jsx("div",{className:"mb-8 bg-gradient-to-br from-muted/50 to-muted rounded-xl p-6 min-h-[100px] flex items-center justify-center border border-border/30",children:h.jsx("p",{className:"text-lg text-foreground font-medium",children:a.answer})}),h.jsx("p",{className:"text-muted-foreground mb-4 text-center",children:"How well did you know this?"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[h.jsx("button",{onClick:()=>l(1),className:"px-4 py-3 bg-error/10 text-error rounded-lg hover:bg-error/20",children:"Again"}),h.jsx("button",{onClick:()=>l(3),className:"px-4 py-3 bg-warning/10 text-warning rounded-lg hover:bg-warning/20",children:"Hard"}),h.jsx("button",{onClick:()=>l(4),className:"px-4 py-3 bg-secondary/10 text-secondary rounded-lg hover:bg-secondary/20",children:"Good"}),h.jsx("button",{onClick:()=>l(5),className:"px-4 py-3 bg-success/10 text-success rounded-lg hover:bg-success/20",children:"Easy"})]})]}):h.jsx("button",{onClick:()=>o(!0),className:"w-full px-8 py-4 bg-gradient-to-r from-indigo-700 to-purple-700 dark:from-indigo-600 dark:to-purple-600 hover:from-indigo-800 hover:to-purple-800 dark:hover:from-indigo-500 dark:hover:to-purple-500 text-white rounded-xl hover:shadow-xl hover:shadow-indigo-500/30 hover:scale-105 active:scale-95 transition-all duration-300 text-lg font-semibold shadow-lg",children:"Show Answer"})]}),h.jsx("div",{className:"text-center",children:h.jsx("button",{onClick:e,className:"px-4 py-2 text-muted-foreground hover:text-foreground",children:"End Study Session"})})]})}),wG=({uploads:t,apiKey:e})=>{const{state:n,dispatch:r}=mw(),[i,s]=O.useReducer(bG,yG),o=O.useMemo(()=>t.filter(u=>u.processed&&u.status==="completed"),[t]),a=O.useMemo(()=>o.find(u=>u.id===i.selectedUploadId),[o,i.selectedUploadId]);O.useEffect(()=>{r({type:"UPDATE_DUE_CARDS"})},[n.cards,r]);const l=async()=>{if(!e){const d="API key is missing. Please add it in Settings.";s({type:"GENERATION_COMPLETE",error:d}),ie.error(d);return}let u="";s({type:"START_GENERATION"});try{if(i.sourceType==="document"){if(!a){const b="Please select a processed document first.";s({type:"GENERATION_COMPLETE",error:b}),ie.error(b);return}if(!a.fullText||a.fullText.trim()===""){const b="The selected document appears to be empty.";s({type:"GENERATION_COMPLETE",error:b}),ie.error(b);return}u=a.fullText}else{if(!i.youtubeUrl.trim()){const b="Please enter a YouTube URL.";s({type:"GENERATION_COMPLETE",error:b}),ie.error(b);return}try{s({type:"UPDATE_PROGRESS",progress:5,message:"Validating YouTube URL..."}),s({type:"UPDATE_PROGRESS",progress:10,message:"Fetching video information..."});const b=await Rv(i.youtubeUrl);s({type:"UPDATE_PROGRESS",progress:25,message:`Found: "${b.title}"`}),ie.success(`Found: "${b.title}"`),b.hasTranscript&&b.transcript.length>100?(u=b.transcript,s({type:"UPDATE_PROGRESS",progress:30,message:`Processing ${Math.round(b.transcript.length/1e3)}K characters of content...`})):(u=`Create flashcards about: "${b.title}"

This is a YouTube video. Since the transcript is not available, create flashcards covering what this video likely teaches based on the title.`,s({type:"UPDATE_PROGRESS",progress:30,message:"Transcript unavailable - generating flashcards from video title..."}))}catch(b){const g=b.message||"Failed to fetch YouTube data";s({type:"GENERATION_COMPLETE",error:g}),ie.error(g),console.error("YouTube fetch error:",b);return}}if(!u||u.trim().length<50){const b="Source content is too short to generate flashcards.";s({type:"GENERATION_COMPLETE",error:b}),ie.error(b);return}console.log("Starting flashcard generation with",u.length,"characters");const f=await new jl(e).generateChunkedFlashcards(u,i.cardCount,(b,g)=>{console.log("Progress update:",b,g),s({type:"UPDATE_PROGRESS",progress:b||0,message:g||"Processing..."})});console.log("Flashcard generation response received:",f==null?void 0:f.substring(0,100));const p=lx(f);let m=null;if(p){if(Array.isArray(p))m=p;else if(typeof p=="object"&&p!==null){const b=Object.keys(p).find(g=>Array.isArray(p[g]));b&&(m=p[b])}}if(!m)throw new Error("AI response was not a valid JSON array. The model may be experiencing issues. Please try again.");const y=m.map(b=>({uploadId:i.sourceType==="document"?i.selectedUploadId:`youtube-${Date.now()}`,question:b.question||"No Question Provided",answer:b.answer||"No Answer Provided"}));console.log("Generated",y.length,"flashcards"),r({type:"ADD_CARDS",payload:y}),s({type:"GENERATION_COMPLETE"}),ie.success(`Successfully generated ${y.length} flashcards!`)}catch(d){const f=d.message||"Failed to generate flashcards";console.error("Flashcard generation error:",d),s({type:"GENERATION_COMPLETE",error:f}),ie.error(f)}},c=(u,d)=>{const f=n.cards.find(p=>p.id===u);if(f){const p=fG(f,d);r({type:"UPDATE_CARD",payload:{cardId:u,updates:p}})}};return i.isStudyMode?h.jsx(vG,{onReview:c,onEndSession:()=>s({type:"SET_FIELD",field:"isStudyMode",payload:!1})}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Master Anything with Smart Flashcards"}),h.jsx("p",{className:"text-lg text-muted-foreground",children:"Learn faster with AI-powered cards that adapt to your memory. Science-backed results!"})]}),i.error&&h.jsx("div",{className:"text-center text-sm text-rose-600 bg-rose-50 p-3 rounded-lg",children:i.error}),h.jsx(xG,{uploads:o,state:i,dispatch:s,onGenerate:l,onStartStudy:()=>s({type:"SET_FIELD",field:"isStudyMode",payload:!0})})]})},kG=({uploads:t,apiKey:e})=>{const[n,r]=O.useState([]),[i,s]=O.useState([]),[o,a]=O.useState(""),[l,c]=O.useState(!1),u=O.useRef(null),d=t.filter(g=>g.indexed),f=()=>{var g;(g=u.current)==null||g.scrollIntoView({behavior:"smooth"})};O.useEffect(()=>{f()},[i]);const p=g=>{r(x=>x.includes(g)?x.filter(v=>v!==g):[...x,g])},m=()=>t.filter(x=>n.includes(x.id)).map(x=>x.fullText).join(`

---

`),y=async()=>{var x,v;if(!o.trim())return;if(!e){alert("Please configure your OpenRouter API key in Settings to use chat.");return}if(n.length===0){alert("Please select at least one document to query.");return}const g={id:Date.now().toString(),type:"user",content:o,timestamp:Date.now()};s(w=>[...w,g]),a(""),c(!0);try{const w=new jl(e),S=m();if(!S||S.trim().length===0)throw new Error("Selected documents have no content");const E=await w.answerQuestionWithContext(o,S),C={id:(Date.now()+1).toString(),type:"assistant",content:E,timestamp:Date.now()};s(T=>[...T,C])}catch(w){console.error("Chat failed:",w);let S="Sorry, I encountered an error. ";(x=w.message)!=null&&x.includes("API key")?S+="Please check your API key in Settings.":(v=w.message)!=null&&v.includes("content")?S+="The selected documents appear to be empty.":S+="Please try again or select different documents.";const E={id:(Date.now()+1).toString(),type:"assistant",content:S,timestamp:Date.now()};s(C=>[...C,E])}finally{c(!1)}},b=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),y())};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"Your AI Study Buddy"}),h.jsx("p",{className:"text-lg text-muted-foreground",children:"Ask anything about your materials - get instant, intelligent answers that actually make sense."})]}),h.jsxs("div",{className:"glass-card rounded-xl p-6 shadow-sm border border-border/40",children:[h.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Choose Your Study Materials"}),d.length===0?h.jsx("p",{className:"text-muted-foreground",children:"No indexed documents available. Upload and process documents first."}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:d.map(g=>h.jsxs("label",{className:"flex items-center gap-3 p-3 border border-border/40 rounded-lg hover:bg-muted/20 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:n.includes(g.id),onChange:()=>p(g.id),className:"rounded text-primary focus:ring-primary"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-medium text-foreground truncate",children:g.filename}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.slideCount," slides"]})]})]},g.id))})]}),h.jsxs("div",{className:"glass-card rounded-xl shadow-sm border border-border/40 h-96 flex flex-col",children:[h.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[i.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ta,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Ready to unlock insights? Ask your first question and discover what your materials really mean!"})]}):i.map(g=>h.jsx("div",{className:`flex gap-3 ${g.type==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`flex gap-3 max-w-3xl ${g.type==="user"?"flex-row-reverse":"flex-row"}`,children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${g.type==="user"?"bg-secondary":"bg-success"}`,children:g.type==="user"?h.jsx(H2,{className:"w-4 h-4 text-white"}):h.jsx(If,{className:"w-4 h-4 text-white"})}),h.jsxs("div",{className:`px-4 py-2 rounded-lg ${g.type==="user"?"bg-secondary text-white":"bg-muted text-foreground"}`,children:[h.jsx("p",{className:"whitespace-pre-wrap",children:g.content}),h.jsx("p",{className:`text-xs mt-1 ${g.type==="user"?"text-indigo-200":"text-muted-foreground"}`,children:new Date(g.timestamp).toLocaleTimeString()})]})]})},g.id)),l&&h.jsxs("div",{className:"flex gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-success flex items-center justify-center",children:h.jsx(If,{className:"w-4 h-4 text-white"})}),h.jsx("div",{className:"bg-muted rounded-lg px-4 py-2",children:h.jsxs("div",{className:"flex gap-1",children:[h.jsx("div",{className:"w-2 h-2 bg-muted rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-muted rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-2 h-2 bg-muted rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),h.jsx("div",{ref:u})]}),h.jsx("div",{className:"border-t border-border/40 p-4",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsx("textarea",{value:o,onChange:g=>a(g.target.value),onKeyPress:b,placeholder:n.length>0?"Ask a question about your documents...":"Select documents first to start chatting...",className:"flex-1 px-4 py-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary resize-none",rows:3,disabled:n.length===0||!e}),h.jsxs("button",{onClick:y,disabled:!o.trim()||l||n.length===0||!e,className:"px-6 py-3 bg-secondary text-white rounded-lg hover:opacity-90 disabled:opacity-50 transition-colors flex items-center gap-2",children:[h.jsx(vv,{className:"w-4 h-4"}),"Send"]})]})})]})]})},EG=({uploads:t})=>{const e="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".trim(),n=()=>{const s={uploads:t.map(c=>({id:c.id,filename:c.filename,uploadedAt:c.uploadedAt,slideCount:c.slideCount,processed:c.processed,indexed:c.indexed})),flashcards:JSON.parse(localStorage.getItem("slidetutor_flashcards")||"[]"),exportedAt:new Date().toISOString()},o=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),a=URL.createObjectURL(o),l=document.createElement("a");l.href=a,l.download=`slidetutor-export-${new Date().toISOString().split("T")[0]}.json`,l.click(),URL.revokeObjectURL(a)},r=()=>{confirm("Are you sure you want to clear all data? This action cannot be undone.")&&(localStorage.clear(),window.location.reload())},i=[{name:"OpenRouter API Key",status:!!e,description:"Required for AI features"},{name:"File API",status:typeof File<"u",description:"File upload support"},{name:"Fetch API",status:typeof fetch<"u",description:"API communication"},{name:"Local Storage",status:typeof localStorage<"u",description:"Data persistence"}];return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"Control Your Learning Experience"}),h.jsx("p",{className:"text-lg text-muted-foreground",children:"Manage your data, check system health, and customize your study environment."})]}),h.jsxs("div",{className:"glass-card rounded-xl p-6 shadow-sm border border-border/40",children:[h.jsx("h2",{className:"text-xl font-bold text-foreground mb-6",children:"Your Data, Your Control"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Backup Your Progress"}),h.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Save all your study materials and progress securely."}),h.jsxs("button",{onClick:n,className:"px-4 py-2 bg-success text-white rounded-lg hover:bg-success/90 transition-colors flex items-center gap-2",children:[h.jsx(mv,{className:"w-4 h-4"}),"Export All Data"]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Fresh Start"}),h.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Clear everything and begin with a clean slate."}),h.jsx("button",{onClick:r,className:"px-4 py-2 bg-error text-white rounded-lg hover:bg-error/90 transition-colors",children:"Clear All Data"})]})]})]}),h.jsxs("div",{className:"glass-card rounded-xl p-6 shadow-sm border border-border/40",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx(Ol,{className:"w-6 h-6 text-muted-foreground"}),h.jsx("h2",{className:"text-xl font-bold text-foreground",children:"System Health Check"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map((s,o)=>h.jsxs("div",{className:"flex items-start gap-3 p-4 border border-border/40 rounded-lg",children:[s.status?h.jsx(am,{className:"w-5 h-5 text-success mt-0.5"}):h.jsx(fd,{className:"w-5 h-5 text-destructive mt-0.5"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-foreground",children:s.name}),h.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s.status?"bg-success/10 text-success":"bg-error/10 text-red-700"}`,children:s.status?"Working":"Not Available"})]})]},o))}),h.jsxs("div",{className:"mt-6 p-4 bg-muted/20 rounded-lg",children:[h.jsx("h3",{className:"font-medium text-foreground mb-2",children:"Statistics"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-muted-foreground",children:"Total Uploads:"}),h.jsx("span",{className:"font-semibold text-foreground ml-2",children:t.length})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-muted-foreground",children:"Processed:"}),h.jsx("span",{className:"font-semibold text-foreground ml-2",children:t.filter(s=>s.processed).length})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-muted-foreground",children:"Indexed:"}),h.jsx("span",{className:"font-semibold text-foreground ml-2",children:t.filter(s=>s.indexed).length})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-muted-foreground",children:"Total Slides:"}),h.jsx("span",{className:"font-semibold text-foreground ml-2",children:t.reduce((s,o)=>s+o.slideCount,0)})]})]})]})]}),h.jsxs("div",{className:"glass-card rounded-xl p-6 shadow-sm border border-border/40",children:[h.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Pro Tips for Success"}),h.jsxs("div",{className:"space-y-3 text-foreground",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsx("span",{className:"w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),h.jsx("p",{children:"Upload your PDF or PPTX files using the Upload tab - the system will automatically extract text and process content."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("span",{className:"w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),h.jsx("p",{children:"Use the Lessons tab to generate comprehensive, multi-level educational content from your documents."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("span",{className:"w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),h.jsx("p",{children:"Create and take quizzes to test your knowledge, with immediate feedback and explanations."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("span",{className:"w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),h.jsx("p",{children:"Generate flashcards and use the spaced repetition system to optimize your learning retention."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("span",{className:"w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-bold",children:"5"}),h.jsx("p",{children:"Use the Chat Q&A feature to ask specific questions about your documents and get AI-powered answers."})]})]})]})]})},SG="SlideTutorDB",_G=1;class NG{constructor(){ee(this,"db",null);ee(this,"initPromise",null);this.initPromise=this.initialize()}async initialize(){return new Promise((e,n)=>{const r=indexedDB.open(SG,_G);r.onerror=()=>{console.error("[PersistentStorage] Failed to open database:",r.error),n(r.error)},r.onsuccess=()=>{this.db=r.result,console.log("[PersistentStorage] Database opened successfully"),e()},r.onupgradeneeded=i=>{const s=i.target.result;if(!s.objectStoreNames.contains("uploads")){const o=s.createObjectStore("uploads",{keyPath:"id"});o.createIndex("uploadedAt","uploadedAt",{unique:!1}),o.createIndex("status","status",{unique:!1})}if(!s.objectStoreNames.contains("lessons")){const o=s.createObjectStore("lessons",{keyPath:"id"});o.createIndex("createdAt","createdAt",{unique:!1}),o.createIndex("uploadId","uploadId",{unique:!1})}if(!s.objectStoreNames.contains("quizzes")){const o=s.createObjectStore("quizzes",{keyPath:"id"});o.createIndex("createdAt","createdAt",{unique:!1}),o.createIndex("uploadId","uploadId",{unique:!1})}if(!s.objectStoreNames.contains("flashcards")){const o=s.createObjectStore("flashcards",{keyPath:"id"});o.createIndex("createdAt","createdAt",{unique:!1}),o.createIndex("nextReview","nextReview",{unique:!1}),o.createIndex("uploadId","uploadId",{unique:!1})}if(!s.objectStoreNames.contains("processingJobs")){const o=s.createObjectStore("processingJobs",{keyPath:"id"});o.createIndex("status","status",{unique:!1}),o.createIndex("type","type",{unique:!1}),o.createIndex("startTime","startTime",{unique:!1})}console.log("[PersistentStorage] Database schema created/updated")}})}async ensureDB(){if(this.initPromise&&await this.initPromise,!this.db)throw new Error("Database not initialized");return this.db}async saveUpload(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["uploads"],"readwrite").objectStore("uploads").put(e);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}async getUploads(){const e=await this.ensureDB();return new Promise((n,r)=>{const o=e.transaction(["uploads"],"readonly").objectStore("uploads").getAll();o.onsuccess=()=>n(o.result||[]),o.onerror=()=>r(o.error)})}async getUpload(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["uploads"],"readonly").objectStore("uploads").get(e);a.onsuccess=()=>r(a.result),a.onerror=()=>i(a.error)})}async deleteUpload(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["uploads"],"readwrite").objectStore("uploads").delete(e);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}async saveLesson(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["lessons"],"readwrite").objectStore("lessons").put(e);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}async getLessons(){const e=await this.ensureDB();return new Promise((n,r)=>{const o=e.transaction(["lessons"],"readonly").objectStore("lessons").getAll();o.onsuccess=()=>n(o.result||[]),o.onerror=()=>r(o.error)})}async deleteLesson(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["lessons"],"readwrite").objectStore("lessons").delete(e);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}async saveQuiz(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["quizzes"],"readwrite").objectStore("quizzes").put(e);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}async getQuizzes(){const e=await this.ensureDB();return new Promise((n,r)=>{const o=e.transaction(["quizzes"],"readonly").objectStore("quizzes").getAll();o.onsuccess=()=>n(o.result||[]),o.onerror=()=>r(o.error)})}async deleteQuiz(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["quizzes"],"readwrite").objectStore("quizzes").delete(e);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}async saveFlashcard(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["flashcards"],"readwrite").objectStore("flashcards").put(e);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}async saveFlashcards(e){const n=await this.ensureDB();return new Promise((r,i)=>{const o=n.transaction(["flashcards"],"readwrite").objectStore("flashcards");let a=0;e.forEach(l=>{const c=o.put(l);c.onsuccess=()=>{a++,a===e.length&&r()},c.onerror=()=>i(c.error)})})}async getFlashcards(){const e=await this.ensureDB();return new Promise((n,r)=>{const o=e.transaction(["flashcards"],"readonly").objectStore("flashcards").getAll();o.onsuccess=()=>n(o.result||[]),o.onerror=()=>r(o.error)})}async deleteFlashcard(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["flashcards"],"readwrite").objectStore("flashcards").delete(e);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}async saveProcessingJob(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["processingJobs"],"readwrite").objectStore("processingJobs").put(e);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}async getProcessingJobs(e){const n=await this.ensureDB();return new Promise((r,i)=>{const o=n.transaction(["processingJobs"],"readonly").objectStore("processingJobs");if(e){const l=o.index("status").getAll(e);l.onsuccess=()=>r(l.result||[]),l.onerror=()=>i(l.error)}else{const a=o.getAll();a.onsuccess=()=>r(a.result||[]),a.onerror=()=>i(a.error)}})}async getProcessingJob(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["processingJobs"],"readonly").objectStore("processingJobs").get(e);a.onsuccess=()=>r(a.result),a.onerror=()=>i(a.error)})}async deleteProcessingJob(e){const n=await this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(["processingJobs"],"readwrite").objectStore("processingJobs").delete(e);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}async clearAll(){const e=await this.ensureDB(),n=["uploads","lessons","quizzes","flashcards","processingJobs"];return new Promise((r,i)=>{const s=e.transaction(n,"readwrite");let o=0;n.forEach(a=>{const c=s.objectStore(a).clear();c.onsuccess=()=>{o++,o===n.length&&r()},c.onerror=()=>i(c.error)})})}}const Hn=new NG;class TG{constructor(){ee(this,"BATCH_SIZE",50);ee(this,"CHECKPOINT_INTERVAL",100)}async processLargePDF(e,n={}){const{onProgress:r,onPageBatch:i,batchSize:s=this.BATCH_SIZE,saveCheckpoints:o=!0}=n,a=Gf(),l=Date.now();console.log(`[LargeFileProcessor] Starting processing for ${e.name} (${(e.size/1024/1024).toFixed(2)}MB)`);const c={id:a,filename:e.name,size:e.size,uploadedAt:new Date().toISOString(),processed:!1,indexed:!1,slideCount:0,fullText:"",status:"processing",processingProgress:0},u={id:Gf(),type:"upload",status:"processing",progress:0,startTime:l,uploadId:a};try{await Hn.saveUpload(c),await Hn.saveProcessingJob(u),r==null||r(1,"Loading PDF...");const d=await e.arrayBuffer(),f=await pdfjsLib.getDocument({data:d,verbosity:0,disableFontFace:!0,isEvalSupported:!1,useSystemFonts:!0,standardFontDataUrl:void 0}).promise,p=f.numPages;c.slideCount=p,console.log(`[LargeFileProcessor] PDF loaded: ${p} pages`);const m=this.calculateEstimatedTime(e.size,p);u.estimatedEndTime=l+m*1e3,await Hn.saveProcessingJob(u),r==null||r(2,`Processing ${p} pages...`,m);const y=[],b=Math.ceil(p/s);for(let x=0;x<b;x++){const v=x*s+1,w=Math.min((x+1)*s,p),S=(x+1)/b*98,E=b-x-1,C=(Date.now()-l)/(x+1),T=Math.ceil(E*C/1e3);r==null||r(S,`Processing pages ${v}-${w} of ${p}...`,T),i==null||i(x+1,b),console.log(`[LargeFileProcessor] Batch ${x+1}/${b}: Pages ${v}-${w}`);for(let A=v;A<=w;A++){try{const z=await f.getPage(A),q=(await z.getTextContent()).items.map(H=>"str"in H?H.str:"").join(" ");y.push(`Page ${A}:
${q}

`),z.cleanup()}catch(z){console.error(`[LargeFileProcessor] Error on page ${A}:`,z),y.push(`Page ${A}:
[Error reading page]

`)}const N=A/p*98;u.progress=N,A%10===0&&await Hn.saveProcessingJob(u)}o&&(w%this.CHECKPOINT_INTERVAL===0||w===p)&&(c.fullText=y.join(""),c.processingProgress=S,await Hn.saveUpload(c),console.log(`[LargeFileProcessor] Checkpoint saved at page ${w}`)),x<b-1&&await new Promise(A=>setTimeout(A,50)),(x+1)%5===0&&await new Promise(A=>setTimeout(A,100))}r==null||r(99,"Finalizing..."),c.fullText=y.join(""),c.processed=!0,c.indexed=!0,c.status="completed",c.processingProgress=100,f.cleanup(),f.destroy(),await Hn.saveUpload(c),u.status="completed",u.progress=100,u.result={uploadId:c.id},await Hn.saveProcessingJob(u);const g=((Date.now()-l)/1e3).toFixed(1);return console.log(`[LargeFileProcessor] Completed! Extracted ${c.fullText.length} characters from ${p} pages in ${g}s`),r==null||r(100,"Complete!",0),c}catch(d){throw console.error("[LargeFileProcessor] Processing failed:",d),c.status="failed",c.processed=!1,await Hn.saveUpload(c),u.status="failed",u.error=d instanceof Error?d.message:"Unknown error",await Hn.saveProcessingJob(u),d}}calculateEstimatedTime(e,n){const r=n*.15,i=n*.05,o=Math.ceil(n/this.CHECKPOINT_INTERVAL)*.02,a=Math.ceil(r+i+o);return Math.ceil(a*1.25)}async resumeProcessing(e,n={}){const r=await Hn.getUpload(e);if(!r)throw new Error("Upload not found");if(r.status==="completed")return r;throw new Error("Resume functionality not yet implemented")}async getProcessingStatus(e){const n=await Hn.getUpload(e);if(!n)throw new Error("Upload not found");const r=(await Hn.getProcessingJobs("processing")).find(s=>s.uploadId===e);let i;return r!=null&&r.estimatedEndTime&&(i=Math.max(0,Math.ceil((r.estimatedEndTime-Date.now())/1e3))),{progress:n.processingProgress||0,status:n.status,estimatedTimeRemaining:i}}}const CG=new TG;pdfjsLib.GlobalWorkerOptions.workerSrc="//unpkg.com/pdfjs-dist@3.11.174/legacy/build/pdf.worker.min.js";const AG=50*1024*1024;async function OG(t){console.log(`[PDF Parser] Starting PDF parsing for ${t.name} (${(t.size/1024/1024).toFixed(2)}MB)`);const e=await t.arrayBuffer(),n=await pdfjsLib.getDocument({data:e,verbosity:0,disableFontFace:!0,isEvalSupported:!1}).promise,r=n.numPages;console.log(`[PDF Parser] Processing ${r} pages...`);let i="";const s=[],o=25;for(let a=0;a<Math.ceil(r/o);a++){const l=a*o+1,c=Math.min((a+1)*o,r);console.log(`[PDF Parser] Processing pages ${l}-${c}...`);for(let u=l;u<=c;u++)try{const d=await n.getPage(u),p=(await d.getTextContent()).items.map(m=>"str"in m?m.str:"").join(" ");s.push(`Slide ${u}:
${p}

`),d.cleanup()}catch(d){console.error(`[PDF Parser] Error on page ${u}:`,d),s.push(`Slide ${u}:
[Error reading page]

`)}a<Math.ceil(r/o)-1&&await new Promise(u=>setTimeout(u,10))}return i=s.join(""),n.cleanup(),n.destroy(),console.log(`[PDF Parser] Completed! Extracted ${i.length} characters from ${r} pages`),{fullText:i.trim(),slideCount:r}}async function IG(t){var i;const e=await JSZip.loadAsync(t),n=Object.keys(e.files).filter(s=>s.startsWith("ppt/slides/slide"));let r="";n.sort((s,o)=>{var c,u;const a=parseInt(((c=s.match(/(\d+)\.xml$/))==null?void 0:c[1])||"0"),l=parseInt(((u=o.match(/(\d+)\.xml$/))==null?void 0:u[1])||"0");return a-l});for(let s=0;s<n.length;s++){const o=await((i=e.file(n[s]))==null?void 0:i.async("string"));if(o){const c=new DOMParser().parseFromString(o,"application/xml").getElementsByTagName("a:t"),u=Array.from(c).map(d=>d.textContent).join(" ");r+=`Slide ${s+1}:
${u}

`}}return{fullText:r.trim(),slideCount:n.length}}class RG{constructor(){ee(this,"processingStrategies",{"application/pdf":OG,"application/vnd.openxmlformats-officedocument.presentationml.presentation":IG})}async processFile(e,n){const r=e.size>AG;if((e.type==="application/pdf"||e.name.toLowerCase().endsWith(".pdf"))&&r){console.log(`[FileProcessor] Large PDF detected (${(e.size/1024/1024).toFixed(2)}MB), using advanced processor...`);try{const o=await CG.processLargePDF(e,{onProgress:n,saveCheckpoints:!0});return{id:o.id,filename:o.filename,size:o.size,uploadedAt:o.uploadedAt,processed:o.processed,indexed:o.indexed,slideCount:o.slideCount,fullText:o.fullText,status:o.status}}catch(o){throw console.error("[FileProcessor] Large file processing failed:",o),o}}const s={id:Gf(),filename:e.name,size:e.size,uploadedAt:new Date().toISOString(),processed:!1,indexed:!1,slideCount:0,fullText:"",status:"processing"};try{n==null||n(5,"Starting file processing...");let o=this.processingStrategies[e.type];if(!o)if(e.name.endsWith(".pptx"))o=this.processingStrategies["application/vnd.openxmlformats-officedocument.presentationml.presentation"];else throw new Error(`Unsupported file type: ${e.type||e.name.split(".").pop()}`);n==null||n(10,"Extracting text...");const{fullText:a,slideCount:l}=await o(e);s.fullText=a,s.slideCount=l,s.processed=!0,s.indexed=!0,s.status="completed",await Hn.saveUpload({...s,processingProgress:100}),n==null||n(100,"Complete!",0)}catch(o){console.error(`Failed to process file ${e.name}:`,o),s.status="failed",s.errorMessage=o instanceof Error?o.message:"An unknown processing error occurred."}return s}}const MG=new RG;class mh extends O.Component{constructor(){super(...arguments);ee(this,"state",{hasError:!1,error:null,errorInfo:null});ee(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})})}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:h.jsxs("div",{className:"max-w-md w-full glass-card rounded-xl shadow-lg p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-error/10 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(fd,{className:"w-8 h-8 text-error"})}),h.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Oops! Something went wrong"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"We encountered an unexpected error. Don't worry, your data is safe."}),this.state.error&&h.jsx("div",{className:"bg-muted/50 rounded-lg p-4 mb-6 text-left border border-border/30",children:h.jsx("p",{className:"text-sm font-mono text-foreground break-all",children:this.state.error.toString()})}),h.jsxs("button",{onClick:this.handleReset,className:"inline-flex items-center gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:shadow-xl hover:shadow-indigo-500/30 hover:scale-105 active:scale-95 transition-all duration-300",children:[h.jsx(Ru,{className:"w-4 h-4"}),"Try Again"]}),h.jsx("button",{onClick:()=>window.location.reload(),className:"block w-full mt-3 text-muted-foreground hover:text-foreground transition-colors",children:"Reload Page"})]})}):this.props.children}}const jG=[{id:"dashboard",label:"Home",icon:B2},{id:"youtube",label:"YouTube",icon:Fr},{id:"lessons",label:"Learn",icon:bt},{id:"quiz",label:"Quiz",icon:Pn}];function DG({activeTab:t,onTabChange:e}){return h.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 glass-card dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 safe-area-bottom",children:h.jsx("div",{className:"grid grid-cols-4 gap-1 px-2 py-1",children:jG.map(n=>{const r=n.icon,i=t===n.id;return h.jsxs("button",{onClick:()=>e(n.id),className:fe("flex flex-col items-center justify-center gap-1 py-2 px-1 rounded-lg transition-all","min-h-[56px] active:scale-95",i&&"bg-secondary/10 text-secondary",!i&&"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800"),"aria-label":n.label,"aria-current":i?"page":void 0,children:[h.jsx(r,{className:fe("w-6 h-6 transition-transform",i&&"scale-110")}),h.jsx("span",{className:"text-xs font-medium truncate w-full text-center",children:n.label})]},n.id)})})})}const s_=[{key:" + K",description:"Open command palette",category:"Navigation"},{key:" + /",description:"Open shortcuts guide",category:"Navigation"},{key:"D",description:"Go to Dashboard",category:"Navigation"},{key:"U",description:"Go to Upload",category:"Navigation"},{key:"L",description:"Go to Lessons",category:"Navigation"},{key:"Q",description:"Go to Quizzes",category:"Navigation"},{key:"F",description:"Go to Flashcards",category:"Navigation"},{key:"C",description:"Go to Chat",category:"Navigation"},{key:"S",description:"Go to Settings",category:"Navigation"},{key:"A",description:"Go to Analytics",category:"Navigation"},{key:"Esc",description:"Close modals/dialogs",category:"General"},{key:"/",description:"Focus search",category:"General"},{key:"?",description:"Show this help",category:"General"}];function PG({onNavigate:t}){const[e,n]=O.useState(!1);ar("meta+slash, ctrl+slash, shift+/",i=>{i.preventDefault(),n(!0)}),ar("d",i=>{es(i)||(i.preventDefault(),t==null||t("dashboard"))}),ar("u",i=>{es(i)||(i.preventDefault(),t==null||t("upload"))}),ar("l",i=>{es(i)||(i.preventDefault(),t==null||t("lessons"))}),ar("q",i=>{es(i)||(i.preventDefault(),t==null||t("quiz"))}),ar("f",i=>{es(i)||(i.preventDefault(),t==null||t("flashcards"))}),ar("c",i=>{es(i)||(i.preventDefault(),t==null||t("chat"))}),ar("s",i=>{es(i)||(i.preventDefault(),t==null||t("settings"))}),ar("a",i=>{es(i)||(i.preventDefault(),t==null||t("analytics"))}),ar("escape",()=>{e&&n(!1)});const r=Array.from(new Set(s_.map(i=>i.category)));return e?h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:h.jsxs("div",{className:"glass-card dark:bg-gray-900 rounded-xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[h.jsxs("div",{className:"sticky top-0 glass-card dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-6 py-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-primary/10 dark:bg-secondary/20 rounded-lg",children:h.jsx($1,{className:"w-5 h-5 text-secondary dark:text-indigo-400"})}),h.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Keyboard Shortcuts"})]}),h.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Close shortcuts guide",children:h.jsx(pd,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"p-6 space-y-6",children:r.map(i=>h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:i}),h.jsx("div",{className:"space-y-2",children:s_.filter(s=>s.category===i).map((s,o)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:s.description}),h.jsx("kbd",{className:fe("px-3 py-1 text-sm font-mono font-semibold","glass-card dark:bg-gray-900 border border-gray-300 dark:border-gray-700","rounded shadow-sm text-gray-700 dark:text-gray-300"),children:s.key})]},o))})]},i))}),h.jsx("div",{className:"sticky bottom-0 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-6 py-4",children:h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:["Press ",h.jsx("kbd",{className:"px-2 py-0.5 mx-1 glass-card dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded text-xs font-mono",children:"Esc"})," to close"]})})]})}):h.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-4 right-4 z-40 p-3 bg-secondary text-white rounded-full shadow-lg hover:bg-secondary/90 transition-all md:hidden","aria-label":"Show keyboard shortcuts",title:"Keyboard shortcuts (/)",children:h.jsx($1,{className:"w-5 h-5"})})}function es(t){const e=t.target;return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}function LG(){return hd({queryKey:["uploads"],queryFn:()=>ji.getUploads()})}function $G(){const t=om();return $2({mutationFn:e=>ji.createUpload(e),onSuccess:()=>{t.invalidateQueries({queryKey:["uploads"]})}})}function zG(){const t=om();return $2({mutationFn:e=>ji.deleteUpload(e),onSuccess:()=>{t.invalidateQueries({queryKey:["uploads"]})}})}function FG({onSessionComplete:t}){const[e,n]=O.useState("work"),[r,i]=O.useState(25*60),[s,o]=O.useState(!1),[a,l]=O.useState(0),c=O.useRef(null),u={work:25*60,shortBreak:5*60,longBreak:15*60};O.useEffect(()=>(s&&r>0?c.current=setInterval(()=>{i(g=>g<=1?(d(),0):g-1)},1e3):c.current&&clearInterval(c.current),()=>{c.current&&clearInterval(c.current)}),[s,r]);const d=()=>{if(o(!1),e==="work"){const g=a+1;l(g),t(u.work,"work"),g%4===0?(ie.success("Great work! Time for a long break!"),n("longBreak"),i(u.longBreak)):(ie.success("Focus session complete! Take a short break."),n("shortBreak"),i(u.shortBreak))}else t(e==="shortBreak"?u.shortBreak:u.longBreak,"break"),ie.success("Break over! Ready to focus again?"),n("work"),i(u.work);"Notification"in window&&Notification.permission==="granted"&&new Notification("Pomodoro Timer",{body:e==="work"?"Time for a break!":"Time to get back to work!",icon:"/icon.png"})},f=()=>{!s&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission(),o(!s)},p=()=>{o(!1),i(u[e])},m=g=>{o(!1),n(g),i(u[g])},y=g=>{const x=Math.floor(g/60),v=g%60;return`${x.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`},b=(u[e]-r)/u[e]*100;return h.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-border",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-secondary/80 to-accent rounded-xl flex items-center justify-center",children:h.jsx(Al,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Pomodoro Timer"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Stay focused with timed study sessions"})]})]}),h.jsxs("div",{className:"flex gap-2 mb-6",children:[h.jsxs("button",{onClick:()=>m("work"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all ${e==="work"?"bg-primary text-white shadow-lg shadow-primary/20":"bg-background text-muted-foreground hover:text-foreground border border-border"}`,children:[h.jsx(Pn,{className:"w-4 h-4 inline mr-1"}),"Focus (25m)"]}),h.jsxs("button",{onClick:()=>m("shortBreak"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all ${e==="shortBreak"?"bg-primary text-white shadow-lg shadow-primary/20":"bg-background text-muted-foreground hover:text-foreground border border-border"}`,children:[h.jsx(j1,{className:"w-4 h-4 inline mr-1"}),"Short (5m)"]}),h.jsxs("button",{onClick:()=>m("longBreak"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all ${e==="longBreak"?"bg-primary text-white shadow-lg shadow-primary/20":"bg-background text-muted-foreground hover:text-foreground border border-border"}`,children:[h.jsx(j1,{className:"w-4 h-4 inline mr-1"}),"Long (15m)"]})]}),h.jsx("div",{className:"relative mb-6",children:h.jsxs("div",{className:"w-64 h-64 mx-auto relative",children:[h.jsxs("svg",{className:"w-full h-full -rotate-90",children:[h.jsx("circle",{cx:"128",cy:"128",r:"112",stroke:"currentColor",strokeWidth:"12",fill:"none",className:"text-border"}),h.jsx("circle",{cx:"128",cy:"128",r:"112",stroke:"currentColor",strokeWidth:"12",fill:"none",strokeDasharray:2*Math.PI*112,strokeDashoffset:2*Math.PI*112*(1-b/100),className:`${e==="work"?"text-primary":"text-green-500"} transition-all duration-1000`,strokeLinecap:"round"})]}),h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[h.jsx("div",{className:"text-5xl font-bold text-foreground",children:y(r)}),h.jsx("div",{className:"text-sm text-muted-foreground mt-2 capitalize",children:e==="work"?"Focus Time":e==="shortBreak"?"Short Break":"Long Break"})]})]})}),h.jsxs("div",{className:"flex gap-3 mb-6",children:[h.jsx("button",{onClick:f,className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all shadow-lg flex items-center justify-center gap-2 ${s?"bg-warning hover:bg-warning/90 text-white shadow-warning/20":"bg-primary hover:bg-primary/90 text-white shadow-primary/20"}`,children:s?h.jsxs(h.Fragment,{children:[h.jsx(e$,{className:"w-5 h-5"}),"Pause"]}):h.jsxs(h.Fragment,{children:[h.jsx(U2,{className:"w-5 h-5"}),"Start"]})}),h.jsx("button",{onClick:p,className:"px-6 py-3 rounded-xl font-semibold bg-background border border-border hover:border-primary/50 text-foreground transition-all",children:h.jsx(bv,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex items-center justify-between p-4 bg-background rounded-xl border border-border",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Sessions Completed"}),h.jsx("div",{className:"flex gap-1",children:[...Array(4)].map((g,x)=>h.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-semibold text-sm ${x<a%4?"bg-primary text-white":"bg-background border border-border text-muted-foreground"}`,children:x<a%4?"":x+1},x))})]}),h.jsx("p",{className:"text-xs text-muted-foreground mt-4 text-center",children:"Complete 4 focus sessions to earn a long break. Stay focused and productive!"})]})}const o_="slidetutor_youtube_video_state";function BG({onVideoProcessed:t,apiKey:e}){const[n,r]=O.useState(""),[i,s]=O.useState(!1),[o,a]=O.useState("idle"),[l,c]=O.useState(""),[u,d]=O.useState(""),[f,p]=O.useState(!1),[m,y]=O.useState(!1),[b,g]=O.useState(!1);O.useEffect(()=>{try{const T=localStorage.getItem(o_);if(T){const A=JSON.parse(T);r(A.youtubeUrl),c(A.transcript),d(A.videoTitle),a(A.processingStatus)}}catch(T){console.error("Failed to load saved video state:",T)}},[]),O.useEffect(()=>{if(l||n){const T={youtubeUrl:n,transcript:l,videoTitle:u,processingStatus:o};localStorage.setItem(o_,JSON.stringify(T))}},[n,l,u,o]);const x=T=>{const A=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,N=T.match(A);return N?N[1]:null},v=async()=>{if(!n.trim()){ie.error("Please enter a YouTube URL");return}if(!e){ie.error("Please configure your OpenRouter API key in Settings first");return}const T=x(n);if(!T){ie.error("Invalid YouTube URL. Please enter a valid YouTube video URL");return}s(!0),a("extracting"),c(""),d("");try{const A=`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${T}&format=json`,F=(await(await fetch(A)).json()).title||"YouTube Video";d(F),a("transcribing");let q="";try{console.log("[YouTube] Fetching transcript from free API...");const P=await fetch(`https://supadata.ai/youtube-transcript-api?videoId=${T}`).catch(()=>null);if(P&&P.ok){const I=await P.json();Array.isArray(I)&&I.length>0&&(q=I.map(M=>M.text||"").join(" "),console.log("[YouTube]  Transcript fetched! Length:",q.length))}}catch{console.log("Could not fetch transcript, will generate AI summary instead")}let H;const V=new $f(e);if(q&&q.length>100){const P=`You are an expert educator. Format the following YouTube video transcript into a well-structured, easy-to-read educational document.

Video Title: "${F}"

Raw Transcript:
${q}

Transform this into:
1. A clear introduction summarizing what the video covers
2. Main sections with headings for each topic discussed
3. Key points formatted as bullet lists
4. Important quotes or concepts highlighted
5. A summary of key takeaways

Use proper markdown formatting with headers, bold for key terms, bullet points, and blockquotes for important concepts. Make it professional and easy to study from.`;H=await V.generateLesson(P)}else{const P=`Create a comprehensive educational study guide for a YouTube video titled "${F}".

Since the actual transcript is not available, create a detailed outline covering what this video likely teaches, including:

**Note: This is an AI-generated study guide as the video transcript was not accessible.**

1. **Introduction**: What the video likely covers
2. **Core Concepts**: Main topics and ideas
3. **Key Learning Points**: Important information to understand
4. **Practical Applications**: How to apply this knowledge
5. **Further Study**: Related topics to explore

Use proper markdown with headers, bold text, bullet points, and professional formatting.`;H=await V.generateLesson(P)}c(H),a("success"),t({title:F,transcript:H,url:n}),q?ie.success("Video transcript processed successfully!"):ie.success("AI study guide generated! (Original transcript not available)"),s(!1)}catch(A){console.error("Video processing error:",A),a("error"),c(""),ie.error("Failed to process video. Please check your API key and try again.")}finally{s(!1)}},w=()=>{navigator.clipboard.writeText(l),ie.success("Transcript copied to clipboard!")},S=async()=>{if(!e){ie.error("Please configure your OpenRouter API key in Settings first");return}if(!l){ie.error("No transcript available");return}p(!0);try{const A=await new jl(e).generateChunkedQuiz(l,10),N=JSON.parse(A),z=JSON.parse(localStorage.getItem("slidetutor_generated_quizzes")||"[]");z.push({id:`youtube-${Date.now()}`,title:`Quiz: ${u}`,questions:N.quiz,createdAt:new Date().toISOString(),source:"youtube"}),localStorage.setItem("slidetutor_generated_quizzes",JSON.stringify(z)),ie.success("Quiz generated successfully! Go to the Quiz tab to take it.")}catch(T){console.error("Quiz generation error:",T),ie.error("Failed to generate quiz. Please try again.")}finally{p(!1)}},E=async()=>{if(!e){ie.error("Please configure your OpenRouter API key in Settings first");return}if(!l){ie.error("No transcript available");return}y(!0);try{const A=await new jl(e).generateChunkedFlashcards(l,15),N=JSON.parse(A),z=JSON.parse(localStorage.getItem("slidetutor_flashcards")||"[]");N.flashcards.forEach(F=>{z.push({id:`youtube-${Date.now()}-${Math.random()}`,front:F.question,back:F.answer,hint:F.hint||"",createdAt:new Date().toISOString(),source:u,interval:0,repetitions:0,easeFactor:2.5,nextReview:new Date().toISOString()})}),localStorage.setItem("slidetutor_flashcards",JSON.stringify(z)),ie.success("Flashcards generated successfully! Go to the Flashcards tab to study them.")}catch(T){console.error("Flashcard generation error:",T),ie.error("Failed to generate flashcards. Please try again.")}finally{y(!1)}},C=async()=>{if(!e){ie.error("Please configure your OpenRouter API key in Settings first");return}if(!l){ie.error("No transcript available");return}g(!0);try{const A=await new $f(e).generateLesson(l),N=JSON.parse(localStorage.getItem("slidetutor_lessons")||"[]");N.push({id:`youtube-${Date.now()}`,title:`Notes: ${u}`,content:A,createdAt:new Date().toISOString(),source:"youtube"}),localStorage.setItem("slidetutor_lessons",JSON.stringify(N)),ie.success("Notes generated successfully! Go to the Lessons tab to view them.")}catch(T){console.error("Notes generation error:",T),ie.error("Failed to generate notes. Please try again.")}finally{g(!1)}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"glass-card p-8 rounded-2xl border border-border/40 bg-gradient-to-br from-red-500/5 via-transparent to-pink-500/5",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg shadow-red-500/30",children:h.jsx(Fr,{className:"w-8 h-8 text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-1",children:"YouTube Learning Hub"}),h.jsx("p",{className:"text-muted-foreground",children:"Transform any YouTube video into comprehensive study materials"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[h.jsx("div",{className:"glass-card p-4 rounded-xl border border-border/30",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:h.jsx(Wi,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-foreground",children:"Instant"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"AI Processing"})]})]})}),h.jsx("div",{className:"glass-card p-4 rounded-xl border border-border/30",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:h.jsx(Jn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-foreground",children:"Smart"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Transcription"})]})]})}),h.jsx("div",{className:"glass-card p-4 rounded-xl border border-border/30",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:h.jsx(Fr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-foreground",children:"Any Video"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"All Formats"})]})]})})]})]}),h.jsx("div",{className:"glass-card p-6 rounded-2xl border border-border/40",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"YouTube Video URL"}),h.jsx("input",{type:"url",value:n,onChange:T=>r(T.target.value),placeholder:"https://www.youtube.com/watch?v=...",disabled:i,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 text-foreground placeholder:text-muted-foreground disabled:opacity-50",onKeyDown:T=>T.key==="Enter"&&v()})]}),o!=="idle"&&h.jsxs("div",{className:"flex items-center gap-3 p-4 bg-background/50 rounded-lg border border-border",children:[o==="extracting"&&h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-5 h-5 text-primary animate-spin"}),h.jsx("span",{className:"text-sm text-muted-foreground",children:"Extracting video information..."})]}),o==="transcribing"&&h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-5 h-5 text-primary animate-spin"}),h.jsx("span",{className:"text-sm text-muted-foreground",children:"Transcribing audio content..."})]}),o==="success"&&h.jsxs(h.Fragment,{children:[h.jsx(Wi,{className:"w-5 h-5 text-green-500"}),h.jsx("span",{className:"text-sm text-green-600 dark:text-green-400",children:"Video processed successfully!"})]}),o==="error"&&h.jsxs(h.Fragment,{children:[h.jsx(fd,{className:"w-5 h-5 text-red-500"}),h.jsx("span",{className:"text-sm text-error dark:text-red-400",children:"Processing failed. Please try again."})]})]}),h.jsx("button",{onClick:v,disabled:i||!n.trim(),className:"w-full px-4 py-2 bg-gradient-to-r from-red-700 to-pink-700 dark:from-red-600 dark:to-pink-600 hover:from-red-800 hover:to-pink-800 dark:hover:from-red-500 dark:hover:to-pink-500 text-white rounded-lg transition-all shadow-lg shadow-red-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Fr,{className:"w-4 h-4"}),"Process Video"]})}),h.jsxs("div",{className:"mt-6 p-4 bg-primary/5 rounded-xl border border-primary/20",children:[h.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Pro Tips:"}),h.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 list-disc list-inside",children:[h.jsx("li",{children:"Works with educational, tutorial, and documentary videos"}),h.jsx("li",{children:"AI generates comprehensive learning materials"}),h.jsx("li",{children:"Use the transcript to create quizzes, flashcards, and notes"})]})]})]})}),l&&h.jsxs("div",{className:"mt-6 glass-card p-6 rounded-xl border border-border",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Jn,{className:"w-5 h-5 text-primary"}),h.jsx("h4",{className:"text-lg font-semibold text-foreground",children:u||"Generated Content"})]}),h.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-background hover:bg-muted border border-border rounded-lg transition-colors text-foreground",children:[h.jsx(lm,{className:"w-4 h-4"}),"Copy"]})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 mb-6 pb-6 border-b border-border/40",children:[h.jsx("button",{onClick:S,disabled:f||!e,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-700 to-cyan-700 dark:from-blue-600 dark:to-cyan-600 hover:from-blue-800 hover:to-cyan-800 dark:hover:from-blue-500 dark:hover:to-cyan-500 text-white rounded-lg transition-all shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed",children:f?h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(B4,{className:"w-4 h-4"}),"Generate Quiz"]})}),h.jsx("button",{onClick:E,disabled:m||!e,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-700 to-pink-700 dark:from-purple-600 dark:to-pink-600 hover:from-purple-800 hover:to-pink-800 dark:hover:from-purple-500 dark:hover:to-pink-500 text-white rounded-lg transition-all shadow-lg shadow-purple-500/20 disabled:opacity-50 disabled:cursor-not-allowed",children:m?h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Pn,{className:"w-4 h-4"}),"Generate Flashcards"]})}),h.jsx("button",{onClick:C,disabled:b||!e,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-700 to-emerald-700 dark:from-green-600 dark:to-emerald-600 hover:from-green-800 hover:to-emerald-800 dark:hover:from-green-500 dark:hover:to-emerald-500 text-white rounded-lg transition-all shadow-lg shadow-green-500/20 disabled:opacity-50 disabled:cursor-not-allowed",children:b?h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(bt,{className:"w-4 h-4"}),"Generate Notes"]})})]}),h.jsx("div",{className:"overflow-y-auto",children:h.jsx(km,{content:l})})]})]})}var kR={exports:{}},UG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qG=UG,HG=qG;function ER(){}function SR(){}SR.resetWarningCache=ER;var VG=function(){function t(r,i,s,o,a,l){if(l!==HG){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:SR,resetWarningCache:ER};return n.PropTypes=n,n};kR.exports=VG();var WG=kR.exports;const Ze=la(WG),KG=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ll(t,e,n){const r=GG(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&a_(r,"path",s),a_(r,"relativePath",s),r}function GG(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=KG.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function a_(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const QG=[".DS_Store","Thumbs.db"];function YG(t){return oe(this,void 0,void 0,function*(){return Qf(t)&&JG(t.dataTransfer)?tQ(t.dataTransfer,t.type):ZG(t)?XG(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?eQ(t):[]})}function JG(t){return Qf(t)}function ZG(t){return Qf(t)&&Qf(t.target)}function Qf(t){return typeof t=="object"&&t!==null}function XG(t){return Cx(t.target.files).map(e=>Ll(e))}function eQ(t){return oe(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Ll(n))})}function tQ(t,e){return oe(this,void 0,void 0,function*(){if(t.items){const n=Cx(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(nQ));return l_(_R(r))}return l_(Cx(t.files).map(n=>Ll(n)))})}function l_(t){return t.filter(e=>QG.indexOf(e.name)===-1)}function Cx(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function nQ(t){if(typeof t.webkitGetAsEntry!="function")return c_(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?NR(e):c_(t,e)}function _R(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?_R(n):[n]],[])}function c_(t,e){return oe(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Ll(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Ll(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function rQ(t){return oe(this,void 0,void 0,function*(){return t.isDirectory?NR(t):iQ(t)})}function NR(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>oe(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(rQ));i.push(a),s()}else try{const a=yield Promise.all(i);n(a)}catch(a){r(a)}}),o=>{r(o)})}s()})}function iQ(t){return oe(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Ll(r,t.fullPath);e(i)},r=>{n(r)})})})}var Xg=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function u_(t){return aQ(t)||oQ(t)||CR(t)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aQ(t){if(Array.isArray(t))return Ax(t)}function d_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d_(Object(n),!0).forEach(function(r){TR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uu(t,e){return uQ(t)||cQ(t,e)||CR(t,e)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CR(t,e){if(t){if(typeof t=="string")return Ax(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ax(t,e)}}function Ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function uQ(t){if(Array.isArray(t))return t}var dQ=typeof Xg=="function"?Xg:Xg.default,hQ="file-invalid-type",fQ="file-too-large",pQ="file-too-small",mQ="too-many-files",gQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:hQ,message:"File type must be ".concat(r)}},f_=function(e){return{code:fQ,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},p_=function(e){return{code:pQ,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},yQ={code:mQ,message:"Too many files"};function AR(t,e){var n=t.type==="application/x-moz-file"||dQ(t,e);return[n,n?null:gQ(e)]}function OR(t,e,n){if(xo(t.size))if(xo(e)&&xo(n)){if(t.size>n)return[!1,f_(n)];if(t.size<e)return[!1,p_(e)]}else{if(xo(e)&&t.size<e)return[!1,p_(e)];if(xo(n)&&t.size>n)return[!1,f_(n)]}return[!0,null]}function xo(t){return t!=null}function bQ(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,a=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var c=AR(l,n),u=Uu(c,1),d=u[0],f=OR(l,r,i),p=Uu(f,1),m=p[0],y=a?a(l):null;return d&&m&&!y})}function Yf(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function gh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function m_(t){t.preventDefault()}function xQ(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function vQ(t){return t.indexOf("Edge/")!==-1}function wQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return xQ(t)||vQ(t)}function Wr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!Yf(r)&&a&&a.apply(void 0,[r].concat(s)),Yf(r)})}}function kQ(){return"showOpenFilePicker"in window}function EQ(t){if(xo(t)){var e=Object.entries(t).filter(function(n){var r=Uu(n,2),i=r[0],s=r[1],o=!0;return IR(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(RR))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=Uu(r,2),s=i[0],o=i[1];return h_(h_({},n),{},TR({},s,o))},{});return[{description:"Files",accept:e}]}return t}function SQ(t){if(xo(t))return Object.entries(t).reduce(function(e,n){var r=Uu(n,2),i=r[0],s=r[1];return[].concat(u_(e),[i],u_(s))},[]).filter(function(e){return IR(e)||RR(e)}).join(",")}function _Q(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function NQ(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function IR(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function RR(t){return/^.*\.[\w]+$/.test(t)}var TQ=["children"],CQ=["open"],AQ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],OQ=["refKey","onChange","onClick"];function IQ(t){return jQ(t)||MQ(t)||MR(t)||RQ()}function RQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jQ(t){if(Array.isArray(t))return Ox(t)}function ey(t,e){return LQ(t)||PQ(t,e)||MR(t,e)||DQ()}function DQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MR(t,e){if(t){if(typeof t=="string")return Ox(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ox(t,e)}}function Ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function LQ(t){if(Array.isArray(t))return t}function g_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(n),!0).forEach(function(r){Ix(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ix(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jf(t,e){if(t==null)return{};var n=$Q(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Q(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gw=O.forwardRef(function(t,e){var n=t.children,r=Jf(t,TQ),i=DR(r),s=i.open,o=Jf(i,CQ);return O.useImperativeHandle(e,function(){return{open:s}},[s]),Ws.createElement(O.Fragment,null,n(lt(lt({},o),{},{open:s})))});gw.displayName="Dropzone";var jR={disabled:!1,getFilesFromEvent:YG,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};gw.defaultProps=jR;gw.propTypes={children:Ze.func,accept:Ze.objectOf(Ze.arrayOf(Ze.string)),multiple:Ze.bool,preventDropOnDocument:Ze.bool,noClick:Ze.bool,noKeyboard:Ze.bool,noDrag:Ze.bool,noDragEventsBubbling:Ze.bool,minSize:Ze.number,maxSize:Ze.number,maxFiles:Ze.number,disabled:Ze.bool,getFilesFromEvent:Ze.func,onFileDialogCancel:Ze.func,onFileDialogOpen:Ze.func,useFsAccessApi:Ze.bool,autoFocus:Ze.bool,onDragEnter:Ze.func,onDragLeave:Ze.func,onDragOver:Ze.func,onDrop:Ze.func,onDropAccepted:Ze.func,onDropRejected:Ze.func,onError:Ze.func,validator:Ze.func};var Rx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function DR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=lt(lt({},jR),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,f=e.onDrop,p=e.onDropAccepted,m=e.onDropRejected,y=e.onFileDialogCancel,b=e.onFileDialogOpen,g=e.useFsAccessApi,x=e.autoFocus,v=e.preventDropOnDocument,w=e.noClick,S=e.noKeyboard,E=e.noDrag,C=e.noDragEventsBubbling,T=e.onError,A=e.validator,N=O.useMemo(function(){return SQ(n)},[n]),z=O.useMemo(function(){return EQ(n)},[n]),F=O.useMemo(function(){return typeof b=="function"?b:y_},[b]),q=O.useMemo(function(){return typeof y=="function"?y:y_},[y]),H=O.useRef(null),V=O.useRef(null),D=O.useReducer(zQ,Rx),P=ey(D,2),I=P[0],M=P[1],k=I.isFocused,L=I.isFileDialogActive,U=O.useRef(typeof window<"u"&&window.isSecureContext&&g&&kQ()),_=function(){!U.current&&L&&setTimeout(function(){if(V.current){var Q=V.current.files;Q.length||(M({type:"closeDialog"}),q())}},300)};O.useEffect(function(){return window.addEventListener("focus",_,!1),function(){window.removeEventListener("focus",_,!1)}},[V,L,q,U]);var W=O.useRef([]),pe=function(Q){H.current&&H.current.contains(Q.target)||(Q.preventDefault(),W.current=[])};O.useEffect(function(){return v&&(document.addEventListener("dragover",m_,!1),document.addEventListener("drop",pe,!1)),function(){v&&(document.removeEventListener("dragover",m_),document.removeEventListener("drop",pe))}},[H,v]),O.useEffect(function(){return!r&&x&&H.current&&H.current.focus(),function(){}},[H,x,r]);var de=O.useCallback(function(X){T?T(X):console.error(X)},[T]),le=O.useCallback(function(X){X.preventDefault(),X.persist(),he(X),W.current=[].concat(IQ(W.current),[X.target]),gh(X)&&Promise.resolve(i(X)).then(function(Q){if(!(Yf(X)&&!C)){var R=Q.length,$=R>0&&bQ({files:Q,accept:N,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:A}),K=R>0&&!$;M({isDragAccept:$,isDragReject:K,isDragActive:!0,type:"setDraggedFiles"}),c&&c(X)}}).catch(function(Q){return de(Q)})},[i,c,de,C,N,o,s,a,l,A]),Ee=O.useCallback(function(X){X.preventDefault(),X.persist(),he(X);var Q=gh(X);if(Q&&X.dataTransfer)try{X.dataTransfer.dropEffect="copy"}catch{}return Q&&d&&d(X),!1},[d,C]),Ke=O.useCallback(function(X){X.preventDefault(),X.persist(),he(X);var Q=W.current.filter(function($){return H.current&&H.current.contains($)}),R=Q.indexOf(X.target);R!==-1&&Q.splice(R,1),W.current=Q,!(Q.length>0)&&(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gh(X)&&u&&u(X))},[H,u,C]),He=O.useCallback(function(X,Q){var R=[],$=[];X.forEach(function(K){var te=AR(K,N),xe=ey(te,2),Be=xe[0],cn=xe[1],Ht=OR(K,o,s),qr=ey(Ht,2),pi=qr[0],Vt=qr[1],Hr=A?A(K):null;if(Be&&pi&&!Hr)R.push(K);else{var Bn=[cn,Vt];Hr&&(Bn=Bn.concat(Hr)),$.push({file:K,errors:Bn.filter(function(jD){return jD})})}}),(!a&&R.length>1||a&&l>=1&&R.length>l)&&(R.forEach(function(K){$.push({file:K,errors:[yQ]})}),R.splice(0)),M({acceptedFiles:R,fileRejections:$,isDragReject:$.length>0,type:"setFiles"}),f&&f(R,$,Q),$.length>0&&m&&m($,Q),R.length>0&&p&&p(R,Q)},[M,a,N,o,s,l,f,p,m,A]),Ge=O.useCallback(function(X){X.preventDefault(),X.persist(),he(X),W.current=[],gh(X)&&Promise.resolve(i(X)).then(function(Q){Yf(X)&&!C||He(Q,X)}).catch(function(Q){return de(Q)}),M({type:"reset"})},[i,He,de,C]),Ot=O.useCallback(function(){if(U.current){M({type:"openDialog"}),F();var X={multiple:a,types:z};window.showOpenFilePicker(X).then(function(Q){return i(Q)}).then(function(Q){He(Q,null),M({type:"closeDialog"})}).catch(function(Q){_Q(Q)?(q(Q),M({type:"closeDialog"})):NQ(Q)?(U.current=!1,V.current?(V.current.value=null,V.current.click()):de(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):de(Q)});return}V.current&&(M({type:"openDialog"}),F(),V.current.value=null,V.current.click())},[M,F,q,g,He,de,z,a]),Fn=O.useCallback(function(X){!H.current||!H.current.isEqualNode(X.target)||(X.key===" "||X.key==="Enter"||X.keyCode===32||X.keyCode===13)&&(X.preventDefault(),Ot())},[H,Ot]),sr=O.useCallback(function(){M({type:"focus"})},[]),wt=O.useCallback(function(){M({type:"blur"})},[]),Me=O.useCallback(function(){w||(wQ()?setTimeout(Ot,0):Ot())},[w,Ot]),kt=function(Q){return r?null:Q},B=function(Q){return S?null:kt(Q)},we=function(Q){return E?null:kt(Q)},he=function(Q){C&&Q.stopPropagation()},me=O.useMemo(function(){return function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=X.refKey,R=Q===void 0?"ref":Q,$=X.role,K=X.onKeyDown,te=X.onFocus,xe=X.onBlur,Be=X.onClick,cn=X.onDragEnter,Ht=X.onDragOver,qr=X.onDragLeave,pi=X.onDrop,Vt=Jf(X,AQ);return lt(lt(Ix({onKeyDown:B(Wr(K,Fn)),onFocus:B(Wr(te,sr)),onBlur:B(Wr(xe,wt)),onClick:kt(Wr(Be,Me)),onDragEnter:we(Wr(cn,le)),onDragOver:we(Wr(Ht,Ee)),onDragLeave:we(Wr(qr,Ke)),onDrop:we(Wr(pi,Ge)),role:typeof $=="string"&&$!==""?$:"presentation"},R,H),!r&&!S?{tabIndex:0}:{}),Vt)}},[H,Fn,sr,wt,Me,le,Ee,Ke,Ge,S,E,r]),Le=O.useCallback(function(X){X.stopPropagation()},[]),ze=O.useMemo(function(){return function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=X.refKey,R=Q===void 0?"ref":Q,$=X.onChange,K=X.onClick,te=Jf(X,OQ),xe=Ix({accept:N,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:kt(Wr($,Ge)),onClick:kt(Wr(K,Le)),tabIndex:-1},R,V);return lt(lt({},xe),te)}},[V,n,a,Ge,r]);return lt(lt({},I),{},{isFocused:k&&!r,getRootProps:me,getInputProps:ze,rootRef:H,inputRef:V,open:kt(Ot)})}function zQ(t,e){switch(e.type){case"focus":return lt(lt({},t),{},{isFocused:!0});case"blur":return lt(lt({},t),{},{isFocused:!1});case"openDialog":return lt(lt({},Rx),{},{isFileDialogActive:!0});case"closeDialog":return lt(lt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return lt(lt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return lt(lt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return lt({},Rx);default:return t}}function y_(){}var FQ={exports:{}};(function(t){var e=function(n){var r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(M,k,L){M[k]=L.value},o,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(M,k,L){return Object.defineProperty(M,k,{value:L,enumerable:!0,configurable:!0,writable:!0}),M[k]}try{d({},"")}catch{d=function(k,L,U){return k[L]=U}}function f(M,k,L,U){var _=k&&k.prototype instanceof v?k:v,W=Object.create(_.prototype),pe=new D(U||[]);return s(W,"_invoke",{value:F(M,L,pe)}),W}n.wrap=f;function p(M,k,L){try{return{type:"normal",arg:M.call(k,L)}}catch(U){return{type:"throw",arg:U}}}var m="suspendedStart",y="suspendedYield",b="executing",g="completed",x={};function v(){}function w(){}function S(){}var E={};d(E,l,function(){return this});var C=Object.getPrototypeOf,T=C&&C(C(P([])));T&&T!==r&&i.call(T,l)&&(E=T);var A=S.prototype=v.prototype=Object.create(E);w.prototype=S,s(A,"constructor",{value:S,configurable:!0}),s(S,"constructor",{value:w,configurable:!0}),w.displayName=d(S,u,"GeneratorFunction");function N(M){["next","throw","return"].forEach(function(k){d(M,k,function(L){return this._invoke(k,L)})})}n.isGeneratorFunction=function(M){var k=typeof M=="function"&&M.constructor;return k?k===w||(k.displayName||k.name)==="GeneratorFunction":!1},n.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,S):(M.__proto__=S,d(M,u,"GeneratorFunction")),M.prototype=Object.create(A),M},n.awrap=function(M){return{__await:M}};function z(M,k){function L(W,pe,de,le){var Ee=p(M[W],M,pe);if(Ee.type==="throw")le(Ee.arg);else{var Ke=Ee.arg,He=Ke.value;return He&&typeof He=="object"&&i.call(He,"__await")?k.resolve(He.__await).then(function(Ge){L("next",Ge,de,le)},function(Ge){L("throw",Ge,de,le)}):k.resolve(He).then(function(Ge){Ke.value=Ge,de(Ke)},function(Ge){return L("throw",Ge,de,le)})}}var U;function _(W,pe){function de(){return new k(function(le,Ee){L(W,pe,le,Ee)})}return U=U?U.then(de,de):de()}s(this,"_invoke",{value:_})}N(z.prototype),d(z.prototype,c,function(){return this}),n.AsyncIterator=z,n.async=function(M,k,L,U,_){_===void 0&&(_=Promise);var W=new z(f(M,k,L,U),_);return n.isGeneratorFunction(k)?W:W.next().then(function(pe){return pe.done?pe.value:W.next()})};function F(M,k,L){var U=m;return function(W,pe){if(U===b)throw new Error("Generator is already running");if(U===g){if(W==="throw")throw pe;return I()}for(L.method=W,L.arg=pe;;){var de=L.delegate;if(de){var le=q(de,L);if(le){if(le===x)continue;return le}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(U===m)throw U=g,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);U=b;var Ee=p(M,k,L);if(Ee.type==="normal"){if(U=L.done?g:y,Ee.arg===x)continue;return{value:Ee.arg,done:L.done}}else Ee.type==="throw"&&(U=g,L.method="throw",L.arg=Ee.arg)}}}function q(M,k){var L=k.method,U=M.iterator[L];if(U===o)return k.delegate=null,L==="throw"&&M.iterator.return&&(k.method="return",k.arg=o,q(M,k),k.method==="throw")||L!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+L+"' method")),x;var _=p(U,M.iterator,k.arg);if(_.type==="throw")return k.method="throw",k.arg=_.arg,k.delegate=null,x;var W=_.arg;if(!W)return k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,x;if(W.done)k[M.resultName]=W.value,k.next=M.nextLoc,k.method!=="return"&&(k.method="next",k.arg=o);else return W;return k.delegate=null,x}N(A),d(A,u,"Generator"),d(A,l,function(){return this}),d(A,"toString",function(){return"[object Generator]"});function H(M){var k={tryLoc:M[0]};1 in M&&(k.catchLoc=M[1]),2 in M&&(k.finallyLoc=M[2],k.afterLoc=M[3]),this.tryEntries.push(k)}function V(M){var k=M.completion||{};k.type="normal",delete k.arg,M.completion=k}function D(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(H,this),this.reset(!0)}n.keys=function(M){var k=Object(M),L=[];for(var U in k)L.push(U);return L.reverse(),function _(){for(;L.length;){var W=L.pop();if(W in k)return _.value=W,_.done=!1,_}return _.done=!0,_}};function P(M){if(M){var k=M[l];if(k)return k.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length)){var L=-1,U=function _(){for(;++L<M.length;)if(i.call(M,L))return _.value=M[L],_.done=!1,_;return _.value=o,_.done=!0,_};return U.next=U}}return{next:I}}n.values=P;function I(){return{value:o,done:!0}}return D.prototype={constructor:D,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(V),!M)for(var k in this)k.charAt(0)==="t"&&i.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=o)},stop:function(){this.done=!0;var M=this.tryEntries[0],k=M.completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var k=this;function L(le,Ee){return W.type="throw",W.arg=M,k.next=le,Ee&&(k.method="next",k.arg=o),!!Ee}for(var U=this.tryEntries.length-1;U>=0;--U){var _=this.tryEntries[U],W=_.completion;if(_.tryLoc==="root")return L("end");if(_.tryLoc<=this.prev){var pe=i.call(_,"catchLoc"),de=i.call(_,"finallyLoc");if(pe&&de){if(this.prev<_.catchLoc)return L(_.catchLoc,!0);if(this.prev<_.finallyLoc)return L(_.finallyLoc)}else if(pe){if(this.prev<_.catchLoc)return L(_.catchLoc,!0)}else if(de){if(this.prev<_.finallyLoc)return L(_.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(M,k){for(var L=this.tryEntries.length-1;L>=0;--L){var U=this.tryEntries[L];if(U.tryLoc<=this.prev&&i.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var _=U;break}}_&&(M==="break"||M==="continue")&&_.tryLoc<=k&&k<=_.finallyLoc&&(_=null);var W=_?_.completion:{};return W.type=M,W.arg=k,_?(this.method="next",this.next=_.finallyLoc,x):this.complete(W)},complete:function(M,k){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&k&&(this.next=k),x},finish:function(M){for(var k=this.tryEntries.length-1;k>=0;--k){var L=this.tryEntries[k];if(L.finallyLoc===M)return this.complete(L.completion,L.afterLoc),V(L),x}},catch:function(M){for(var k=this.tryEntries.length-1;k>=0;--k){var L=this.tryEntries[k];if(L.tryLoc===M){var U=L.completion;if(U.type==="throw"){var _=U.arg;V(L)}return _}}throw new Error("illegal catch attempt")},delegateYield:function(M,k,L){return this.delegate={iterator:P(M),resultName:k,nextLoc:L},this.method==="next"&&(this.arg=o),x}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(FQ);var yw=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`;const BQ=yw;let b_=0;var PR=({id:t,action:e,payload:n={}})=>{let r=t;return typeof r>"u"&&(r=BQ("Job",b_),b_+=1),{id:r,action:e,payload:n}},ac={};let bw=!1;ac.logging=bw;ac.setLogging=t=>{bw=t};ac.log=(...t)=>bw?console.log.apply(void 0,t):null;const UQ=PR,{log:yh}=ac,qQ=yw;let x_=0;var HQ=()=>{const t=qQ("Scheduler",x_),e={},n={};let r=[];x_+=1;const i=()=>r.length,s=()=>Object.keys(e).length,o=()=>{if(r.length!==0){const d=Object.keys(e);for(let f=0;f<d.length;f+=1)if(typeof n[d[f]]>"u"){r[0](e[d[f]]);break}}},a=(d,f)=>new Promise((p,m)=>{const y=UQ({action:d,payload:f});r.push(async b=>{r.shift(),n[b.id]=y;try{p(await b[d].apply(void 0,[...f,y.id]))}catch(g){m(g)}finally{delete n[b.id],o()}}),yh(`[${t}]: Add ${y.id} to JobQueue`),yh(`[${t}]: JobQueue length=${r.length}`),o()});return{addWorker:d=>(e[d.id]=d,yh(`[${t}]: Add ${d.id}`),yh(`[${t}]: Number of workers=${s()}`),o(),d.id),addJob:async(d,...f)=>{if(s()===0)throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return a(d,f)},terminate:async()=>{Object.keys(e).forEach(async d=>{await e[d].terminate()}),r=[]},getQueueLen:i,getNumWorkers:s}};function VQ(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var WQ=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof VQ=="function"&&(e.type="node"),typeof t>"u"?e:e[t]};const KQ=WQ("type")==="browser",GQ=KQ?t=>new URL(t,window.location.href).href:t=>t;var QQ=t=>{const e={...t};return["corePath","workerPath","langPath"].forEach(n=>{t[n]&&(e[n]=GQ(e[n]))}),e},LR={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const YQ="6.0.1",JQ={version:YQ};var ZQ={workerBlobURL:!0,logger:()=>{}};const XQ=JQ.version,eY=ZQ;var tY={...eY,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${XQ}/dist/worker.min.js`},nY=({workerPath:t,workerBlobURL:e})=>{let n;if(Blob&&URL&&e){const r=new Blob([`importScripts("${t}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(t);return n},rY=t=>{t.terminate()},iY=(t,e)=>{t.onmessage=({data:n})=>{e(n)}},sY=async(t,e)=>{t.postMessage(e)};const ty=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:i}}})=>{n(Error(`File could not be read! Code=${i}`))},r.readAsArrayBuffer(t)}),Mx=async t=>{let e=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?e=atob(t.split(",")[1]).split("").map(n=>n.charCodeAt(0)):e=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(e=await Mx(t.src)),t.tagName==="VIDEO"&&(e=await Mx(t.poster)),t.tagName==="CANVAS"&&await new Promise(n=>{t.toBlob(async r=>{e=await ty(r),n()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const n=await t.convertToBlob();e=await ty(n)}else(t instanceof File||t instanceof Blob)&&(e=await ty(t));return new Uint8Array(e)};var oY=Mx;const aY=tY,lY=nY,cY=rY,uY=iY,dY=sY,hY=oY;var fY={defaultOptions:aY,spawnWorker:lY,terminateWorker:cY,onMessage:uY,send:dY,loadImage:hY};const pY=QQ,Kr=PR,{log:v_}=ac,mY=yw,uo=LR,{defaultOptions:gY,spawnWorker:yY,terminateWorker:bY,onMessage:xY,loadImage:w_,send:vY}=fY;let k_=0;var $R=async(t="eng",e=uo.LSTM_ONLY,n={},r={})=>{const i=mY("Worker",k_),{logger:s,errorHandler:o,...a}=pY({...gY,...n}),l={},c=typeof t=="string"?t.split("+"):t;let u=e,d=r;const f=[uo.DEFAULT,uo.LSTM_ONLY].includes(e)&&!a.legacyCore;let p,m;const y=new Promise((P,I)=>{m=P,p=I}),b=P=>{p(P.message)};let g=yY(a);g.onerror=b,k_+=1;const x=({id:P,action:I,payload:M})=>new Promise((k,L)=>{v_(`[${i}]: Start ${P}, action=${I}`);const U=`${I}-${P}`;l[U]={resolve:k,reject:L},vY(g,{workerId:i,jobId:P,action:I,payload:M})}),v=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),w=P=>x(Kr({id:P,action:"load",payload:{options:{lstmOnly:f,corePath:a.corePath,logging:a.logging}}})),S=(P,I,M)=>x(Kr({id:M,action:"FS",payload:{method:"writeFile",args:[P,I]}})),E=(P,I)=>x(Kr({id:I,action:"FS",payload:{method:"readFile",args:[P,{encoding:"utf8"}]}})),C=(P,I)=>x(Kr({id:I,action:"FS",payload:{method:"unlink",args:[P]}})),T=(P,I,M)=>x(Kr({id:M,action:"FS",payload:{method:P,args:I}})),A=(P,I)=>x(Kr({id:I,action:"loadLanguage",payload:{langs:P,options:{langPath:a.langPath,dataPath:a.dataPath,cachePath:a.cachePath,cacheMethod:a.cacheMethod,gzip:a.gzip,lstmOnly:[uo.DEFAULT,uo.LSTM_ONLY].includes(u)&&!a.legacyLang}}})),N=(P,I,M,k)=>x(Kr({id:k,action:"initialize",payload:{langs:P,oem:I,config:M}})),z=(P="eng",I,M,k)=>{if(f&&[uo.TESSERACT_ONLY,uo.TESSERACT_LSTM_COMBINED].includes(I))throw Error("Legacy model requested but code missing.");const L=I||u;u=L;const U=M||d;d=U;const W=(typeof P=="string"?P.split("+"):P).filter(pe=>!c.includes(pe));return c.push(...W),W.length>0?A(W,k).then(()=>N(P,L,U,k)):N(P,L,U,k)},F=(P={},I)=>x(Kr({id:I,action:"setParameters",payload:{params:P}})),q=async(P,I={},M={text:!0},k)=>x(Kr({id:k,action:"recognize",payload:{image:await w_(P),options:I,output:M}})),H=async(P,I)=>{if(f)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return x(Kr({id:I,action:"detect",payload:{image:await w_(P)}}))},V=async()=>(g!==null&&(bY(g),g=null),Promise.resolve());xY(g,({workerId:P,jobId:I,status:M,action:k,data:L})=>{const U=`${k}-${I}`;if(M==="resolve")v_(`[${P}]: Complete ${I}`),l[U].resolve({jobId:I,data:L}),delete l[U];else if(M==="reject")if(l[U].reject(L),delete l[U],k==="load"&&p(L),o)o(L);else throw Error(L);else M==="progress"&&s({...L,userJobId:I})});const D={id:i,worker:g,load:v,writeText:S,readText:E,removeFile:C,FS:T,reinitialize:z,setParameters:F,recognize:q,detect:H,terminate:V};return w().then(()=>A(t)).then(()=>N(t,e,r)).then(()=>m(D)).catch(()=>{}),y};const zR=$R,wY=async(t,e,n)=>{const r=await zR(e,1,n);return r.recognize(t).finally(async()=>{await r.terminate()})},kY=async(t,e)=>{const n=await zR("osd",0,e);return n.detect(t).finally(async()=>{await n.terminate()})};var EY={recognize:wY,detect:kY},SY={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},_Y={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const NY=HQ,TY=$R,CY=EY,AY=SY,OY=LR,IY=_Y,{setLogging:RY}=ac;var MY={languages:AY,OEM:OY,PSM:IY,createScheduler:NY,createWorker:TY,setLogging:RY,...CY};function jY({onImageProcessed:t,apiKey:e}){const[n,r]=O.useState(!1),[i,s]=O.useState("idle"),[o,a]=O.useState(null),[l,c]=O.useState(null),[u,d]=O.useState(""),[f,p]=O.useState(!1),m=O.useCallback(S=>{if(S.length>0){const E=S[0];a(E),s("idle");const C=new FileReader;C.onloadend=()=>{c(C.result)},C.readAsDataURL(E)}},[]),{getRootProps:y,getInputProps:b,isDragActive:g}=DR({onDrop:m,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".bmp",".webp"]},maxFiles:1,maxSize:10*1024*1024,disabled:n}),x=async()=>{var E,C,T;if(!o){ie.error("Please select an image first");return}r(!0),s("uploading");let S=null;try{s("analyzing"),console.log("[OCR] Starting FREE Tesseract.js OCR processing..."),S=await MY.createWorker(["eng"],1,{logger:H=>{H.status==="recognizing text"&&console.log(`[OCR] Progress: ${(H.progress*100).toFixed(0)}%`)}}),await S.setParameters({tessedit_pageseg_mode:"3",preserve_interword_spaces:"1"}),s("extracting");const{data:A}=await S.recognize(o);await S.terminate(),S=null;const N=A.text.trim();if(!N||N.length<5)throw new Error("No text could be extracted from the image. Make sure the image contains clear, readable text.");console.log(`[OCR]  Extracted ${N.length} characters`);let z=N,F="Text extracted successfully using advanced OCR";if(e&&N.length>20)try{s("analyzing"),console.log("[OCR] Enhancing with AI analysis...");const H=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,"HTTP-Referer":window.location.origin,"X-Title":"SlideTutor AI - Advanced OCR Enhancement"},body:JSON.stringify({model:"qwen/qwen-2.5-7b-instruct:free",messages:[{role:"system",content:`You are an advanced OCR enhancement AI specializing in:
- Mathematical equations & formulas (LaTeX, symbolic notation)
- Diagrams, flowcharts, and technical drawings
- Tables, charts, and graphs (data extraction)
- Handwritten notes and signatures
- Multi-language text (English, Spanish, French, German, Chinese)
- Technical and scientific notation

Your goal is to transform raw OCR output into perfectly formatted, accurate content.`},{role:"user",content:`Analyze and enhance this OCR-extracted text with MAXIMUM accuracy:

\`\`\`
${N}
\`\`\`

**Enhancement Tasks:**

1. **Error Correction**: Fix ALL OCR mistakes, typos, character confusion (e.g., 1/l, 0/O, 5/S)

2. **Content Type Detection**:
   - If MATHEMATICAL: Identify equations, formulas, variables
   - If DIAGRAM/CHART: Describe structure, flow, relationships
   - If TABLE: Extract data into markdown table format
   - If HANDWRITING: Interpret and correct while preserving meaning

3. **Mathematical Content**:
   - Format equations using LaTeX in code blocks: \`\`\`latex ... \`\`\`
   - Preserve variables, operators, subscripts, superscripts
   - Maintain equation numbering and references

4. **Tables & Charts**:
   - Reconstruct tables using markdown syntax
   - Extract data points from charts/graphs
   - Preserve column headers, row labels, units

5. **Diagrams**:
   - Describe components, connections, flow direction
   - List labels, annotations, key elements
   - Explain relationships between parts

6. **Formatting**:
   - Use markdown headers (##), bold (**text**), lists (-, 1.)
   - Code blocks for code/formulas: \`\`\`language ... \`\`\`
   - Blockquotes for important notes: > text
   - Horizontal rules for sections: ---

7. **Multi-Language Support**:
   - Detect language automatically
   - Preserve technical terms in original language
   - Translate if needed (indicate with [EN])

8. **Quality Standards**:
   - Zero information loss
   - Professional formatting
   - Clear section hierarchy
   - Readable and scannable

Return ONLY the enhanced, formatted content. No explanations.`}],temperature:.2,max_tokens:6e3,top_p:.95})});if(H.ok){const D=(T=(C=(E=(await H.json()).choices)==null?void 0:E[0])==null?void 0:C.message)==null?void 0:T.content;D&&(z=D,F="Text extracted with OCR and enhanced with AI formatting",console.log("[OCR]  AI enhancement complete"))}}catch{console.log("[OCR] AI enhancement failed, using raw OCR text")}const q={text:z,description:F,filename:o.name};d(z),p(!!(e&&N.length>20&&z!==N)),s("success"),t(q),ie.success(`Successfully extracted ${N.length} characters from image!`),setTimeout(()=>{r(!1)},1500)}catch(A){if(console.error("Image processing error:",A),s("error"),S)try{await S.terminate()}catch(N){console.error("Error terminating worker:",N)}ie.error(A.message||"Failed to process image. Please ensure the image contains clear, readable text."),setTimeout(()=>{s("idle"),r(!1)},2e3)}},v=()=>{a(null),c(null),s("idle"),r(!1),d(""),p(!1)},w=()=>{navigator.clipboard.writeText(u),ie.success("Text copied to clipboard!")};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"glass-card p-8 rounded-2xl border border-border/40 bg-gradient-to-br from-purple-500/5 via-transparent to-indigo-500/5",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-indigo-500 rounded-2xl flex items-center justify-center shadow-lg shadow-purple-500/30",children:h.jsx(Ic,{className:"w-8 h-8 text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-1",children:"Snap & Extract Instantly"}),h.jsx("p",{className:"text-muted-foreground",children:"Transform any image into editable text - handwriting, equations, diagrams & more!"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"glass-card p-4 rounded-xl border border-border/30",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:h.jsx(Jn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-lg font-bold text-foreground",children:"100% Free"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Zero API costs"})]})]})}),h.jsx("div",{className:"glass-card p-4 rounded-xl border border-border/30",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-indigo-500/10 rounded-lg flex items-center justify-center",children:h.jsx(F4,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-lg font-bold text-foreground",children:"AI Enhanced"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Smart formatting"})]})]})}),h.jsx("div",{className:"glass-card p-4 rounded-xl border border-border/30",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:h.jsx(Ic,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-lg font-bold text-foreground",children:"Universal"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Charts & diagrams"})]})]})})]})]}),h.jsx("div",{className:"glass-card p-6 rounded-2xl border border-border/40",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{...y(),className:`border-2 border-dashed rounded-xl p-8 text-center transition-all cursor-pointer ${g?"border-primary bg-primary/5":"border-border hover:border-primary/50 bg-background/50"} ${n?"opacity-50 cursor-not-allowed":""}`,children:[h.jsx("input",{...b()}),l?h.jsxs("div",{className:"space-y-3",children:[h.jsx("img",{src:l,alt:"Preview",className:"max-h-64 mx-auto rounded-lg border border-border/50"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:o==null?void 0:o.name}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:[o&&(o.size/1024).toFixed(2)," KB"]})]}),!n&&h.jsx("button",{onClick:S=>{S.stopPropagation(),v()},className:"text-xs text-primary hover:text-primary/80 transition-colors",children:"Clear & select another"})]}):h.jsxs(h.Fragment,{children:[h.jsx(Bo,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),g?h.jsx("p",{className:"text-sm text-primary font-medium",children:"Drop the image here..."}):h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-foreground font-medium mb-1",children:"Drag & drop an image here, or click to select"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports PNG, JPG, JPEG, GIF, BMP, WebP (max 10MB)"})]})]})]}),i!=="idle"&&h.jsxs("div",{className:"flex items-center gap-3 p-4 bg-background/50 rounded-lg border border-border",children:[i==="uploading"&&h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-5 h-5 text-primary animate-spin"}),h.jsx("span",{className:"text-sm text-muted-foreground",children:"Preparing image..."})]}),i==="analyzing"&&h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-5 h-5 text-primary animate-spin"}),h.jsx("span",{className:"text-sm text-muted-foreground",children:"Analyzing image with AI vision..."})]}),i==="extracting"&&h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-5 h-5 text-primary animate-spin"}),h.jsx("span",{className:"text-sm text-muted-foreground",children:"Extracting text and content..."})]}),i==="success"&&h.jsxs(h.Fragment,{children:[h.jsx(Wi,{className:"w-5 h-5 text-green-500"}),h.jsx("span",{className:"text-sm text-green-600 dark:text-green-400",children:"Image processed successfully!"})]}),i==="error"&&h.jsxs(h.Fragment,{children:[h.jsx(fd,{className:"w-5 h-5 text-red-500"}),h.jsx("span",{className:"text-sm text-error dark:text-red-400",children:"Processing failed. Please try again."})]})]}),h.jsx("button",{onClick:x,disabled:n||!o,className:"w-full px-4 py-3 bg-gradient-to-r from-purple-700 to-indigo-700 dark:from-purple-600 dark:to-indigo-600 hover:from-purple-800 hover:to-indigo-800 dark:hover:from-purple-500 dark:hover:to-indigo-500 text-white rounded-xl transition-all shadow-lg shadow-purple-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-semibold",children:n?h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-5 h-5 animate-spin"}),"Processing with AI Vision..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Ic,{className:"w-5 h-5"}),"Analyze Image with AI"]})}),h.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 rounded-xl border border-purple-500/20",children:[h.jsxs("h4",{className:"text-sm font-bold text-foreground mb-2 flex items-center gap-2",children:[h.jsx(Jn,{className:"w-4 h-4 text-purple-500"}),"Text Recognition"]}),h.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[h.jsx("li",{children:" Printed text (books, documents)"}),h.jsx("li",{children:" Handwritten notes & signatures"}),h.jsx("li",{children:" Multiple languages supported"})]})]}),h.jsxs("div",{className:"p-4 bg-gradient-to-br from-indigo-500/10 to-blue-500/10 rounded-xl border border-indigo-500/20",children:[h.jsxs("h4",{className:"text-sm font-bold text-foreground mb-2 flex items-center gap-2",children:[h.jsx(Ic,{className:"w-4 h-4 text-indigo-500"}),"Visual Analysis"]}),h.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[h.jsx("li",{children:" Mathematical equations & formulas"}),h.jsx("li",{children:" Diagrams, charts & tables"}),h.jsx("li",{children:" Technical notation & symbols"})]})]})]}),h.jsx("div",{className:"mt-3 p-3 bg-primary/5 rounded-xl border border-primary/20",children:h.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.jsx("span",{className:"font-semibold text-foreground",children:"Pro Tip:"})," Higher resolution images (1200x1200+ pixels) provide significantly better accuracy, especially for handwriting and complex equations!"]})})]})}),u&&h.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-border/40 space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center shadow-lg shadow-green-500/30",children:h.jsx(Jn,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Extracted Text & Analysis"}),f&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-purple-600 dark:text-purple-400",children:[h.jsx(Il,{className:"w-3 h-3"}),h.jsx("span",{children:"AI Enhanced & Formatted"})]})]})]}),h.jsxs("button",{onClick:w,className:"px-4 py-2 bg-primary/10 hover:bg-primary/20 text-primary rounded-lg transition-colors flex items-center gap-2 text-sm font-medium",children:[h.jsx(lm,{className:"w-4 h-4"}),"Copy Text"]})]}),h.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:h.jsxs("div",{className:"glass-card p-6 rounded-xl border border-border/30 bg-background/50",children:[h.jsxs("div",{className:"text-sm font-semibold text-primary mb-3 flex items-center gap-2",children:[h.jsx(Jn,{className:"w-4 h-4"}),"EXTRACTED CONTENT"]}),f?h.jsx(km,{content:u}):h.jsx("div",{className:"whitespace-pre-wrap text-foreground font-mono text-sm leading-relaxed",children:u})]})}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground border-t border-border/30 pt-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-semibold text-foreground",children:u.length}),h.jsx("span",{children:"characters extracted"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-semibold text-foreground",children:u.split(/\s+/).length}),h.jsx("span",{children:"words"})]}),f&&h.jsxs("div",{className:"flex items-center gap-2 text-purple-600 dark:text-purple-400",children:[h.jsx(Il,{className:"w-3 h-3"}),h.jsx("span",{children:"Enhanced with AI"})]})]})]})]})}var xd={},DY=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},FR={},rr={};let xw;const PY=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];rr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};rr.getSymbolTotalCodewords=function(e){return PY[e]};rr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};rr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');xw=e};rr.isKanjiModeEnabled=function(){return typeof xw<"u"};rr.toSJIS=function(e){return xw(e)};var _m={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(_m);function BR(){this.buffer=[],this.length=0}BR.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var LY=BR;function vd(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}vd.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};vd.prototype.get=function(t,e){return this.data[t*this.size+e]};vd.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};vd.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var $Y=vd,UR={};(function(t){const e=rr.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(UR);var qR={};const zY=rr.getSymbolSize,E_=7;qR.getPositions=function(e){const n=zY(e);return[[0,0],[n-E_,0],[0,n-E_]]};var HR={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let d=0;d<s;d++){a=l=0,c=u=null;for(let f=0;f<s;f++){let p=i.get(d,f);p===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=p,a=1),p=i.get(f,d),p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(HR);var Nm={};const As=_m,bh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],xh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Nm.getBlocksCount=function(e,n){switch(n){case As.L:return bh[(e-1)*4+0];case As.M:return bh[(e-1)*4+1];case As.Q:return bh[(e-1)*4+2];case As.H:return bh[(e-1)*4+3];default:return}};Nm.getTotalCodewordsCount=function(e,n){switch(n){case As.L:return xh[(e-1)*4+0];case As.M:return xh[(e-1)*4+1];case As.Q:return xh[(e-1)*4+2];case As.H:return xh[(e-1)*4+3];default:return}};var VR={},Tm={};const tu=new Uint8Array(512),Zf=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)tu[n]=e,Zf[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)tu[n]=tu[n-255]})();Tm.log=function(e){if(e<1)throw new Error("log("+e+")");return Zf[e]};Tm.exp=function(e){return tu[e]};Tm.mul=function(e,n){return e===0||n===0?0:tu[Zf[e]+Zf[n]]};(function(t){const e=Tm;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(VR);const WR=VR;function vw(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}vw.prototype.initialize=function(e){this.degree=e,this.genPoly=WR.generateECPolynomial(this.degree)};vw.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=WR.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var FY=vw,KR={},ro={},ww={};ww.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var fi={};const GR="[0-9]+",BY="[A-Z $%*+\\-./:]+";let qu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";qu=qu.replace(/u/g,"\\u");const UY="(?:(?![A-Z0-9 $%*+\\-./:]|"+qu+`)(?:.|[\r
]))+`;fi.KANJI=new RegExp(qu,"g");fi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");fi.BYTE=new RegExp(UY,"g");fi.NUMERIC=new RegExp(GR,"g");fi.ALPHANUMERIC=new RegExp(BY,"g");const qY=new RegExp("^"+qu+"$"),HY=new RegExp("^"+GR+"$"),VY=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");fi.testKanji=function(e){return qY.test(e)};fi.testNumeric=function(e){return HY.test(e)};fi.testAlphanumeric=function(e){return VY.test(e)};(function(t){const e=ww,n=fi;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(ro);(function(t){const e=rr,n=Nm,r=_m,i=ro,s=ww,o=7973,a=e.getBCHDigit(o);function l(f,p,m){for(let y=1;y<=40;y++)if(p<=t.getCapacity(y,m,f))return y}function c(f,p){return i.getCharCountIndicator(f,p)+4}function u(f,p){let m=0;return f.forEach(function(y){const b=c(y.mode,p);m+=b+y.getBitsLength()}),m}function d(f,p){for(let m=1;m<=40;m++)if(u(f,m)<=t.getCapacity(m,p,i.MIXED))return m}t.from=function(p,m){return s.isValid(p)?parseInt(p,10):m},t.getCapacity=function(p,m,y){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const b=e.getSymbolTotalCodewords(p),g=n.getTotalCodewordsCount(p,m),x=(b-g)*8;if(y===i.MIXED)return x;const v=x-c(y,p);switch(y){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(p,m){let y;const b=r.from(m,r.M);if(Array.isArray(p)){if(p.length>1)return d(p,b);if(p.length===0)return 1;y=p[0]}else y=p;return l(y.mode,y.getLength(),b)},t.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let m=p<<12;for(;e.getBCHDigit(m)-a>=0;)m^=o<<e.getBCHDigit(m)-a;return p<<12|m}})(KR);var QR={};const jx=rr,YR=1335,WY=21522,S_=jx.getBCHDigit(YR);QR.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;jx.getBCHDigit(i)-S_>=0;)i^=YR<<jx.getBCHDigit(i)-S_;return(r<<10|i)^WY};var JR={};const KY=ro;function $l(t){this.mode=KY.NUMERIC,this.data=t.toString()}$l.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};$l.prototype.getLength=function(){return this.data.length};$l.prototype.getBitsLength=function(){return $l.getBitsLength(this.data.length)};$l.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var GY=$l;const QY=ro,ny=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function zl(t){this.mode=QY.ALPHANUMERIC,this.data=t}zl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};zl.prototype.getLength=function(){return this.data.length};zl.prototype.getBitsLength=function(){return zl.getBitsLength(this.data.length)};zl.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=ny.indexOf(this.data[n])*45;r+=ny.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(ny.indexOf(this.data[n]),6)};var YY=zl;const JY=ro;function Fl(t){this.mode=JY.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Fl.getBitsLength=function(e){return e*8};Fl.prototype.getLength=function(){return this.data.length};Fl.prototype.getBitsLength=function(){return Fl.getBitsLength(this.data.length)};Fl.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var ZY=Fl;const XY=ro,eJ=rr;function Bl(t){this.mode=XY.KANJI,this.data=t}Bl.getBitsLength=function(e){return e*13};Bl.prototype.getLength=function(){return this.data.length};Bl.prototype.getBitsLength=function(){return Bl.getBitsLength(this.data.length)};Bl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=eJ.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var tJ=Bl,ZR={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,d,f,p,m,y,b;!a.empty();){l=a.pop(),c=l.value,d=l.cost,f=n[c]||{};for(u in f)f.hasOwnProperty(u)&&(p=f[u],m=d+p,y=o[u],b=typeof o[u]>"u",(b||y>m)&&(o[u]=m,a.push(u,m),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var g=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(g)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(ZR);var nJ=ZR.exports;(function(t){const e=ro,n=GY,r=YY,i=ZY,s=tJ,o=fi,a=rr,l=nJ;function c(g){return unescape(encodeURIComponent(g)).length}function u(g,x,v){const w=[];let S;for(;(S=g.exec(v))!==null;)w.push({data:S[0],index:S.index,mode:x,length:S[0].length});return w}function d(g){const x=u(o.NUMERIC,e.NUMERIC,g),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,g);let w,S;return a.isKanjiModeEnabled()?(w=u(o.BYTE,e.BYTE,g),S=u(o.KANJI,e.KANJI,g)):(w=u(o.BYTE_KANJI,e.BYTE,g),S=[]),x.concat(v,w,S).sort(function(C,T){return C.index-T.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function f(g,x){switch(x){case e.NUMERIC:return n.getBitsLength(g);case e.ALPHANUMERIC:return r.getBitsLength(g);case e.KANJI:return s.getBitsLength(g);case e.BYTE:return i.getBitsLength(g)}}function p(g){return g.reduce(function(x,v){const w=x.length-1>=0?x[x.length-1]:null;return w&&w.mode===v.mode?(x[x.length-1].data+=v.data,x):(x.push(v),x)},[])}function m(g){const x=[];for(let v=0;v<g.length;v++){const w=g[v];switch(w.mode){case e.NUMERIC:x.push([w,{data:w.data,mode:e.ALPHANUMERIC,length:w.length},{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.ALPHANUMERIC:x.push([w,{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.KANJI:x.push([w,{data:w.data,mode:e.BYTE,length:c(w.data)}]);break;case e.BYTE:x.push([{data:w.data,mode:e.BYTE,length:c(w.data)}])}}return x}function y(g,x){const v={},w={start:{}};let S=["start"];for(let E=0;E<g.length;E++){const C=g[E],T=[];for(let A=0;A<C.length;A++){const N=C[A],z=""+E+A;T.push(z),v[z]={node:N,lastCount:0},w[z]={};for(let F=0;F<S.length;F++){const q=S[F];v[q]&&v[q].node.mode===N.mode?(w[q][z]=f(v[q].lastCount+N.length,N.mode)-f(v[q].lastCount,N.mode),v[q].lastCount+=N.length):(v[q]&&(v[q].lastCount=N.length),w[q][z]=f(N.length,N.mode)+4+e.getCharCountIndicator(N.mode,x))}}S=T}for(let E=0;E<S.length;E++)w[S[E]].end=0;return{map:w,table:v}}function b(g,x){let v;const w=e.getBestModeForData(g);if(v=e.from(x,w),v!==e.BYTE&&v.bit<w.bit)throw new Error('"'+g+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(w));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new n(g);case e.ALPHANUMERIC:return new r(g);case e.KANJI:return new s(g);case e.BYTE:return new i(g)}}t.fromArray=function(x){return x.reduce(function(v,w){return typeof w=="string"?v.push(b(w,null)):w.data&&v.push(b(w.data,w.mode)),v},[])},t.fromString=function(x,v){const w=d(x,a.isKanjiModeEnabled()),S=m(w),E=y(S,v),C=l.find_path(E.map,"start","end"),T=[];for(let A=1;A<C.length-1;A++)T.push(E.table[C[A]].node);return t.fromArray(p(T))},t.rawSplit=function(x){return t.fromArray(d(x,a.isKanjiModeEnabled()))}})(JR);const Cm=rr,ry=_m,rJ=LY,iJ=$Y,sJ=UR,oJ=qR,Dx=HR,Px=Nm,aJ=FY,Xf=KR,lJ=QR,cJ=ro,iy=JR;function uJ(t,e){const n=t.size,r=oJ.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function dJ(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function hJ(t,e){const n=sJ.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function fJ(t,e){const n=t.size,r=Xf.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function sy(t,e,n){const r=t.size,i=lJ.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function pJ(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function mJ(t,e,n){const r=new rJ;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),cJ.getCharCountIndicator(l.mode,t)),l.write(r)});const i=Cm.getSymbolTotalCodewords(t),s=Px.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return gJ(r,t,e)}function gJ(t,e,n){const r=Cm.getSymbolTotalCodewords(e),i=Px.getTotalCodewordsCount(e,n),s=r-i,o=Px.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),d=u+1,f=c-u,p=new aJ(f);let m=0;const y=new Array(o),b=new Array(o);let g=0;const x=new Uint8Array(t.buffer);for(let C=0;C<o;C++){const T=C<l?u:d;y[C]=x.slice(m,m+T),b[C]=p.encode(y[C]),m+=T,g=Math.max(g,T)}const v=new Uint8Array(r);let w=0,S,E;for(S=0;S<g;S++)for(E=0;E<o;E++)S<y[E].length&&(v[w++]=y[E][S]);for(S=0;S<f;S++)for(E=0;E<o;E++)v[w++]=b[E][S];return v}function yJ(t,e,n,r){let i;if(Array.isArray(t))i=iy.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=iy.rawSplit(t);c=Xf.getBestVersionForData(u,n)}i=iy.fromString(t,c||40)}else throw new Error("Invalid data");const s=Xf.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=mJ(e,n,i),a=Cm.getSymbolSize(e),l=new iJ(a);return uJ(l,e),dJ(l),hJ(l,e),sy(l,n,0),e>=7&&fJ(l,e),pJ(l,o),isNaN(r)&&(r=Dx.getBestMask(l,sy.bind(null,l,n))),Dx.applyMask(r,l),sy(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}FR.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=ry.M,i,s;return typeof n<"u"&&(r=ry.from(n.errorCorrectionLevel,ry.M),i=Xf.from(n.version),s=Dx.from(n.maskPattern),n.toSJISFunc&&Cm.setToSJISFunction(n.toSJISFunc)),yJ(e,i,r,s)};var XR={},kw={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,d=[s.color.light,s.color.dark];for(let f=0;f<c;f++)for(let p=0;p<c;p++){let m=(f*c+p)*4,y=s.color.light;if(f>=u&&p>=u&&f<c-u&&p<c-u){const b=Math.floor((f-u)/l),g=Math.floor((p-u)/l);y=d[a[b*o+g]?1:0]}r[m++]=y.r,r[m++]=y.g,r[m++]=y.b,r[m]=y.a}}})(kw);(function(t){const e=kw;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),d=c.getContext("2d"),f=d.createImageData(u,u);return e.qrToImageData(f.data,s,l),n(d,c,u),d.putImageData(f,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",d=l.rendererOpts||{};return c.toDataURL(u,d.quality)}})(XR);var eM={};const bJ=kw;function __(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function oy(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function xJ(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?oy("M",l+n,.5+c+n):oy("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=oy("h",o),o=0)):i++}return r}eM.render=function(e,n,r){const i=bJ.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+__(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+__(i.color.dark,"stroke")+' d="'+xJ(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,f),f};const vJ=DY,Lx=FR,tM=XR,wJ=eM;function Ew(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!vJ())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=Lx.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=Lx.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}xd.create=Lx.create;xd.toCanvas=Ew.bind(null,tM.render);xd.toDataURL=Ew.bind(null,tM.renderToDataURL);xd.toString=Ew.bind(null,function(t,e,n){return wJ.render(t,n)});function kJ(){const[t,e]=O.useState(null),[n,r]=O.useState("qr"),[i,s]=O.useState(""),[o,a]=O.useState({bankName:"",transactionLast4:"",payerName:""}),[l,c]=O.useState(!1),u=[{amount:50,title:"Early Supporter",icon:H4,color:"from-pink-500 to-rose-500",upiId:"pushpalsanyal9359@oksbi",benefits:["Your email listed on our Contributors page","Early access to new features","Monthly updates newsletter","Community Discord access"]},{amount:100,title:"Bronze Contributor",icon:r$,color:"from-orange-500 to-amber-500",upiId:"pushpalsanyal9359@oksbi",benefits:["Your name prominently displayed on our site","All Early Supporter benefits","Priority customer support","Beta tester for new AI features","Quarterly video calls with founders"]},{amount:250,title:"Silver Investor",icon:il,color:"from-cyan-500 to-blue-500",upiId:"pushpalsanyal9359@oksbi",benefits:["Featured profile with bio on our Investors page","All Bronze Contributor benefits","Lifetime Pro account access","Input on product roadmap","Annual exclusive investor meetup invitation","Custom acknowledgment in app credits"]},{amount:500,title:"Gold Partner",icon:Hb,color:"from-purple-500 to-indigo-500",upiId:"pushpalsanyal9359@oksbi",benefits:["Premium featured profile with custom branding","All Silver Investor benefits","Unlimited Pro accounts for your team","Direct line to founders for feedback","Annual profit-sharing (if implemented)","Recognition in all marketing materials","Early access to enterprise features"]}];O.useEffect(()=>{t&&(async()=>{const x=`upi://pay?pa=${t.upiId}&pn=SlideTutor AI&am=${t.amount}&cu=INR&tn=Investment - ${t.title}`,v=await xd.toDataURL(x,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});s(v)})()},[t]);const d=g=>{e(g),r("qr")},f=()=>{e(null),s(""),r("qr"),a({bankName:"",transactionLast4:"",payerName:""})},p=()=>{if(!i||!t)return;const g=document.createElement("a");g.download=`slidetutor-invest-${t.amount}.png`,g.href=i,g.click(),ie.success("QR code downloaded!")},m=()=>{r("form")},y=g=>Object.keys(g).map(x=>encodeURIComponent(x)+"="+encodeURIComponent(g[x])).join("&"),b=async g=>{if(g.preventDefault(),!!t){c(!0);try{const x=await fetch("/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:y({"form-name":"investor-payment-confirmation",tier:`${t.amount} - ${t.title}`,bankName:o.bankName,transactionLast4:o.transactionLast4,payerName:o.payerName})});if(x.ok||x.status===200)r("success");else throw new Error(`Server returned ${x.status}`)}catch(x){console.error("Payment confirmation error:",x),ie.error("Submission failed. Please email us at invest@slidetutor.ai")}finally{c(!1)}}};return h.jsxs(h.Fragment,{children:[h.jsxs("form",{name:"investor-payment-confirmation",netlify:"true","netlify-honeypot":"bot-field",hidden:!0,children:[h.jsx("input",{type:"text",name:"tier"}),h.jsx("input",{type:"text",name:"bankName"}),h.jsx("input",{type:"text",name:"transactionLast4"}),h.jsx("input",{type:"text",name:"payerName"})]}),h.jsxs("div",{className:"space-y-8 pb-20",children:[h.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-border/40",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 via-indigo-500/10 to-blue-500/20 animate-pulse"}),h.jsx("div",{className:"relative glass-card p-8 md:p-12",children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-500 to-indigo-500 rounded-3xl mb-6 shadow-2xl shadow-purple-500/30",children:h.jsx(F1,{className:"w-10 h-10 text-white"})}),h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-indigo-400 to-blue-400",children:"Invest in the Future of Learning"}),h.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join us in revolutionizing education with AI. Start with as little as 50 and be part of something extraordinary."}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[h.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-purple-500/30 bg-purple-500/5 transform hover:scale-105 transition-transform",children:[h.jsx(q2,{className:"w-8 h-8 text-purple-500 mx-auto mb-3"}),h.jsx("h3",{className:"text-3xl font-bold text-foreground mb-2",children:"2.5L Cr+"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Global EdTech Market by 2030"})]}),h.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-indigo-500/30 bg-indigo-500/5 transform hover:scale-105 transition-transform",children:[h.jsx(U1,{className:"w-8 h-8 text-indigo-500 mx-auto mb-3"}),h.jsx("h3",{className:"text-3xl font-bold text-foreground mb-2",children:"180 Cr+"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Learners Worldwide"})]}),h.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-blue-500/30 bg-blue-500/5 transform hover:scale-105 transition-transform",children:[h.jsx(Pn,{className:"w-8 h-8 text-blue-500 mx-auto mb-3"}),h.jsx("h3",{className:"text-3xl font-bold text-foreground mb-2",children:"AI-First"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Next-Gen Platform"})]})]})]})})]}),h.jsxs("div",{className:"glass-card p-8 rounded-3xl border border-border/40",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4 flex items-center justify-center gap-3",children:[h.jsx(K4,{className:"w-8 h-8 text-primary"}),"Choose Your Investment Level"]}),h.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:'Every contribution helps us build better AI-powered learning tools. Click "Invest Now" to proceed with payment.'})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:u.map((g,x)=>{const v=g.icon;return h.jsxs(Ye,{className:"group relative p-8 hover:shadow-2xl transition-all duration-300",children:[h.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${g.color} opacity-0 group-hover:opacity-10 transition-opacity duration-300 rounded-2xl`}),h.jsxs(Je,{className:"relative z-10 p-0",children:[h.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${g.color} rounded-2xl flex items-center justify-center mb-4 shadow-lg`,children:h.jsx(v,{className:"w-8 h-8 text-white"})}),h.jsx("div",{className:"flex items-baseline gap-2 mb-2",children:h.jsxs("span",{className:"text-4xl font-bold text-foreground",children:["",g.amount]})}),h.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:g.title}),h.jsx("ul",{className:"space-y-3 mb-6",children:g.benefits.map((w,S)=>h.jsxs("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[h.jsx(qb,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),h.jsx("span",{children:w})]},S))}),h.jsxs(sn,{onClick:()=>d(g),className:`w-full bg-gradient-to-r ${g.color} hover:opacity-90 text-white shadow-lg`,children:["Invest Now ",h.jsx(M1,{className:"w-4 h-4 ml-2"})]})]})]},x)})})]}),h.jsxs("div",{className:"glass-card p-8 rounded-3xl border border-border/40",children:[h.jsxs("h2",{className:"text-3xl font-bold text-foreground mb-6 flex items-center gap-3",children:[h.jsx(Il,{className:"w-8 h-8 text-primary"}),"Live Platform Features"]}),h.jsx("p",{className:"text-muted-foreground mb-8",children:"These features are already built and working in production:"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{icon:Pn,title:"AI Lesson Generation",desc:"Transform PDFs & PPTX into structured lessons"},{icon:bt,title:"Smart Quizzes",desc:"Adaptive difficulty with instant feedback"},{icon:Hb,title:"Intelligent Flashcards",desc:"Spaced repetition (SM-2 algorithm)"},{icon:ta,title:"AI Tutor Chat",desc:"Socratic method for deep learning"},{icon:n$,title:"Image OCR",desc:"Extract text from handwriting & diagrams"},{icon:P4,title:"Analytics Dashboard",desc:"Track progress and performance"},{icon:il,title:"Gamification",desc:"XP, levels, and achievements"},{icon:U1,title:"Leaderboards",desc:"Compete globally with peers"},{icon:Mu,title:"Goal Tracking",desc:"Set and monitor objectives"},{icon:Q4,title:"Secure Auth",desc:"Enterprise-grade security"},{icon:L1,title:"YouTube Integration",desc:"Generate lessons from videos"},{icon:F1,title:"PWA Support",desc:"Offline mode & mobile install"}].map((g,x)=>h.jsxs("div",{className:"glass-card p-5 rounded-xl border border-border/30 hover:border-primary/50 transition-all group",children:[h.jsx(g.icon,{className:"w-8 h-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),h.jsx("h3",{className:"text-base font-bold text-foreground mb-2",children:g.title}),h.jsx("p",{className:"text-xs text-muted-foreground",children:g.desc})]},x))})]}),h.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-border/40",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-indigo-500/10 to-blue-500/10"}),h.jsxs("div",{className:"relative glass-card p-12 text-center",children:[h.jsx(L1,{className:"w-16 h-16 text-primary mx-auto mb-6"}),h.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Why Invest in SlideTutor AI?"}),h.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-3xl mx-auto leading-relaxed",children:"We're democratizing education globally with AI. The EdTech market is booming, and we're positioned at the forefront with cutting-edge AI technology, a working product, and real users."})]})]})]}),t&&h.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"glass-card max-w-2xl w-full rounded-3xl border border-border/40 max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[(()=>{const g=t.icon;return h.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${t.color} rounded-xl flex items-center justify-center`,children:h.jsx(g,{className:"w-6 h-6 text-white"})})})(),h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-foreground",children:t.title}),h.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",t.amount]})]})]}),h.jsx("button",{onClick:f,className:"w-10 h-10 rounded-full hover:bg-muted flex items-center justify-center transition-colors",children:h.jsx(pd,{className:"w-5 h-5 text-foreground"})})]}),n==="qr"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h4",{className:"text-xl font-semibold text-foreground mb-2",children:"Scan QR Code to Pay"}),h.jsx("p",{className:"text-muted-foreground",children:"Use any UPI app to scan and complete payment"})]}),i&&h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx("div",{className:"p-4 bg-white rounded-2xl shadow-xl",children:h.jsx("img",{src:i,alt:"Payment QR Code",className:"w-64 h-64"})}),h.jsxs(sn,{variant:"outline",onClick:p,className:"flex items-center gap-2",children:[h.jsx(mv,{className:"w-4 h-4"}),"Download QR Code"]})]}),h.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-4",children:h.jsxs("p",{className:"text-sm text-foreground",children:[h.jsx("strong",{children:"Payment Details:"}),h.jsx("br",{}),"UPI ID: pushpalsanyal9359@oksbi",h.jsx("br",{}),"Name: Pushpal Sanyal",h.jsx("br",{}),"Amount: ",t.amount,h.jsx("br",{}),"Description: Investment - ",t.title]})}),h.jsxs(sn,{onClick:m,className:"w-full",children:["I've Completed the Payment ",h.jsx(M1,{className:"w-4 h-4 ml-2"})]})]}),n==="form"&&h.jsxs("form",{onSubmit:b,className:"space-y-6",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h4",{className:"text-xl font-semibold text-foreground mb-2",children:"Confirm Your Payment"}),h.jsx("p",{className:"text-muted-foreground",children:"Help us verify your transaction"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Bank Name Used for Payment *"}),h.jsx("input",{type:"text",required:!0,value:o.bankName,onChange:g=>a({...o,bankName:g.target.value}),className:"w-full px-4 py-3 glass-card border border-border/40 rounded-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"e.g., HDFC Bank, SBI, ICICI Bank"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Last 4 Digits of Transaction ID *"}),h.jsx("input",{type:"text",required:!0,maxLength:4,value:o.transactionLast4,onChange:g=>a({...o,transactionLast4:g.target.value.replace(/\D/g,"")}),className:"w-full px-4 py-3 glass-card border border-border/40 rounded-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"1234"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Name as Per Bank Account *"}),h.jsx("input",{type:"text",required:!0,value:o.payerName,onChange:g=>a({...o,payerName:g.target.value}),className:"w-full px-4 py-3 glass-card border border-border/40 rounded-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"Rahul Kumar Sharma"})]}),h.jsx(sn,{type:"submit",disabled:l,className:"w-full",children:l?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):h.jsxs(h.Fragment,{children:[h.jsx(vv,{className:"w-4 h-4 mr-2"}),"Submit Payment Details"]})})]}),n==="success"&&h.jsxs("div",{className:"text-center space-y-6 py-8",children:[h.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:h.jsx(qb,{className:"w-10 h-10 text-white"})}),h.jsx("h4",{className:"text-2xl font-bold text-foreground",children:"Thank You for Your Investment!"}),h.jsxs("p",{className:"text-muted-foreground max-w-md mx-auto",children:["We've received your payment details. Our team will verify the transaction and contact you within 24 hours to confirm your ",t.title," benefits."]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"A confirmation email will be sent to you shortly."}),h.jsx(sn,{onClick:f,className:"mt-4",children:"Close"})]})]})})})]})}const EJ=1500;function SJ(){const[t,e]=O.useState([]),[n,r]=O.useState(""),[i,s]=O.useState(!1),[o,a]=O.useState(!1),[l,c]=O.useState(!1),[u,d]=O.useState(!0),[f,p]=O.useState(!1),[m,y]=O.useState(!1),[b,g]=O.useState(""),x=O.useRef(null),v=O.useRef(null),w=O.useRef(null),S=O.useRef({isDetecting:!1,silenceTimer:null,audioContext:null,analyser:null}),E=O.useRef(null),C=O.useRef("");O.useEffect(()=>{if(g("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"),"speechSynthesis"in window&&(v.current=window.speechSynthesis,v.current.getVoices().length===0&&v.current.addEventListener("voiceschanged",()=>{var P;console.log("Voices loaded:",(P=v.current)==null?void 0:P.getVoices().length)})),"webkitSpeechRecognition"in window||"SpeechRecognition"in window){const P=window.webkitSpeechRecognition||window.SpeechRecognition;x.current=new P,x.current.continuous=!0,x.current.interimResults=!0,x.current.lang="en-US",x.current.maxAlternatives=1,x.current.onresult=I=>{const M=Array.from(I.results),k=M[M.length-1],L=k[0].transcript;if(k.isFinal){const U=C.current+" "+L;C.current=U.trim(),r(U.trim()),S.current.silenceTimer&&clearTimeout(S.current.silenceTimer),S.current.silenceTimer=setTimeout(()=>{const _=C.current.trim();f&&_&&F(_)},EJ)}else{const U=C.current.split(" ").slice(0,-1).join(" "),_=U?`${U} ${L}`:L;r(_)}},x.current.onerror=I=>{console.error("Speech recognition error:",I.error),I.error==="no-speech"?f&&setTimeout(()=>{if(x.current&&f)try{x.current.start()}catch{console.log("Recognition already started")}},100):I.error!=="aborted"&&(ie.error(`Voice error: ${I.error}`),s(!1),p(!1))},x.current.onend=()=>{f&&!o?setTimeout(()=>{if(x.current&&f&&!o)try{x.current.start()}catch{console.log("Recognition restart failed, already running")}},100):s(!1)}}if(t.length===0){const P={id:"welcome-"+Date.now(),role:"assistant",content:"Hello! I'm your AI Learning Coach. I'm here to teach, explain, and guide you through any topic you want to learn. Whether it's math, science, history, programming, or anything else - just ask! I'll explain things like a patient teacher would. What would you like to learn today?",timestamp:new Date};e([P])}return()=>{if(x.current)try{x.current.stop()}catch(P){console.log("Recognition stop error:",P)}v.current&&v.current.cancel(),S.current.silenceTimer&&clearTimeout(S.current.silenceTimer),E.current&&E.current.getTracks().forEach(P=>P.stop()),S.current.audioContext&&S.current.audioContext.close()}},[]),O.useEffect(()=>{var D;(D=w.current)==null||D.scrollIntoView({behavior:"smooth"})},[t]);const T=O.useCallback(async()=>{if(!x.current){ie.error("Speech recognition not supported. Please use Chrome, Edge, or Safari.");return}if(f){p(!1),s(!1);try{x.current.stop()}catch(D){console.log("Stop error:",D)}ie.success("Always-on voice mode disabled")}else{p(!0),s(!0);try{x.current.start(),ie.success("Always-on voice mode enabled! Speak naturally, I'm listening...")}catch(D){console.log("Start error (may already be running):",D)}}},[f]),A=()=>{if(!x.current){ie.error("Speech recognition not supported.");return}if(i&&!f)x.current.stop(),s(!1);else if(!f){r("");try{x.current.start(),s(!0),ie.success("Listening... Speak now!")}catch{console.log("Already listening")}}},N=O.useCallback(D=>{if(!v.current){ie.error("Text-to-speech not supported.");return}v.current.cancel();const P=new SpeechSynthesisUtterance(D);P.rate=.85,P.pitch=1,P.volume=1;const I=v.current.getVoices(),M=I.find(k=>k.lang.startsWith("en")&&(k.name.toLowerCase().includes("female")||k.name.toLowerCase().includes("samantha")||k.name.toLowerCase().includes("karen")))||I.find(k=>k.lang.startsWith("en-US"))||I[0];M&&(P.voice=M),P.onstart=()=>{if(a(!0),f&&x.current)try{x.current.stop()}catch(k){console.log("Pause listening error:",k)}},P.onend=()=>{a(!1),f&&x.current&&setTimeout(()=>{try{x.current.start()}catch(k){console.log("Resume listening error:",k)}},500)},P.onerror=k=>{console.error("Speech error:",k),a(!1)},v.current.speak(P)},[f]),z=()=>{v.current&&(v.current.cancel(),a(!1))},F=O.useCallback(async D=>{var I,M;if(!D)return;if(!b){ie.error("API key not configured");return}const P={id:Date.now().toString(),role:"user",content:D,timestamp:new Date};e(k=>[...k,P]),r(""),C.current="",c(!0);try{const k=t.slice(-10).map(le=>({role:le.role==="user"?"user":"assistant",content:le.content})),L={role:"system",content:`You are an expert AI Learning Coach and Teacher. Your goal is to help students learn effectively through clear explanations and patient guidance.

 TEACHING PRINCIPLES:
 Explain concepts clearly and simply, like a patient teacher
 Break down complex topics into easy-to-understand parts
 Use analogies and real-world examples to illustrate ideas
 Be encouraging and supportive - celebrate understanding
 Ask clarifying questions to ensure comprehension
 Build on what the student already knows
 Make learning engaging and interesting

 EXPLANATION STYLE:
 Start with the big picture before diving into details
 Use conversational, friendly language
 Provide step-by-step explanations when needed
 Give examples and counter-examples
 Highlight key points clearly
 End with a brief summary of main ideas

 GENERAL KNOWLEDGE:
 You can teach ANY subject: math, science, history, languages, programming, arts, etc.
 Draw from your broad knowledge base
 Provide accurate, helpful information
 Admit when you're unsure rather than making things up

Remember: You're a teacher, not just an answer bot. Help students truly understand!`},U=["anthropic/claude-3-haiku:free","meta-llama/llama-3.1-8b-instruct:free","google/gemini-flash-1.5-8b:free","qwen/qwen-2-7b-instruct:free","microsoft/phi-3-mini-128k-instruct:free"];let _=null,W=null;for(const le of U)try{console.log(`Trying model: ${le}`);const Ee=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"SlideTutor AI Coach"},body:JSON.stringify({model:le,messages:[L,...k,{role:"user",content:D}],temperature:.7,max_tokens:2048})});if(!Ee.ok){const Ke=await Ee.json().catch(()=>({}));console.warn(`Model ${le} failed:`,Ee.status,Ke),_=Ke;continue}if(W=await Ee.json(),W.choices&&W.choices.length>0){console.log(` Successfully using model: ${le}`);break}else{console.warn(`Model ${le} returned no choices`);continue}}catch(Ee){console.warn(`Model ${le} error:`,Ee),_=Ee;continue}if(!W||!W.choices||W.choices.length===0)throw console.error("All AI models failed. Last error:",_),new Error("All AI models are currently unavailable. Please try again in a moment.");console.log("OpenRouter API Response:",W);const pe=((M=(I=W.choices[0])==null?void 0:I.message)==null?void 0:M.content)||"Sorry, I couldn't generate a response.",de={id:(Date.now()+1).toString(),role:"assistant",content:pe,timestamp:new Date};e(le=>[...le,de]),u&&!o&&N(pe)}catch(k){console.error("AI response error:",k);const L=(k==null?void 0:k.message)||"Unknown error occurred";ie.error(`AI Error: ${L}. Check console for details.`,{duration:5e3});const U={id:(Date.now()+1).toString(),role:"assistant",content:` Error: ${L}

Please check:
 Your API key is valid
 You have internet connection
 OpenRouter service is available

Try again in a moment.`,timestamp:new Date};e(_=>[..._,U])}finally{c(!1)}},[b,t,u,N,o]),q=O.useCallback(async()=>{const D=n.trim();if(!D){f||ie.error("Please enter a message or use voice");return}C.current="",await F(D)},[n,F]),H=D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),q())},V=()=>{e([{id:"welcome-"+Date.now(),role:"assistant",content:"Conversation cleared! What would you like to learn about next?",timestamp:new Date}]),z(),ie.success("Conversation cleared")};return b?h.jsxs("div",{className:"min-h-screen bg-background p-4",children:[h.jsx("div",{className:"max-w-7xl mx-auto mb-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-purple-500 via-indigo-500 to-blue-500 flex items-center justify-center shadow-lg",children:h.jsx(Pn,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"AI Learning Coach"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Personal Teacher for Everything"})]})]}),h.jsxs(sn,{variant:"outline",onClick:()=>y(!m),className:"flex items-center gap-2",children:[h.jsx(Ol,{className:"w-4 h-4"}),"Settings"]})]})}),m&&h.jsx("div",{className:"max-w-7xl mx-auto mb-4",children:h.jsx(Ye,{children:h.jsxs(Je,{className:"p-6",children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(Ol,{className:"w-5 h-5"}),"Voice & Speech Settings"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-foreground",children:"Always-On Voice Mode"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Continuous listening like human conversation"})]}),h.jsx("button",{onClick:T,className:fe("relative inline-flex h-8 w-14 items-center rounded-full transition-colors",f?"bg-primary":"bg-muted"),children:h.jsx("span",{className:fe("inline-block h-6 w-6 transform rounded-full bg-white transition-transform shadow-lg",f?"translate-x-7":"translate-x-1")})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-foreground",children:"Auto-Speak Responses"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"AI will speak answers automatically"})]}),h.jsx("button",{onClick:()=>d(!u),className:fe("relative inline-flex h-8 w-14 items-center rounded-full transition-colors",u?"bg-primary":"bg-muted"),children:h.jsx("span",{className:fe("inline-block h-6 w-6 transform rounded-full bg-white transition-transform shadow-lg",u?"translate-x-7":"translate-x-1")})})]})]})]})})}),h.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-4 h-[calc(100vh-200px)]",children:[h.jsx(Ye,{className:"flex flex-col h-full",children:h.jsxs(Je,{className:"p-6 flex flex-col h-full",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[h.jsx(ta,{className:"w-5 h-5 text-primary"}),"Your Input"]}),f&&h.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary animate-pulse",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),"Always Listening"]})]}),h.jsxs("div",{className:"flex-1 flex flex-col",children:[h.jsx("textarea",{value:n,onChange:D=>{r(D.target.value),C.current=D.target.value},onKeyDown:H,placeholder:"Type your question or click the microphone to speak...",className:"flex-1 w-full p-4 bg-muted/30 border border-border rounded-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 resize-none text-lg"}),h.jsxs("div",{className:"flex gap-2 mt-4",children:[!f&&h.jsx(sn,{variant:i?"primary":"outline",onClick:A,className:"flex-1",disabled:f,children:i?h.jsxs(h.Fragment,{children:[h.jsx(J4,{className:"w-4 h-4 mr-2"})," Stop Listening"]}):h.jsxs(h.Fragment,{children:[h.jsx(Z4,{className:"w-4 h-4 mr-2"})," Push to Talk"]})}),h.jsx(sn,{onClick:q,disabled:!n.trim()||l,className:"flex-1",children:l?h.jsxs(h.Fragment,{children:[h.jsx(Qt,{className:"w-4 h-4 mr-2 animate-spin"})," Thinking..."]}):h.jsxs(h.Fragment,{children:[h.jsx(vv,{className:"w-4 h-4 mr-2"})," Send"]})}),h.jsx(sn,{variant:"outline",onClick:V,title:"Clear conversation",children:h.jsx(Xl,{className:"w-4 h-4"})}),o&&h.jsxs(sn,{variant:"danger",onClick:z,children:[h.jsx(o$,{className:"w-4 h-4 mr-2"}),"Stop"]})]})]})]})}),h.jsx(Ye,{className:"flex flex-col h-full",children:h.jsxs(Je,{className:"p-6 flex flex-col h-full",children:[h.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4 flex items-center gap-2",children:[h.jsx(If,{className:"w-5 h-5 text-secondary"}),"AI Teacher Response"]}),h.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2 scrollbar-thin scrollbar-thumb-primary/20 scrollbar-track-transparent",children:[t.map(D=>h.jsxs("div",{className:fe("flex gap-3 animate-fade-in-up",D.role==="user"?"justify-end":"justify-start"),children:[D.role==="assistant"&&h.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-secondary to-accent flex items-center justify-center flex-shrink-0",children:h.jsx(If,{className:"w-4 h-4 text-white"})}),h.jsxs("div",{className:fe("max-w-[85%] rounded-2xl px-4 py-3",D.role==="user"?"bg-primary text-primary-foreground":"bg-muted/50 text-foreground border border-border"),children:[h.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:D.content}),h.jsx("p",{className:"text-xs opacity-60 mt-2",children:D.timestamp.toLocaleTimeString()})]}),D.role==="user"&&h.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center flex-shrink-0",children:h.jsx(H2,{className:"w-4 h-4 text-white"})})]},D.id)),h.jsx("div",{ref:w})]})]})})]}),h.jsx("div",{className:"max-w-7xl mx-auto mt-4",children:h.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("div",{className:fe("w-2 h-2 rounded-full",i||f?"bg-green-500 animate-pulse":"bg-muted")}),i||f?"Listening":"Not listening"]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("div",{className:fe("w-2 h-2 rounded-full",o?"bg-blue-500 animate-pulse":"bg-muted")}),o?"Speaking":"Silent"]})]}),h.jsxs("span",{children:[t.length," message",t.length!==1?"s":""]})]})})]}):h.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:h.jsx(Ye,{variant:"gradient",className:"max-w-md w-full",children:h.jsx(Je,{className:"p-8",children:h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center shadow-lg",children:h.jsx(Pn,{className:"w-8 h-8 text-white"})}),h.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"AI Coach Not Configured"}),h.jsx("p",{className:"text-muted-foreground",children:"API key is required but not found in environment variables."})]})})})})}var nM={exports:{}},rM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=O;function _J(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var NJ=typeof Object.is=="function"?Object.is:_J,TJ=Ul.useState,CJ=Ul.useEffect,AJ=Ul.useLayoutEffect,OJ=Ul.useDebugValue;function IJ(t,e){var n=e(),r=TJ({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return AJ(function(){i.value=n,i.getSnapshot=e,ay(i)&&s({inst:i})},[t,n,e]),CJ(function(){return ay(i)&&s({inst:i}),t(function(){ay(i)&&s({inst:i})})},[t]),OJ(n),n}function ay(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!NJ(t,n)}catch{return!0}}function RJ(t,e){return e()}var MJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RJ:IJ;rM.useSyncExternalStore=Ul.useSyncExternalStore!==void 0?Ul.useSyncExternalStore:MJ;nM.exports=rM;var Sw=nM.exports;function Gt(t){this.content=t}Gt.prototype={constructor:Gt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Gt(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Gt(n)},addToStart:function(t,e){return new Gt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Gt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Gt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Gt.from(t),t.size?new Gt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Gt.from(t),t.size?new Gt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Gt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Gt.from=function(t){if(t instanceof Gt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Gt(e)};function iM(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=iM(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function sM(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=sM(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class G{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new G(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new G(r,i)}cutByIndex(e,n){return e==n?G.empty:e==0&&n==this.content.length?this:new G(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new G(i,s)}addToStart(e){return new G([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new G(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return iM(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return sM(this,e,n,r)}findIndex(e){if(e==0)return vh(0,e);if(e==this.size)return vh(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?vh(n+1,s):vh(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return G.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new G(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return G.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new G(n||e,r)}static from(e){if(!e)return G.empty;if(e instanceof G)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new G([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}G.empty=new G([],0);const ly={index:0,offset:0};function vh(t,e){return ly.index=t,ly.offset=e,ly}function ep(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!ep(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!ep(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Xe=class $x{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ep(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return $x.none;if(e instanceof $x)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Xe.none=[];class tp extends Error{}class se{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=aM(this.content,e+this.openStart,n);return r&&new se(r,this.openStart,this.openEnd)}removeBetween(e,n){return new se(oM(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return se.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new se(G.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new se(e,r,i)}}se.empty=new se(G.empty,0,0);function oM(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(oM(s.content,e-i-1,n-i-1)))}function aM(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=aM(o.content,e-s-1,n,o);return a&&t.replaceChild(i,o.copy(a))}function jJ(t,e,n){if(n.openStart>t.depth)throw new tp("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new tp("Inconsistent open depths");return lM(t,e,n,0)}function lM(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=lM(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Ho(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=DJ(n,t);return Ho(s,uM(t,o,a,e,r))}else return Ho(s,np(t,e,r))}function cM(t,e){if(!e.type.compatibleContent(t.type))throw new tp("Cannot join "+e.type.name+" onto "+t.type.name)}function zx(t,e,n){let r=t.node(n);return cM(r,e.node(n)),r}function qo(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function nu(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(qo(t.nodeAfter,r),s++));for(let a=s;a<o;a++)qo(i.child(a),r);e&&e.depth==n&&e.textOffset&&qo(e.nodeBefore,r)}function Ho(t,e){return t.type.checkContent(e),t.copy(e)}function uM(t,e,n,r,i){let s=t.depth>i&&zx(t,e,i+1),o=r.depth>i&&zx(n,r,i+1),a=[];return nu(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(cM(s,o),qo(Ho(s,uM(t,e,n,r,i+1)),a)):(s&&qo(Ho(s,np(t,e,i+1)),a),nu(e,n,i,a),o&&qo(Ho(o,np(n,r,i+1)),a)),nu(r,null,i,a),new G(a)}function np(t,e,n){let r=[];if(nu(null,t,n,r),t.depth>n){let i=zx(t,e,n+1);qo(Ho(i,np(t,e,n+1)),r)}return nu(e,null,n,r),new G(r)}function DJ(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(G.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Hu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Xe.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new rp(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Hu(n,r,s)}static resolveCached(e,n){let r=N_.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else N_.set(e,r=new PJ);let i=r.elts[r.i]=Hu.resolve(e,n);return r.i=(r.i+1)%LJ,i}}class PJ{constructor(){this.elts=[],this.i=0}}const LJ=12,N_=new WeakMap;class rp{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const $J=Object.create(null);class Br{constructor(e,n,r,i=Xe.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||G.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&ep(this.attrs,n||e.defaultAttrs||$J)&&Xe.sameSet(this.marks,r||Xe.none)}copy(e=null){return e==this.content?this:new Br(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Br(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return se.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new se(c,i.depth-o,s.depth-o)}replace(e,n,r){return jJ(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Hu.resolveCached(this,e)}resolveNoCache(e){return Hu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),dM(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=G.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Xe.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Xe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=G.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}Br.prototype.text=void 0;class ip extends Br{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):dM(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ip(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ip(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function dM(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ra{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new zJ(e,n);if(r.next==null)return ra.empty;let i=hM(r);r.next&&r.err("Unexpected trailing text");let s=WJ(VJ(i));return KJ(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return G.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}ra.empty=new ra(!0);class zJ{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function hM(t){let e=[];do e.push(FJ(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function FJ(t){let e=[];do e.push(BJ(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function BJ(t){let e=HJ(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=UJ(t,e);else break;return e}function T_(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function UJ(t,e){let n=T_(t),r=n;return t.eat(",")&&(t.next!="}"?r=T_(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function qJ(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function HJ(t){if(t.eat("(")){let e=hM(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=qJ(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function VJ(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function fM(t,e){return e-t}function C_(t,e){let n=[];return r(e),n.sort(fM);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function WJ(t){let e=Object.create(null);return n(C_(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);C_(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new ra(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(fM);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function KJ(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function pM(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function mM(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function gM(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function yM(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new QJ(t,r,e[r]);return n}let A_=class bM{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=yM(e,r.attrs),this.defaultAttrs=pM(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ra.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:mM(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Br(this,this.computeAttrs(e),G.from(n),Xe.setFrom(r))}createChecked(e=null,n,r){return n=G.from(n),this.checkContent(n),new Br(this,this.computeAttrs(e),n,Xe.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=G.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(G.empty,!0);return s?new Br(this,e,n.append(s),Xe.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){gM(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Xe.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new bM(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function GJ(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class QJ{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?GJ(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Am{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=yM(e,i.attrs),this.excluded=null;let s=pM(this.attrs);this.instance=s?new Xe(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Xe(this,mM(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Am(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){gM(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class xM{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Gt.from(e.nodes),n.marks=Gt.from(e.marks||{}),this.nodes=A_.compile(this.spec.nodes,this),this.marks=Am.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=ra.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?O_(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:O_(this,o.split(" "))}this.nodeFromJSON=i=>Br.fromJSON(this,i),this.markFromJSON=i=>Xe.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof A_){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new ip(r,r.defaultAttrs,e,Xe.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function O_(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function YJ(t){return t.tag!=null}function JJ(t){return t.style!=null}let ru=class Fx{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(YJ(i))this.tags.push(i);else if(JJ(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new R_(this,n,!1);return r.addAll(e,Xe.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new R_(this,n,!0);return r.addAll(e,Xe.none,n.from,n.to),se.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(eZ(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=M_(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=M_(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Fx(e,Fx.schemaRules(e)))}};const vM={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ZJ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},wM={ol:!0,ul:!0},Vu=1,Bx=2,iu=4;function I_(t,e,n){return e!=null?(e?Vu:0)|(e==="full"?Bx:0):t&&t.whitespace=="pre"?Vu|Bx:n&~iu}class wh{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=Xe.none,this.match=s||(o&iu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(G.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Vu)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=G.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(G.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!vM.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class R_{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=I_(null,n.preserveWhitespace,0)|(r?iu:0);i?s=new wh(i.type,i.attrs,Xe.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new wh(null,null,Xe.none,!0,null,o):s=new wh(e.schema.topNodeType,null,Xe.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Bx?"full":this.localPreserveWS||(i.options&Vu)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),n,!0),a[l]&&this.insertNode(o.text(a[l]),n,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;wM.hasOwnProperty(o)&&this.parser.normalizeLists&&XJ(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:ZJ.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(vM.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+a)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=Xe.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):j_(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=I_(e,s,o.options);o.options&iu&&o.content.length==0&&(a|=iu);let l=Xe.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):j_(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new wh(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Vu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function XJ(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&wM.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function eZ(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function M_(t){let e={};for(let n in t)e[n]=t[n];return e}function j_(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class ga{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=cy(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Jh(cy(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Jh(cy(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Jh(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ga(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=D_(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return D_(e.marks)}}function D_(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function cy(t){return t.document||window.document}const P_=new WeakMap;function tZ(t){let e=P_.get(t);return e===void 0&&P_.set(t,e=nZ(t)),e}function nZ(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Jh(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=tZ(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=Jh(t,f,n,r);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const kM=65535,EM=Math.pow(2,16);function rZ(t,e){return t+e*EM}function L_(t){return t&kM}function iZ(t){return(t-(t&kM))/EM}const SM=1,_M=2,Zh=4,NM=8;class Ux{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&NM)>0}get deletedBefore(){return(this.delInfo&(SM|Zh))>0}get deletedAfter(){return(this.delInfo&(_M|Zh))>0}get deletedAcross(){return(this.delInfo&Zh)>0}}class Qn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Qn.empty)return Qn.empty}recover(e){let n=0,r=L_(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+iZ(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,p=l+i+(f<0?0:u);if(r)return p;let m=e==(n<0?l:d)?null:rZ(a/3,e-l),y=e==l?_M:e==d?SM:Zh;return(n<0?e!=l:e!=d)&&(y|=NM),new Ux(p,y,m)}i+=u-c}return r?e+i:new Ux(e+i,0,null)}touches(e,n){let r=0,i=L_(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new Qn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Qn.empty:new Qn(e<0?[0,-e,0]:[0,0,e])}}Qn.empty=new Qn([]);class Wu{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Wu(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Wu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Ux(e,i,null)}}const uy=Object.create(null);class ln{getMap(){return Qn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=uy[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in uy)throw new RangeError("Duplicate use of step JSON ID "+e);return uy[e]=n,n.prototype.jsonID=e,n}}class Nt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Nt(e,null)}static fail(e){return new Nt(null,e)}static fromReplace(e,n,r,i){try{return Nt.ok(e.replace(n,r,i))}catch(s){if(s instanceof tp)return Nt.fail(s.message);throw s}}}function _w(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(_w(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return G.fromArray(r)}class Os extends ln{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new se(_w(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Nt.fromReplace(e,this.from,this.to,s)}invert(){return new Lr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Os(n.pos,r.pos,this.mark)}merge(e){return e instanceof Os&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Os(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Os(n.from,n.to,e.markFromJSON(n.mark))}}ln.jsonID("addMark",Os);class Lr extends ln{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new se(_w(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Nt.fromReplace(e,this.from,this.to,r)}invert(){return new Os(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Lr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Lr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Lr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Lr(n.from,n.to,e.markFromJSON(n.mark))}}ln.jsonID("removeMark",Lr);class Is extends ln{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Nt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Nt.fromReplace(e,this.pos,this.pos+1,new se(G.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Is(this.pos,n.marks[i]);return new Is(this.pos,this.mark)}}return new ia(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Is(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Is(n.pos,e.markFromJSON(n.mark))}}ln.jsonID("addNodeMark",Is);class ia extends ln{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Nt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Nt.fromReplace(e,this.pos,this.pos+1,new se(G.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Is(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ia(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ia(n.pos,e.markFromJSON(n.mark))}}ln.jsonID("removeNodeMark",ia);class zt extends ln{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&qx(e,this.from,this.to)?Nt.fail("Structure replace would overwrite content"):Nt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Qn([this.from,this.to-this.from,this.slice.size])}invert(e){return new zt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new zt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof zt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new zt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new zt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new zt(n.from,n.to,se.fromJSON(e,n.slice),!!n.structure)}}ln.jsonID("replace",zt);class Bt extends ln{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(qx(e,this.from,this.gapFrom)||qx(e,this.gapTo,this.to)))return Nt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Nt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Nt.fromReplace(e,this.from,this.to,r):Nt.fail("Content does not fit in gap")}getMap(){return new Qn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Bt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Bt(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Bt(n.from,n.to,n.gapFrom,n.gapTo,se.fromJSON(e,n.slice),n.insert,!!n.structure)}}ln.jsonID("replaceAround",Bt);function qx(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function sZ(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),p=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let y=0;y<d.length;y++)d[y].isInSet(m)||(o&&o.to==f&&o.mark.eq(d[y])?o.to=p:i.push(o=new Lr(f,p,d[y])));a&&a.to==f?a.to=p:s.push(a=new Os(f,p,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function oZ(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Am){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let p=0;p<i.length;p++){let m=i[p];m.step==s-1&&d.eq(i[p].style)&&(f=m)}f?(f.to=c,f.step=s):i.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new Lr(o.from,o.to,o.style)))}function Nw(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new zt(a,u,se.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new Lr(a,u,c.marks[f]));if(i&&c.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,m;for(;f=p.exec(c.text);)m||(m=new se(G.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new zt(a+f.index,a+f.index+f[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(G.empty,!0);t.replace(a,a,new se(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function aZ(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function lc(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!aZ(i,s,o))break}return null}function lZ(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=G.empty,d=0;for(let m=s,y=!1;m>n;m--)y||r.index(m)>0?(y=!0,u=G.from(r.node(m).copy(u)),d++):l--;let f=G.empty,p=0;for(let m=s,y=!1;m>n;m--)y||i.after(m+1)<i.end(m)?(y=!0,f=G.from(i.node(m).copy(f)),p++):c++;t.step(new Bt(l,c,o,a,new se(u.append(f),d,p),u.size-d,!0))}function Tw(t,e,n=null,r=t){let i=cZ(t,e),s=i&&uZ(r,e);return s?i.map($_).concat({type:e,attrs:n}).concat(s.map($_)):null}function $_(t){return{type:t,attrs:null}}function cZ(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function uZ(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function dZ(t,e,n){let r=G.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=G.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Bt(i,s,i,s,new se(r,0,0),n.length,!0))}function hZ(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&fZ(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&CM(t,o,a,s),Nw(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let u=t.mapping.slice(s),d=u.map(a,1),f=u.map(a+o.nodeSize,1);return t.step(new Bt(d,f,d+1,f-1,new se(G.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&TM(t,o,a,s),!1}})}function TM(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function CM(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function fZ(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function pZ(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Bt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new se(G.from(o),0,0),1,!0))}function $i(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),m=r&&r[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let y=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!y.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function mZ(t,e,n=1,r){let i=t.doc.resolve(e),s=G.empty,o=G.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=G.from(i.node(a).copy(s));let u=r&&r[c];o=G.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new zt(e,e,new se(s.append(o),n,n),!0))}function io(t,e){let n=t.resolve(e),r=n.index();return AM(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function gZ(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function AM(t,e){return!!(t&&e&&!t.isLeaf&&gZ(t,e))}function Om(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&AM(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function yZ(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);CM(t,u.node(),u.before(),a)}o.inlineContent&&Nw(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new zt(c,l.map(e+n,-1),se.empty,!0)),r===!0){let u=t.doc.resolve(c);TM(t,u.node(),u.before(),t.steps.length)}return t}function bZ(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function OM(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Im(t,e,n=e,r=se.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return IM(i,s,r)?new zt(e,n,r):new xZ(i,s,r).fit()}function IM(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class xZ{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=G.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=G.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new se(s,o,a);return e>-1?new Bt(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new zt(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=dy(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(G.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=dy(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new se(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=dy(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new se(Pc(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new se(Pc(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let y=0;y<s.length;y++)this.openFrontierNode(s[y]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)u.push(i.child(y));d=d.matchFragment(i)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let y=a.child(c),b=d.matchType(y.type);if(!b)break;c++,(c>1||l==0||y.content.size)&&(d=b,u.push(RM(y.mark(f.allowedMarks(y.marks)),c==1?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=Lc(this.placed,n,G.from(u)),this.frontier[n].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,b=a;y<p;y++){let g=b.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),b=g.content}this.unplaced=m?e==0?se.empty:new se(Pc(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new se(Pc(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!hy(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=hy(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=hy(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Lc(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Lc(this.placed,this.depth,G.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(G.empty,!0);n.childCount&&(this.placed=Lc(this.placed,this.frontier.length,n))}}function Pc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Pc(t.firstChild.content,e-1,n)))}function Lc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Lc(t.lastChild.content,e-1,n)))}function dy(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function RM(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,RM(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(G.empty,!0)))),t.copy(r)}function hy(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!vZ(n,s.content,o)?a:null}function vZ(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function wZ(t){return t.spec.defining||t.spec.definingForContent}function kZ(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(IM(i,s,r))return t.step(new zt(e,n,r));let o=jM(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let m=i.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==p&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],u=r.openStart;for(let f=r.content,p=0;;p++){let m=f.firstChild;if(c.push(m),p==r.openStart)break;f=m.content}for(let f=u-1;f>=0;f--){let p=c[f],m=wZ(p.type);if(m&&!p.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(m||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+u+1)%(r.openStart+1),m=c[p];if(m)for(let y=0;y<o.length;y++){let b=o[(y+l)%o.length],g=!0;b<0&&(g=!1,b=-b);let x=i.node(b-1),v=i.index(b-1);if(x.canReplaceWith(v,v,m.type,m.marks))return t.replace(i.before(b),g?s.after(b):n,new se(MM(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=o[f];p<0||(e=i.before(p),n=s.after(p))}}function MM(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(MM(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(G.empty,!0))}return t}function EZ(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=bZ(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new se(G.from(r),0,0))}function SZ(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=jM(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function jM(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class ll extends ln{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Nt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Nt.fromReplace(e,this.pos,this.pos+1,new se(G.from(i),0,n.isLeaf?0:1))}getMap(){return Qn.empty}invert(e){return new ll(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ll(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ll(n.pos,n.attr,n.value)}}ln.jsonID("attr",ll);class Ku extends ln{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Nt.ok(r)}getMap(){return Qn.empty}invert(e){return new Ku(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ku(n.attr,n.value)}}ln.jsonID("docAttr",Ku);let ql=class extends Error{};ql=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ql.prototype=Object.create(Error.prototype);ql.prototype.constructor=ql;ql.prototype.name="TransformError";class DM{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Wu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ql(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=se.empty){let i=Im(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new se(G.from(r),0,0))}delete(e,n){return this.replace(e,n,se.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return kZ(this,e,n,r),this}replaceRangeWith(e,n,r){return EZ(this,e,n,r),this}deleteRange(e,n){return SZ(this,e,n),this}lift(e,n){return lZ(this,e,n),this}join(e,n=1){return yZ(this,e,n),this}wrap(e,n){return dZ(this,e,n),this}setBlockType(e,n=e,r,i=null){return hZ(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return pZ(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new ll(e,n,r)),this}setDocAttribute(e,n){return this.step(new Ku(e,n)),this}addNodeMark(e,n){return this.step(new Is(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Xe)n.isInSet(r.marks)&&this.step(new ia(e,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new ia(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,r){return mZ(this,e,n,r),this}addMark(e,n,r){return sZ(this,e,n,r),this}removeMark(e,n,r){return oZ(this,e,n,r),this}clearIncompatible(e,n,r){return Nw(this,e,n,r),this}}const fy=Object.create(null);class Ie{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new _Z(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=se.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?se.empty:n),a==0&&B_(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),B_(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new _e(e):ja(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?ja(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):ja(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Xn(e.node(0))}static atStart(e){return ja(e,e,0,0,1)||new Xn(e)}static atEnd(e){return ja(e,e,e.content.size,e.childCount,-1)||new Xn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=fy[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in fy)throw new RangeError("Duplicate use of selection JSON ID "+e);return fy[e]=n,n.prototype.jsonID=e,n}getBookmark(){return _e.between(this.$anchor,this.$head).getBookmark()}}Ie.prototype.visible=!0;class _Z{constructor(e,n){this.$from=e,this.$to=n}}let z_=!1;function F_(t){!z_&&!t.parent.inlineContent&&(z_=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class _e extends Ie{constructor(e,n=e){F_(e),F_(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ie.near(r);let i=e.resolve(n.map(this.anchor));return new _e(i.parent.inlineContent?i:r,r)}replace(e,n=se.empty){if(super.replace(e,n),n==se.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof _e&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Rm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new _e(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ie.findFrom(n,r,!0)||Ie.findFrom(n,-r,!0);if(s)n=s.$head;else return Ie.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ie.findFrom(e,-r,!0)||Ie.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new _e(e,n)}}Ie.jsonID("text",_e);class Rm{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Rm(e.map(this.anchor),e.map(this.head))}resolve(e){return _e.between(e.resolve(this.anchor),e.resolve(this.head))}}class be extends Ie{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Ie.near(s):new be(s)}content(){return new se(G.from(this.node),0,0)}eq(e){return e instanceof be&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Cw(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new be(e.resolve(n.anchor))}static create(e,n){return new be(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}be.prototype.visible=!1;Ie.jsonID("node",be);class Cw{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Rm(r,r):new Cw(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&be.isSelectable(r)?new be(n):Ie.near(n)}}class Xn extends Ie{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=se.empty){if(n==se.empty){e.delete(0,e.doc.content.size);let r=Ie.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Xn(e)}map(e){return new Xn(e)}eq(e){return e instanceof Xn}getBookmark(){return NZ}}Ie.jsonID("all",Xn);const NZ={map(){return this},resolve(t){return new Xn(t)}};function ja(t,e,n,r,i,s=!1){if(e.inlineContent)return _e.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&be.isSelectable(a))return be.create(t,n-(i<0?a.nodeSize:0))}else{let l=ja(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function B_(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof zt||i instanceof Bt))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(Ie.near(t.doc.resolve(o),n))}const U_=1,kh=2,q_=4;class TZ extends DM{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|U_)&~kh,this.storedMarks=null,this}get selectionSet(){return(this.updated&U_)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=kh,this}ensureMarks(e){return Xe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&kh)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~kh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Xe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Ie.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=q_,this}get scrolledIntoView(){return(this.updated&q_)>0}}function H_(t,e){return!e||!t?t:t.bind(e)}class $c{constructor(e,n,r){this.name=e,this.init=H_(n.init,r),this.apply=H_(n.apply,r)}}const CZ=[new $c("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new $c("selection",{init(t,e){return t.selection||Ie.atStart(e.doc)},apply(t){return t.selection}}),new $c("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new $c("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class py{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=CZ.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new $c(r.key,r.spec.state,r))})}}class Ja{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ja(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new TZ(this)}static create(e){let n=new py(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ja(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new py(this.schema,e.plugins),r=n.fields,i=new Ja(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new py(e.schema,e.plugins),s=new Ja(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Br.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Ie.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function PM(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=PM(i,e,{})),n[r]=i}return n}class xt{constructor(e){this.spec=e,this.props={},e.props&&PM(e.props,this,this.props),this.key=e.key?e.key.key:LM("plugin")}getState(e){return e[this.key]}}const my=Object.create(null);function LM(t){return t in my?t+"$"+ ++my[t]:(my[t]=0,t+"$")}class qt{constructor(e="key"){this.key=LM(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Aw=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function $M(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const zM=(t,e,n)=>{let r=$M(t,n);if(!r)return!1;let i=Ow(r);if(!i){let o=r.blockRange(),a=o&&lc(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(GM(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Hl(s,"end")||be.isSelectable(s)))for(let o=r.depth;;o--){let a=Im(t.doc,r.before(o),r.after(o),se.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Hl(s,"end")?Ie.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):be.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},AZ=(t,e,n)=>{let r=$M(t,n);if(!r)return!1;let i=Ow(r);return i?FM(t,i,e):!1},OZ=(t,e,n)=>{let r=UM(t,n);if(!r)return!1;let i=Iw(r);return i?FM(t,i,e):!1};function FM(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Im(t.doc,s,l,se.empty);if(!c||c.from!=s||c instanceof zt&&c.slice.size>=l-s)return!1;if(n){let u=t.tr.step(c);u.setSelection(_e.create(u.doc,s)),n(u.scrollIntoView())}return!0}function Hl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const BM=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=Ow(r)}let o=s&&s.nodeBefore;return!o||!be.isSelectable(o)?!1:(e&&e(t.tr.setSelection(be.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Ow(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function UM(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const qM=(t,e,n)=>{let r=UM(t,n);if(!r)return!1;let i=Iw(r);if(!i)return!1;let s=i.nodeAfter;if(GM(t,i,e,1))return!0;if(r.parent.content.size==0&&(Hl(s,"start")||be.isSelectable(s))){let o=Im(t.doc,r.before(),r.after(),se.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Hl(s,"start")?Ie.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):be.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},HM=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=Iw(r)}let o=s&&s.nodeAfter;return!o||!be.isSelectable(o)?!1:(e&&e(t.tr.setSelection(be.create(t.doc,s.pos)).scrollIntoView()),!0)};function Iw(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const IZ=(t,e)=>{let n=t.selection,r=n instanceof be,i;if(r){if(n.node.isTextblock||!io(t.doc,n.from))return!1;i=n.from}else if(i=Om(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(be.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},RZ=(t,e)=>{let n=t.selection,r;if(n instanceof be){if(n.node.isTextblock||!io(t.doc,n.to))return!1;r=n.to}else if(r=Om(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},MZ=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&lc(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},VM=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Rw(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const jZ=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=Rw(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Ie.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},WM=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Xn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Rw(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(_e.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},KM=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if($i(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&lc(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function DZ(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof be&&e.selection.node.isBlock)return!r.parentOffset||!$i(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){l=r.end(p)==r.pos+(r.depth-p),c=r.start(p)==r.pos-(r.depth-p),a=Rw(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(l&&a?{type:a}:null),o=p;break}else{if(p==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof _e||e.selection instanceof Xn)&&u.deleteSelection();let d=u.mapping.map(r.pos),f=$i(u.doc,d,s.length,s);if(f||(s[0]=a?{type:a}:null,f=$i(u.doc,d,s.length,s)),!f)return!1;if(u.split(d,s.length,s),!l&&c&&r.node(o).type!=a){let p=u.mapping.map(r.before(o)),m=u.doc.resolve(p);a&&r.node(o-1).canReplaceWith(m.index(),m.index()+1,a)&&u.setNodeMarkup(u.mapping.map(r.before(o)),a)}return n&&n(u.scrollIntoView()),!0}}const PZ=DZ(),LZ=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(be.create(t.doc,i))),!0)};function $Z(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||io(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function GM(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&$Z(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,m=G.empty;for(let g=o.length-1;g>=0;g--)m=G.from(o[g].create(null,m));m=G.from(i.copy(m));let y=t.tr.step(new Bt(e.pos-1,p,e.pos,p,new se(m,1,0),o.length,!0)),b=y.doc.resolve(p+2*o.length);b.nodeAfter&&b.nodeAfter.type==i.type&&io(y.doc,b.pos)&&y.join(b.pos),n(y.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:Ie.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&lc(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&Hl(s,"start",!0)&&Hl(i,"end")){let p=i,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let y=s,b=1;for(;!y.isTextblock;y=y.firstChild)b++;if(p.canReplace(p.childCount,p.childCount,y.content)){if(n){let g=G.empty;for(let v=m.length-1;v>=0;v--)g=G.from(m[v].copy(g));let x=t.tr.step(new Bt(e.pos-m.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new se(g,m.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function QM(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(_e.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const zZ=QM(-1),FZ=QM(1);function BZ(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&Tw(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function V_(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function Mw(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Mw(Aw,zM,BM);Mw(Aw,qM,HM);Mw(VM,WM,KM,PZ);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function UZ(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return qZ(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function qZ(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new rp(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new rp(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=Tw(s,n,r,e);return a?(t&&HZ(t,e,a,i,n),!0):!1}function HZ(t,e,n,r,i){let s=G.empty;for(let u=n.length-1;u>=0;u--)s=G.from(n[u].type.create(n[u].attrs,s));t.step(new Bt(e.start-(r?2:0),e.end,e.start,e.end,new se(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&$i(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function VZ(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?WZ(e,n,t,s):KZ(e,n,s):!0:!1}}function WZ(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Bt(s-1,o,s,o,new se(G.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new rp(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=lc(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return io(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function KZ(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,m=n.endIndex-1,y=n.startIndex;m>y;m--)p-=i.child(m).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?G.empty:G.from(i))))return!1;let d=s.pos,f=d+o.nodeSize;return r.step(new Bt(d-(a?1:0),f+(l?1:0),d+1,f-1,new se((a?G.empty:G.from(i.copy(G.empty))).append(l?G.empty:G.from(i.copy(G.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function GZ(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=G.from(c?t.create():null),d=new se(G.from(t.create(null,G.from(a.type.create(null,u)))),c?3:1,0),f=s.start,p=s.end;n(e.tr.step(new Bt(f-(c?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}const Yt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Vl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Hx=null;const Si=function(t,e,n){let r=Hx||(Hx=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},QZ=function(){Hx=null},sa=function(t,e,n,r){return n&&(W_(t,e,n,r,-1)||W_(t,e,n,r,1))},YZ=/^(img|br|input|textarea|hr)$/i;function W_(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:mr(t))){let o=t.parentNode;if(!o||o.nodeType!=1||wd(t)||YZ.test(t.nodeName)||t.contentEditable=="false")return!1;e=Yt(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?mr(t):0}else return!1}}function mr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function JZ(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=mr(t)}else if(t.parentNode&&!wd(t))e=Yt(t),t=t.parentNode;else return null}}function ZZ(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!wd(t))e=Yt(t)+1,t=t.parentNode;else return null}}function XZ(t,e,n){for(let r=e==0,i=e==mr(t);r||i;){if(t==n)return!0;let s=Yt(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==mr(t)}}function wd(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Mm=function(t){return t.focusNode&&sa(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function vo(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function eX(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function tX(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(mr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(mr(r.startContainer),r.startOffset)}}}const ui=typeof navigator<"u"?navigator:null,K_=typeof document<"u"?document:null,so=ui&&ui.userAgent||"",Vx=/Edge\/(\d+)/.exec(so),YM=/MSIE \d/.exec(so),Wx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(so),Dn=!!(YM||Wx||Vx),qs=YM?document.documentMode:Wx?+Wx[1]:Vx?+Vx[1]:0,xr=!Dn&&/gecko\/(\d+)/i.test(so);xr&&+(/Firefox\/(\d+)/.exec(so)||[0,0])[1];const Kx=!Dn&&/Chrome\/(\d+)/.exec(so),on=!!Kx,JM=Kx?+Kx[1]:0,xn=!Dn&&!!ui&&/Apple Computer/.test(ui.vendor),Wl=xn&&(/Mobile\/\w+/.test(so)||!!ui&&ui.maxTouchPoints>2),dr=Wl||(ui?/Mac/.test(ui.platform):!1),nX=ui?/Win/.test(ui.platform):!1,Pi=/Android \d/.test(so),kd=!!K_&&"webkitFontSmoothing"in K_.documentElement.style,rX=kd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function iX(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function yi(t,e){return typeof t=="number"?t:t[e]}function sX(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function G_(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Vl(o);continue}let a=o,l=a==s.body,c=l?iX(s):sX(a),u=0,d=0;if(e.top<c.top+yi(r,"top")?d=-(c.top-e.top+yi(i,"top")):e.bottom>c.bottom-yi(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+yi(i,"top")-c.top:e.bottom-c.bottom+yi(i,"bottom")),e.left<c.left+yi(r,"left")?u=-(c.left-e.left+yi(i,"left")):e.right>c.right-yi(r,"right")&&(u=e.right-c.right+yi(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let p=a.scrollLeft,m=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let y=a.scrollLeft-p,b=a.scrollTop-m;e={left:e.left-y,top:e.top-b,right:e.right-y,bottom:e.bottom-b}}let f=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(f))break;o=f=="absolute"?o.offsetParent:Vl(o)}}function oX(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:ZM(t.dom)}}function ZM(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Vl(r));return e}function aX({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;XM(n,r==0?0:r-e)}function XM(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Ta=null;function lX(t){if(t.setActive)return t.setActive();if(Ta)return t.focus(Ta);let e=ZM(t);t.focus(Ta==null?{get preventScroll(){return Ta={preventScroll:!0},!0}}:void 0),Ta||(Ta=!1,XM(e,0))}function ej(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Si(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let m=f[p];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let y=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(y<r){n=u,r=y,i=y&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&y&&(s=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?cX(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:ej(n,i)}function cX(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=is(r,1);if(s.top!=s.bottom&&jw(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function jw(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function uX(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function dX(t,e,n){let{node:r,offset:i}=ej(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function hX(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function tj(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(jw(e,c))return tj(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function fX(t,e){let n=t.dom.ownerDocument,r,i=0,s=tX(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!jw(e,c)||(o=tj(t.dom,e,c),!o))return null}if(xn)for(let c=o;r&&c;c=Vl(c))c.draggable&&(r=void 0);if(o=uX(o,e),r){if(xr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;kd&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=hX(t,r,i,e))}a==null&&(a=dX(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Q_(t){return t.top<t.bottom||t.left<t.right}function is(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Q_(r))return r}return Array.prototype.find.call(n,Q_)||t.getBoundingClientRect()}const pX=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function nj(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=kd||xr;if(r.nodeType==3)if(o&&(pX.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=is(Si(r,i,i),n);if(xr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=is(Si(r,i-1,i-1),-1);if(c.top==l.top){let u=is(Si(r,i,i+1),-1);if(u.top!=l.top)return Sc(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Sc(is(Si(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==mr(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return gy(l.getBoundingClientRect(),!1)}if(s==null&&i<mr(r)){let l=r.childNodes[i];if(l.nodeType==1)return gy(l.getBoundingClientRect(),!0)}return gy(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==mr(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Si(l,mr(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Sc(is(c,1),!1)}if(s==null&&i<mr(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Si(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Sc(is(c,-1),!0)}return Sc(is(r.nodeType==3?Si(r):r,-n),n>=0)}function Sc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function gy(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function rj(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function mX(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return rj(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=nj(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Si(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const gX=/[\u0590-\u08ac]/;function yX(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!gX.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:rj(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:y}=t.domSelectionRange(),b=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==y;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),b}):r.pos==r.start()||r.pos==r.end()}let Y_=null,J_=null,Z_=!1;function bX(t,e,n){return Y_==e&&J_==n?Z_:(Y_=e,J_=n,Z_=n=="up"||n=="down"?mX(t,e,n):yX(t,e,n))}const vr=0,X_=1,No=2,di=3;class Ed{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=vr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Yt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof sj){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof ij&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Yt(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Yt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Yt(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Yt(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let p=0,m=0;p<this.children.length;p++){let y=this.children[p],b=m+y.size;if(s>m&&o<b)return y.setSelection(e-m-y.border,n-m-y.border,r,i);m=b}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((xr||xn)&&e==n){let{node:p,offset:m}=a;if(p.nodeType==3){if(d=!!(m&&p.nodeValue[m-1]==`
`),d&&m==p.nodeValue.length)for(let y=p,b;y;y=y.parentNode){if(b=y.nextSibling){b.nodeName=="BR"&&(a=l={node:b.parentNode,offset:Yt(b)+1});break}let g=y.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let y=p.childNodes[m-1];d=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(xr&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||d&&xn)&&sa(a.node,a.offset,u.anchorNode,u.anchorOffset)&&sa(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==n)&&!(d&&xr)){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>n){let m=a;a=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?No:X_,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=di:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?No:di}r=o}this.dirty=No}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?No:X_;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class ij extends Ed{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==vr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class xX extends Ed{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class oa extends Ed{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=ga.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new oa(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&di||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=di&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=vr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=vr}}slice(e,n,r){let i=oa.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=Qx(s,n,o,r)),e>0&&(s=Qx(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Hs extends Ed{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=ga.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=lj(u,r,n),c?l=new vX(e,n,r,i,u,d||null,f,c,s,o+1):n.isText?new jm(e,n,r,i,u,f,s):new Hs(e,n,r,i,u,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>G.empty)}return e}matchesNode(e,n,r){return this.dirty==vr&&e.eq(this.node)&&sp(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new kX(this,o&&o.node,e);_X(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Xe.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,f,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==No)&&(o&&this.protectLocalComposition(e,o),oj(this.contentDOM,this.children,e),Wl&&NX(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof _e)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=TX(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new xX(this,s,n,i);e.input.compositionNodes.push(o),this.children=Qx(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==di||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=vr}updateOuterDeco(e){if(sp(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=aj(this.dom,this.nodeDOM,Gx(this.outerDeco,this.node,n),Gx(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function eN(t,e,n,r,i){lj(r,e,t);let s=new Hs(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class jm extends Hs{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==di||this.dirty!=vr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=vr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=vr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new jm(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=di)}get domAtom(){return!1}isText(e){return this.node.text==e}}class sj extends Ed{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==vr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class vX extends Hs{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==di)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function oj(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=tN(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof oa){let l=r?r.previousSibling:t.lastChild;oj(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=tN(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const su=function(t){t&&(this.nodeName=t)};su.prototype=Object.create(null);const To=[new su];function Gx(t,e,n){if(t.length==0)return To;let r=n?To[0]:new su,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new su(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new su(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function aj(t,e,n,r){if(n==To&&r==To)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=To[0]),i=l}wX(i,a||To[0],o)}return i}function wX(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function lj(t,e,n){return aj(t,t,To,Gx(e,n,t.nodeType!=1))}function sp(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function tN(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class kX{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=EX(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=vr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=oa.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==di&&o.dom==o.contentDOM&&(o.dirty=No),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Hs){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=di&&sp(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=No,d.updateChildren(i,o+1),d.dirty=vr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!sp(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Hs.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=Hs.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new ij(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof oa;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof jm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((xn||on)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new sj(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function EX(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof oa)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function SX(t,e){return t.type.side-e.type.side}function _X(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let b=i[o++];b.widget&&(u?(d||(d=[u])).push(b):u=b)}if(u)if(d){d.sort(SX);for(let b=0;b<d.length;b++)n(d[b],c,!!l)}else n(u,c,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(c<t.childCount)p=c,f=t.child(c++);else break;for(let b=0;b<a.length;b++)a[b].to<=s&&a.splice(b--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let m=s+f.nodeSize;if(f.isText){let b=m;o<i.length&&i[o].from<b&&(b=i[o].from);for(let g=0;g<a.length;g++)a[g].to<b&&(b=a[g].to);b<m&&(l=f.cut(b-s),f=f.cut(0,b-s),m=b,p=-1)}else for(;o<i.length&&i[o].to<m;)o++;let y=f.isInline&&!f.isLeaf?a.filter(b=>!b.inline):a.slice();r(f,y,e.forChild(s,f),p),s=m}}function NX(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function TX(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Qx(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function Dw(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(Mm(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&be.isSelectable(d)&&i.parent&&!(d.isInline&&XZ(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new be(o==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,f=o;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);d=Math.min(d,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,o]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=Pw(t,u,a,d)}return c}function cj(t){return t.editable?t.hasFocus():dj(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function zi(t,e=!1){let n=t.state.selection;if(uj(t,n),!!cj(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&on){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&sa(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)AX(t);else{let{anchor:r,head:i}=n,s,o;nN&&!(n instanceof _e)&&(n.$from.parent.inlineContent||(s=rN(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=rN(t,n.to))),t.docView.setSelection(r,i,t,e),nN&&(s&&iN(s),o&&iN(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&CX(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const nN=xn||on&&JM<63;function rN(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(xn&&i&&i.contentEditable=="false")return yy(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return yy(i);if(s)return yy(s)}}function yy(t){return t.contentEditable="true",xn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function iN(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function CX(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!cj(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function AX(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Yt(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Dn&&qs<=11&&(n.disabled=!0,n.disabled=!1)}function uj(t,e){if(e instanceof be){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(sN(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else sN(t)}function sN(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Pw(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||_e.between(e,n,r)}function oN(t){return t.editable&&!t.hasFocus()?!1:dj(t)}function dj(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function OX(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return sa(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Yx(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ie.findFrom(s,e)}function ls(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function aN(t,e,n){let r=t.state.selection;if(r instanceof _e)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return ls(t,new _e(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Yx(t.state,e);return i&&i instanceof be?ls(t,i):!1}else if(!(dr&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?be.isSelectable(s)?ls(t,new be(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):kd?ls(t,new _e(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof be&&r.node.isInline)return ls(t,new _e(e>0?r.$to:r.$from));{let i=Yx(t.state,e);return i?ls(t,i):!1}}}function op(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ou(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ca(t,e){return e<0?IX(t):RX(t)}function IX(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(xr&&n.nodeType==1&&r<op(n)&&ou(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(ou(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(hj(n))break;{let a=n.previousSibling;for(;a&&ou(a,-1);)i=n.parentNode,s=Yt(a),a=a.previousSibling;if(a)n=a,r=op(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Jx(t,n,r):i&&Jx(t,i,s)}function RX(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=op(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(ou(a,1))s=n,o=++r;else break}else{if(hj(n))break;{let a=n.nextSibling;for(;a&&ou(a,1);)s=a.parentNode,o=Yt(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=op(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Jx(t,s,o)}function hj(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function MX(t,e){for(;t&&e==t.childNodes.length&&!wd(t);)e=Yt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function jX(t,e){for(;t&&!e&&!wd(t);)e=Yt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Jx(t,e,n){if(e.nodeType!=3){let s,o;(o=MX(e,n))?(e=o,n=0):(s=jX(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Mm(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&zi(t)},50)}function lN(t,e){let n=t.state.doc.resolve(e);if(!(on||nX)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function cN(t,e,n){let r=t.state.selection;if(r instanceof _e&&!r.empty||n.indexOf("s")>-1||dr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Yx(t.state,e);if(o&&o instanceof be)return ls(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Xn?Ie.near(o,e):Ie.findFrom(o,e);return a?ls(t,a):!1}return!1}function uN(t,e){if(!(t.state.selection instanceof _e))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function dN(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function DX(t){if(!xn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;dN(t,r,"true"),setTimeout(()=>dN(t,r,"false"),20)}return!1}function PX(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function LX(t,e){let n=e.keyCode,r=PX(e);if(n==8||dr&&n==72&&r=="c")return uN(t,-1)||Ca(t,-1);if(n==46&&!e.shiftKey||dr&&n==68&&r=="c")return uN(t,1)||Ca(t,1);if(n==13||n==27)return!0;if(n==37||dr&&n==66&&r=="c"){let i=n==37?lN(t,t.state.selection.from)=="ltr"?-1:1:-1;return aN(t,i,r)||Ca(t,i)}else if(n==39||dr&&n==70&&r=="c"){let i=n==39?lN(t,t.state.selection.from)=="ltr"?1:-1:1;return aN(t,i,r)||Ca(t,i)}else{if(n==38||dr&&n==80&&r=="c")return cN(t,-1,r)||Ca(t,-1);if(n==40||dr&&n==78&&r=="c")return DX(t)||cN(t,1,r)||Ca(t,1);if(r==(dr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Lw(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||ga.fromSchema(t.state.schema),a=bj(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=yj[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=a.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function fj(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=!!e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,s||r,t)}),s)return a=new se(G.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",f=>{a=f(a,t,!0)}),a;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:p}=t.state,m=ga.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let b=o.appendChild(document.createElement("p"));y&&b.appendChild(m.serializeNode(p.text(y,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=BX(n),kd&&UX(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||ru.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!$X.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=qX(hN(a,+u[1],+u[2]),u[4]);else if(a=se.maxOpen(zX(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=hN(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t,l)}),a}const $X=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function zX(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&mj(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=gj(o[o.length-1],s.length));let u=pj(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return G.from(o)}return t}function pj(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,G.from(t));return t}function mj(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=mj(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(G.from(pj(n,t,i+1))))}}function gj(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,gj(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(G.empty,!0);return t.copy(n.append(r))}function Zx(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=Zx(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(G.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function hN(t,e,n){return e<t.openStart&&(t=new se(Zx(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new se(Zx(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const yj={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let fN=null;function bj(){return fN||(fN=document.implementation.createHTMLDocument("title"))}let by=null;function FX(t){let e=window.trustedTypes;return e?(by||(by=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),by.createHTML(t)):t}function BX(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=bj().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&yj[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=FX(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function UX(t){let e=t.querySelectorAll(on?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function qX(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=G.from(l.create(r[a+1],i)),s++,o++}return new se(i,s,o)}const vn={},wn={},HX={touchstart:!0,touchmove:!0};class VX{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function WX(t){for(let e in vn){let n=vn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{GX(t,r)&&!$w(t,r)&&(t.editable||!(r.type in wn))&&n(t,r)},HX[e]?{passive:!0}:void 0)}xn&&t.dom.addEventListener("input",()=>null),Xx(t)}function Rs(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function KX(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Xx(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>$w(t,r))})}function $w(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function GX(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function QX(t,e){!$w(t,e)&&vn[e.type]&&(t.editable||!(e.type in wn))&&vn[e.type](t,e)}wn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!vj(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Pi&&on&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Wl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,vo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||LX(t,n)?n.preventDefault():Rs(t,"key")};wn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};wn.keypress=(t,e)=>{let n=e;if(vj(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||dr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof _e)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Dm(t){return{left:t.clientX,top:t.clientY}}function YX(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function zw(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function cl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function JX(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&be.isSelectable(r)?(cl(t,new be(n)),!0):!1}function ZX(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof be&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(be.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(cl(t,be.create(t.state.doc,i)),!0):!1}function XX(t,e,n,r,i){return zw(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?ZX(t,n):JX(t,n))}function eee(t,e,n,r){return zw(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function tee(t,e,n,r){return zw(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||nee(t,n,r)}function nee(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(cl(t,_e.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)cl(t,_e.create(r,a+1,a+1+o.content.size));else if(be.isSelectable(o))cl(t,be.create(r,a));else continue;return!0}}function Fw(t){return ap(t)}const xj=dr?"metaKey":"ctrlKey";vn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Fw(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&YX(n,t.input.lastClick)&&!n[xj]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(Dm(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new ree(t,o,n,!!r)):(s=="doubleClick"?eee:tee)(t,o.pos,o.inside,n)?n.preventDefault():Rs(t,"pointer"))};class ree{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[xj],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof be&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&xr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Rs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>zi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Dm(e))),this.updateAllowDefault(e),this.allowDefault||!n?Rs(this.view,"pointer"):XX(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||xn&&this.mightDrag&&!this.mightDrag.node.isAtom||on&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(cl(this.view,Ie.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Rs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Rs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}vn.touchstart=t=>{t.input.lastTouch=Date.now(),Fw(t),Rs(t,"pointer")};vn.touchmove=t=>{t.input.lastTouch=Date.now(),Rs(t,"pointer")};vn.contextmenu=t=>Fw(t);function vj(t,e){return t.composing?!0:xn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const iee=Pi?5e3:-1;wn.compositionstart=wn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof _e&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ap(t,!0),t.markCursor=null;else if(ap(t,!e.selection.empty),xr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}wj(t,iee)};wn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,wj(t,20))};function wj(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ap(t),e))}function kj(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=oee());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function see(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=JZ(e.focusNode,e.focusOffset),r=ZZ(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function oee(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ap(t,e=!1){if(!(Pi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),kj(t),e||t.docView&&t.docView.dirty){let n=Dw(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function aee(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Gu=Dn&&qs<15||Wl&&rX<604;vn.copy=wn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Gu?null:n.clipboardData,o=r.content(),{dom:a,text:l}=Lw(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):aee(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function lee(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function cee(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Qu(t,r.value,null,i,e):Qu(t,r.textContent,r.innerHTML,i,e)},50)}function Qu(t,e,n,r,i){let s=fj(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||se.empty)))return!0;if(!s)return!1;let o=lee(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Ej(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}wn.paste=(t,e)=>{let n=e;if(t.composing&&!Pi)return;let r=Gu?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Qu(t,Ej(r),r.getData("text/html"),i,n)?n.preventDefault():cee(t,n)};class Sj{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const uee=dr?"altKey":"ctrlKey";function _j(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[uee]}vn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Dm(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof be?i.to-1:i.to))){if(r&&r.mightDrag)o=be.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=be.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=Lw(t,a);(!n.dataTransfer.files.length||!on||JM>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Gu?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Gu||n.dataTransfer.setData("text/plain",c),t.dragging=new Sj(u,_j(t,n),o)};vn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};wn.dragover=wn.dragenter=(t,e)=>e.preventDefault();wn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Dm(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",m=>{o=m(o,t,!1)}):o=fj(t,Ej(n.dataTransfer),Gu?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&_j(t,n));if(t.someProp("handleDrop",m=>m(t,n,o||se.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?OM(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&be.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new be(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((y,b,g,x)=>m=x),c.setSelection(Pw(t,p,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};vn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&zi(t)},20))};vn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};vn.beforeinput=(t,e)=>{if(on&&Pi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,vo(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in wn)vn[t]=wn[t];function Yu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class lp{constructor(e,n){this.toDOM=e,this.spec=n||Vo,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new yn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof lp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Yu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Vs{constructor(e,n){this.attrs=e,this.spec=n||Vo}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new yn(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Vs&&Yu(this.attrs,e.attrs)&&Yu(this.spec,e.spec)}static is(e){return e.type instanceof Vs}destroy(){}}class Bw{constructor(e,n){this.attrs=e,this.spec=n||Vo}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new yn(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof Bw&&Yu(this.attrs,e.attrs)&&Yu(this.spec,e.spec)}destroy(){}}class yn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new yn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new yn(e,e,new lp(n,r))}static inline(e,n,r,i){return new yn(e,n,new Vs(r,i))}static node(e,n,r,i){return new yn(e,n,new Bw(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Vs}get widget(){return this.type instanceof lp}}const Da=[],Vo={};class dt{constructor(e,n){this.local=e.length?e:Da,this.children=n.length?n:Da}static create(e,n){return n.length?cp(n,e,0,Vo):nn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==nn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Vo)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?dee(this.children,o||[],e,n,r,i,s):o?new dt(o.sort(Wo),Da):nn}add(e,n){return n.length?this==nn?dt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=Tj(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,cp(u,a,c+1,Vo)),s+=3}});let o=Nj(s?Cj(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new dt(o.length?this.local.concat(o).sort(Wo):this.local,i||this.children)}remove(e){return e.length==0||this==nn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=nn?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new dt(i,r):nn}forChild(e,n){if(this==nn)return this;if(n.isLeaf)return dt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Vs){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new dt(i.sort(Wo),Da);return r?new ms([a,r]):a}return r||nn}eq(e){if(this==e)return!0;if(!(e instanceof dt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Uw(this.localsInner(e))}localsInner(e){if(this==nn)return Da;if(e.inlineContent||!this.local.some(Vs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Vs||n.push(this.local[r]);return n}forEachSet(e){e(this)}}dt.empty=new dt([],[]);dt.removeOverlap=Uw;const nn=dt.empty;class ms{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Vo));return ms.from(r)}forChild(e,n){if(n.isLeaf)return dt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=nn&&(s instanceof ms?r=r.concat(s.members):r.push(s))}return ms.from(r)}eq(e){if(!(e instanceof ms)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?Uw(r?n:n.sort(Wo)):Da}static from(e){switch(e.length){case 0:return nn;case 1:return e[0];default:return new ms(e.every(n=>n instanceof dt)?e:e.reduce((n,r)=>n.concat(r instanceof dt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function dee(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,p,m,y)=>{let b=y-m-(p-f);for(let g=0;g<a.length;g+=3){let x=a[g+1];if(x<0||f>x+u-d)continue;let v=a[g]+u-d;p>=v?a[g+1]=f<=v?-2:-1:f>=u&&b&&(a[g]+=b,a[g+1]+=b)}d+=b}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+s,-1),p=f-i,{index:m,offset:y}=r.content.findIndex(d),b=r.maybeChild(m);if(b&&y==d&&y+b.nodeSize==p){let g=a[c+2].mapInner(n,b,u+1,t[c]+s+1,o);g!=nn?(a[c]=d,a[c+1]=p,a[c+2]=g):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=hee(a,t,e,n,i,s,o),u=cp(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let p=u.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new dt(e.sort(Wo),a)}function Nj(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new yn(i.from+e,i.to+e,i.type))}return n}function hee(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function Tj(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function Cj(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function cp(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=Tj(t,a,l+n);if(c){s=!0;let u=cp(c,a,n+l+1,r);u!=nn&&i.push(l,l+a.nodeSize,u)}});let o=Nj(s?Cj(t):t,-n).sort(Wo);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new dt(o,i):nn}function Wo(t,e){return t.from-e.from||t.to-e.to}function Uw(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),pN(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),pN(e,i,r.copy(s.from,r.to)));break}}}return e}function pN(t,e,n){for(;e<t.length&&Wo(n,t[e])>0;)e++;t.splice(e,0,n)}function xy(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=nn&&e.push(r)}),t.cursorWrapper&&e.push(dt.create(t.state.doc,[t.cursorWrapper.deco])),ms.from(e)}const fee={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},pee=Dn&&qs<=11;class mee{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class gee{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new mee,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Dn&&qs<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),pee&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,fee)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(oN(this.view)){if(this.suppressingSelectionUpdates)return zi(this.view);if(Dn&&qs<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&sa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Vl(s))n.add(s);for(let s=e.anchorNode;s;s=Vl(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&oN(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(xr&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||xee(e,d)!=p)&&f.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Mm(r)&&(c=Dw(e))&&c.eq(Ie.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,zi(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),yee(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||zi(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Dn&&qs<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==e.target?Yt(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?Yt(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let mN=new WeakMap,gN=!1;function yee(t){if(!mN.has(t)&&(mN.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=xr,gN)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),gN=!0}}function yN(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return sa(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function bee(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return yN(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?yN(t,n):null}function xee(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function vee(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Mm(l)||c.push({node:l.focusNode,offset:l.focusOffset})),on&&t.input.lastKeyCode===8)for(let b=s;b>i;b--){let g=r.childNodes[b-1],x=g.pmViewDesc;if(g.nodeName=="BR"&&!x){s=b;break}if(!x||x.size)break}let d=t.state.doc,f=t.someProp("domParser")||ru.fromSchema(t.state.schema),p=d.resolve(o),m=null,y=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:wee,context:p});if(c&&c[0].pos!=null){let b=c[0].pos,g=c[1]&&c[1].pos;g==null&&(g=b),m={anchor:b+o,head:g+o}}return{doc:y,sel:m,from:o,to:a}}function wee(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(xn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||xn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const kee=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Eee(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let C=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,T=Dw(t,C);if(T&&!t.state.selection.eq(T)){if(on&&Pi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",N=>N(t,vo(13,"Enter"))))return;let A=t.state.tr.setSelection(T);C=="pointer"?A.setMeta("pointer",!0):C=="key"&&A.scrollIntoView(),s&&A.setMeta("composition",s),t.dispatch(A)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=vee(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let m=Nee(d.content,c.doc.content,c.from,f,p);if(m&&t.input.domChangeCount++,(Wl&&t.input.lastIOSEnter>Date.now()-225||Pi)&&i.some(C=>C.nodeType==1&&!kee.test(C.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",C=>C(t,vo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof _e&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let C=bN(t,t.state.doc,c.sel);if(C&&!C.eq(t.state.selection)){let T=t.state.tr.setSelection(C);s&&T.setMeta("composition",s),t.dispatch(T)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof _e&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Dn&&qs<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let y=c.doc.resolveNoCache(m.start-c.from),b=c.doc.resolveNoCache(m.endB-c.from),g=u.resolve(m.start),x=y.sameParent(b)&&y.parent.inlineContent&&g.end()>=m.endA;if((Wl&&t.input.lastIOSEnter>Date.now()-225&&(!x||i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"))||!x&&y.pos<c.doc.content.size&&(!y.sameParent(b)||!y.parent.inlineContent)&&y.pos<b.pos&&!/\S/.test(c.doc.textBetween(y.pos,b.pos,"","")))&&t.someProp("handleKeyDown",C=>C(t,vo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&_ee(u,m.start,m.endA,y,b)&&t.someProp("handleKeyDown",C=>C(t,vo(8,"Backspace")))){Pi&&on&&t.domObserver.suppressSelectionUpdates();return}on&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),Pi&&!x&&y.start()!=b.start()&&b.parentOffset==0&&y.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,b=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(C){return C(t,vo(13,"Enter"))})},20));let v=m.start,w=m.endA,S=C=>{let T=C||t.state.tr.replace(v,w,c.doc.slice(m.start-c.from,m.endB-c.from));if(c.sel){let A=bN(t,T.doc,c.sel);A&&!(on&&t.composing&&A.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(A.head==v||A.head==T.mapping.map(w)-1)||Dn&&A.empty&&A.head==v)&&T.setSelection(A)}return s&&T.setMeta("composition",s),T.scrollIntoView()},E;if(x)if(y.pos==b.pos){Dn&&qs<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>zi(t),20));let C=S(t.state.tr.delete(v,w)),T=u.resolve(m.start).marksAcross(u.resolve(m.endA));T&&C.ensureMarks(T),t.dispatch(C)}else if(m.endA==m.endB&&(E=See(y.parent.content.cut(y.parentOffset,b.parentOffset),g.parent.content.cut(g.parentOffset,m.endA-g.start())))){let C=S(t.state.tr);E.type=="add"?C.addMark(v,w,E.mark):C.removeMark(v,w,E.mark),t.dispatch(C)}else if(y.parent.child(y.index()).isText&&y.index()==b.index()-(b.textOffset?0:1)){let C=y.parent.textBetween(y.parentOffset,b.parentOffset),T=()=>S(t.state.tr.insertText(C,v,w));t.someProp("handleTextInput",A=>A(t,v,w,C,T))||t.dispatch(T())}else t.dispatch(S());else t.dispatch(S())}function bN(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Pw(t,e.resolve(n.anchor),e.resolve(n.head))}function See(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(G.from(c).eq(t))return{mark:a,type:o}}function _ee(t,e,n,r,i){if(n-e<=i.pos-r.pos||vy(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(vy(s,!0,!0));return!o.parent.isTextblock||o.pos>n||vy(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function vy(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Nee(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&xN(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&xN(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function xN(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Aj{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new VX,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(SN),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=kN(this),wN(this),this.nodeViews=EN(this),this.docView=eN(this.state.doc,vN(this),xy(this),this.dom,this),this.domObserver=new gee(this,(r,i,s,o)=>Eee(this,r,i,s,o)),this.domObserver.start(),WX(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Xx(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(SN),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(kj(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=EN(this);Cee(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Xx(this),this.editable=kN(this),wN(this);let l=xy(this),c=vN(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&oX(this);if(o){this.domObserver.stop();let p=d&&(Dn||on)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Tee(i.selection,e.selection);if(d){let m=on?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=see(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=eN(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&OX(this))?zi(this,p):(uj(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&aX(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof be){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&G_(this,n.getBoundingClientRect(),e)}else G_(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Sj(e.slice,e.move,i<0?void 0:be.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Dn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&lX(this.dom),zi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return fX(this,e)}coordsAtPos(e,n=1){return nj(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return bX(this,n||this.state,e)}pasteHTML(e,n){return Qu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Qu(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Lw(this,e)}destroy(){this.docView&&(KX(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],xy(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,QZ())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return QX(this,e)}domSelectionRange(){let e=this.domSelection();return e?xn&&this.root.nodeType===11&&eX(this.dom.ownerDocument)==this.dom&&bee(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Aj.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function vN(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[yn.node(0,t.state.doc.content.size,e)]}function wN(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:yn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function kN(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Tee(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function EN(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Cee(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function SN(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Qs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},up={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Aee=typeof navigator<"u"&&/Mac/.test(navigator.platform),Oee=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Jt=0;Jt<10;Jt++)Qs[48+Jt]=Qs[96+Jt]=String(Jt);for(var Jt=1;Jt<=24;Jt++)Qs[Jt+111]="F"+Jt;for(var Jt=65;Jt<=90;Jt++)Qs[Jt]=String.fromCharCode(Jt+32),up[Jt]=String.fromCharCode(Jt);for(var wy in Qs)up.hasOwnProperty(wy)||(up[wy]=Qs[wy]);function Iee(t){var e=Aee&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Oee&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?up:Qs)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Ree=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Mee=typeof navigator<"u"&&/Win/.test(navigator.platform);function jee(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Ree?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Dee(t){let e=Object.create(null);for(let n in t)e[jee(n)]=t[n];return e}function ky(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Pee(t){return new xt({props:{handleKeyDown:Oj(t)}})}function Oj(t){let e=Dee(t);return function(n,r){let i=Iee(r),s,o=e[ky(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[ky(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Mee&&r.ctrlKey&&r.altKey)&&(s=Qs[r.keyCode])&&s!=i){let a=e[ky(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var Lee=Object.defineProperty,qw=(t,e)=>{for(var n in e)Lee(t,n,{get:e[n],enumerable:!0})};function Pm(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var Lm=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([o,a])=>[o,(...c)=>{const u=a(...c)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o=[],a=!!t,l=t||i.tr,c=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),o.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...m)=>{const y=this.buildProps(l,e),b=f(...m)(y);return o.push(b),u}])),run:c};return u}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o={tr:t,editor:r,view:s,state:Pm({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(o)]))}};return o}},Ij={};qw(Ij,{blur:()=>$ee,clearContent:()=>zee,clearNodes:()=>Fee,command:()=>Bee,createParagraphNear:()=>Uee,cut:()=>qee,deleteCurrentNode:()=>Hee,deleteNode:()=>Vee,deleteRange:()=>Wee,deleteSelection:()=>Kee,enter:()=>Gee,exitCode:()=>Qee,extendMarkRange:()=>Yee,first:()=>Jee,focus:()=>Xee,forEach:()=>ete,insertContent:()=>tte,insertContentAt:()=>ite,joinBackward:()=>ate,joinDown:()=>ote,joinForward:()=>lte,joinItemBackward:()=>cte,joinItemForward:()=>ute,joinTextblockBackward:()=>dte,joinTextblockForward:()=>hte,joinUp:()=>ste,keyboardShortcut:()=>pte,lift:()=>mte,liftEmptyBlock:()=>gte,liftListItem:()=>yte,newlineInCode:()=>bte,resetAttributes:()=>xte,scrollIntoView:()=>vte,selectAll:()=>wte,selectNodeBackward:()=>kte,selectNodeForward:()=>Ete,selectParentNode:()=>Ste,selectTextblockEnd:()=>_te,selectTextblockStart:()=>Nte,setContent:()=>Tte,setMark:()=>Vte,setMeta:()=>Wte,setNode:()=>Kte,setNodeSelection:()=>Gte,setTextSelection:()=>Qte,sinkListItem:()=>Yte,splitBlock:()=>Jte,splitListItem:()=>Zte,toggleList:()=>Xte,toggleMark:()=>ene,toggleNode:()=>tne,toggleWrap:()=>nne,undoInputRule:()=>rne,unsetAllMarks:()=>ine,unsetMark:()=>sne,updateAttributes:()=>one,wrapIn:()=>ane,wrapInList:()=>lne});var $ee=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),zee=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),Fee=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lc(p);if(a.type.isTextblock){const{defaultType:y}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,y)}(m||m===0)&&e.lift(p,m)})}),!0},Bee=t=>e=>t(e),Uee=()=>({state:t,dispatch:e})=>WM(t,e),qee=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new _e(r.doc.resolve(Math.max(o-1,0)))),!0},Hee=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1};function Tt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Vee=t=>({tr:e,state:n,dispatch:r})=>{const i=Tt(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},Wee=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},Kee=()=>({state:t,dispatch:e})=>Aw(t,e),Gee=()=>({commands:t})=>t.keyboardShortcut("Enter"),Qee=()=>({state:t,dispatch:e})=>jZ(t,e);function Hw(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function dp(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Hw(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Rj(t,e,n={}){return t.find(r=>r.type===e&&dp(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function _N(t,e,n={}){return!!Rj(t,e,n)}function Vw(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!Rj([...i.node.marks],e,n)))return;let o=i.index,a=t.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&_N([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&_N([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Qi(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var Yee=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Qi(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=Vw(l,s,e);if(d&&d.from<=c&&d.to>=u){const f=_e.create(o,d.from,d.to);n.setSelection(f)}}return!0},Jee=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Mj(t){return t instanceof _e}function Co(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function jj(t,e=null){if(!e)return null;const n=Ie.atStart(t),r=Ie.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?_e.create(t,Co(0,i,s),Co(t.content.size,i,s)):_e.create(t,Co(e,i,s),Co(e,i,s))}function Zee(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Ww(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Xee=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Ww()||Zee())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Mj(n.state.selection))return o(),!0;const a=jj(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},ete=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),tte=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),Dj=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&Dj(r)}return t};function Eh(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Dj(n)}function Ju(t,e,n){if(t instanceof Br||t instanceof G)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return G.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Ju("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new xM({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?ru.fromSchema(l).parseSlice(Eh(t),n.parseOptions):ru.fromSchema(l).parse(Eh(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=ru.fromSchema(e);return n.slice?s.parseSlice(Eh(t),n.parseOptions).content:s.parse(Eh(t),n.parseOptions)}return Ju("",e,n)}function nte(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof zt||i instanceof Bt))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(Ie.near(t.doc.resolve(o),n))}var rte=t=>!("type"in t),ite=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=b=>{s.emit("contentError",{editor:s,error:b,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Ju(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(b){l(b)}try{a=Ju(e,s.schema,{parseOptions:c,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(b){return l(b),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,p=!0;if((rte(a)?a:[a]).forEach(b=>{b.check(),f=f?b.isText&&b.marks.length===0:!1,p=p?b.isBlock:!1}),u===d&&p){const{parent:b}=r.doc.resolve(u);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(u-=1,d+=1)}let y;if(f){if(Array.isArray(e))y=e.map(b=>b.text||"").join("");else if(e instanceof G){let b="";e.forEach(g=>{g.text&&(b+=g.text)}),y=b}else typeof e=="object"&&e&&e.text?y=e.text:y=e;r.insertText(y,u,d)}else{y=a;const b=r.doc.resolve(u),g=b.node(),x=b.parentOffset===0,v=g.isText||g.isTextblock,w=g.content.size>0;x&&v&&w&&(u=Math.max(0,u-1)),r.replaceWith(u,d,y)}n.updateSelection&&nte(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:y}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:y})}return!0},ste=()=>({state:t,dispatch:e})=>IZ(t,e),ote=()=>({state:t,dispatch:e})=>RZ(t,e),ate=()=>({state:t,dispatch:e})=>zM(t,e),lte=()=>({state:t,dispatch:e})=>qM(t,e),cte=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Om(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},ute=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Om(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},dte=()=>({state:t,dispatch:e})=>AZ(t,e),hte=()=>({state:t,dispatch:e})=>OZ(t,e);function Pj(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function fte(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Ww()||Pj()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var pte=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=fte(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Ys(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?Tt(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(i,f+d.nodeSize);a.push({node:d,from:p,to:m})});const l=i-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>dp(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var mte=(t,e={})=>({state:n,dispatch:r})=>{const i=Tt(t,n.schema);return Ys(n,i,e)?MZ(n,r):!1},gte=()=>({state:t,dispatch:e})=>KM(t,e),yte=t=>({state:e,dispatch:n})=>{const r=Tt(t,e.schema);return VZ(r)(e,n)},bte=()=>({state:t,dispatch:e})=>VM(t,e);function $m(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function NN(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var xte=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=$m(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Tt(t,r.schema)),a==="mark"&&(o=Qi(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,NN(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(NN(d.attrs,e)))})})}),!0):!1},vte=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),wte=()=>({tr:t,dispatch:e})=>{if(e){const n=new Xn(t.doc);t.setSelection(n)}return!0},kte=()=>({state:t,dispatch:e})=>BM(t,e),Ete=()=>({state:t,dispatch:e})=>HM(t,e),Ste=()=>({state:t,dispatch:e})=>LZ(t,e),_te=()=>({state:t,dispatch:e})=>FZ(t,e),Nte=()=>({state:t,dispatch:e})=>zZ(t,e);function e0(t,e,n={},r={}){return Ju(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Tte=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=e0(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return o&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return o&&s.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function Lj(t,e){const n=Qi(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function $j(t,e){const n=new DM(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function Cte(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Ate(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function Ote(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function zm(t){return e=>Ote(e.$from,t)}function ye(t,e,n){return t.config[e]===void 0&&t.parent?ye(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ye(t.parent,e,n):null}):t.config[e]}function Kw(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=ye(e,"addExtensions",n);return r?[e,...Kw(r())]:e}).flat(10)}function Gw(t,e){const n=ga.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function zj(t){return typeof t=="function"}function Ve(t,e=void 0,...n){return zj(t)?e?t.bind(e)(...n):t(...n):t}function Ite(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Zu(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Fj(t){const e=[],{nodeExtensions:n,markExtensions:r}=Zu(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=ye(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,p])=>{e.push({type:d,name:f,attribute:{...s,...p}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=ye(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...s,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:u,attribute:f})})}),e}function Ct(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=s}),r},{})}function hp(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ct(n,r),{})}function Rte(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function TN(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):Rte(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function CN(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Ite(n)?!1:n!=null))}function Mte(t,e){var n;const r=Fj(t),{nodeExtensions:i,markExtensions:s}=Zu(t),o=(n=i.find(c=>ye(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(g=>g.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((g,x)=>{const v=ye(x,"extendNodeSchema",d);return{...g,...v?v(c):{}}},{}),p=CN({...f,content:Ve(ye(c,"content",d)),marks:Ve(ye(c,"marks",d)),group:Ve(ye(c,"group",d)),inline:Ve(ye(c,"inline",d)),atom:Ve(ye(c,"atom",d)),selectable:Ve(ye(c,"selectable",d)),draggable:Ve(ye(c,"draggable",d)),code:Ve(ye(c,"code",d)),whitespace:Ve(ye(c,"whitespace",d)),linebreakReplacement:Ve(ye(c,"linebreakReplacement",d)),defining:Ve(ye(c,"defining",d)),isolating:Ve(ye(c,"isolating",d)),attrs:Object.fromEntries(u.map(g=>{var x,v;return[g.name,{default:(x=g==null?void 0:g.attribute)==null?void 0:x.default,validate:(v=g==null?void 0:g.attribute)==null?void 0:v.validate}]}))}),m=Ve(ye(c,"parseHTML",d));m&&(p.parseDOM=m.map(g=>TN(g,u)));const y=ye(c,"renderHTML",d);y&&(p.toDOM=g=>y({node:g,HTMLAttributes:hp(g,u)}));const b=ye(c,"renderText",d);return b&&(p.toText=b),[c.name,p]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((b,g)=>{const x=ye(g,"extendMarkSchema",d);return{...b,...x?x(c):{}}},{}),p=CN({...f,inclusive:Ve(ye(c,"inclusive",d)),excludes:Ve(ye(c,"excludes",d)),group:Ve(ye(c,"group",d)),spanning:Ve(ye(c,"spanning",d)),code:Ve(ye(c,"code",d)),attrs:Object.fromEntries(u.map(b=>{var g,x;return[b.name,{default:(g=b==null?void 0:b.attribute)==null?void 0:g.default,validate:(x=b==null?void 0:b.attribute)==null?void 0:x.validate}]}))}),m=Ve(ye(c,"parseHTML",d));m&&(p.parseDOM=m.map(b=>TN(b,u)));const y=ye(c,"renderHTML",d);return y&&(p.toDOM=b=>y({mark:b,HTMLAttributes:hp(b,u)})),[c.name,p]}));return new xM({topNode:o,nodes:a,marks:l})}function jte(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Qw(t){return t.sort((n,r)=>{const i=ye(n,"priority")||100,s=ye(r,"priority")||100;return i>s?-1:i<s?1:0})}function Bj(t){const e=Qw(Kw(t)),n=jte(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function Uj(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=s);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)==null?void 0:f.slice(Math.max(r,c)-c,i-c))}),a}function Dte(t,e){const n={from:0,to:t.content.size};return Uj(t,n,e)}function qj(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Pte(t,e){const n=Tt(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function Hj(t,e){const n=$m(typeof e=="string"?e:e.name,t.schema);return n==="node"?Pte(t,e):n==="mark"?Lj(t,e):{}}function Lte(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function $te(t){const e=Lte(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function Vj(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),d=e.invert().map(c,-1),f=e.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),$te(r)}function Yw(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=Vw(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}var zte=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,o=null;for(;s>0&&o===null;){const a=i.node(s);(a==null?void 0:a.type.name)===e?o=a:s-=1}return[o,s]};function Ey(t,e){return e.nodes[t]||e.marks[t]||null}function Xh(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var Fte=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),n};function t0(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Qi(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>dp(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;t.doc.nodesBetween(p,m,(y,b)=>{if(!y.isText&&!y.marks.length)return;const g=Math.max(p,b),x=Math.min(m,b+y.nodeSize),v=x-g;o+=v,a.push(...y.marks.map(w=>({mark:w,from:g,to:x})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>dp(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=o}function Bte(t,e,n={}){if(!e)return Ys(t,null,n)||t0(t,null,n);const r=$m(e,t.schema);return r==="node"?Ys(t,e,n):r==="mark"?t0(t,e,n):!1}var Ute=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=zm(a=>a.type.name===e)(t.selection);if(!s)return!1;const o=t.doc.resolve(s.pos+1);return i.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},qte=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function AN(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function ON(t,e){const{nodeExtensions:n}=Zu(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Ve(ye(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Fm(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Fm(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function Wj(t){return t instanceof be}function Hte(t,e,n){var r;const{selection:i}=e;let s=null;if(Mj(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(y=>y.type.excludes(n));c=p&&m}return!c}),c})}var Vte=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=Qi(t,r.schema);if(i)if(o){const c=Lj(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),y=Math.min(p+f.nodeSize,d);f.marks.find(g=>g.type===l)?f.marks.forEach(g=>{l===g.type&&n.addMark(m,y,l.create({...g.attrs,...e}))}):n.addMark(m,y,l.create(e))})});return Hte(r,n,l)},Wte=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Kte=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Tt(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>V_(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>V_(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Gte=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Co(t,0,r.content.size),s=be.create(r,i);e.setSelection(s)}return!0},Qte=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=_e.atStart(r).from,a=_e.atEnd(r).to,l=Co(i,o,a),c=Co(s,o,a),u=_e.create(r,l,c);e.setSelection(u)}return!0},Yte=t=>({state:e,dispatch:n})=>{const r=Tt(t,e.schema);return GZ(r)(e,n)};function IN(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}var Jte=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=Xh(c,a.node().type.name,a.node().attrs);if(s instanceof be&&s.node.isBlock)return!a.parentOffset||!$i(o,a.pos)?!1:(r&&(t&&IN(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:Cte(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=$i(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!m&&$i(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof _e&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const y=e.mapping.map(a.before()),b=e.doc.resolve(y);a.node(-1).canReplaceWith(b.index(),b.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&IN(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return m},Zte=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=Tt(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let g=G.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let T=l.depth-x;T>=l.depth-3;T-=1)g=G.from(l.node(T).copy(g));const v=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,w={...Xh(f,l.node().type.name,l.node().attrs),...e},S=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(w))||void 0;g=g.append(G.from(a.createAndFill(null,S)||void 0));const E=l.before(l.depth-(x-1));n.replace(E,l.after(-v),new se(g,4-x,0));let C=-1;n.doc.nodesBetween(E,n.doc.content.size,(T,A)=>{if(C>-1)return!1;T.isTextblock&&T.content.size===0&&(C=A+1)}),C>-1&&n.setSelection(_e.near(n.doc.resolve(C))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Xh(f,d.type.name,d.attrs),...e},y={...Xh(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const b=p?[{type:a,attrs:m},{type:p,attrs:y}]:[{type:a,attrs:m}];if(!$i(n.doc,l.pos,2))return!1;if(i){const{selection:g,storedMarks:x}=r,{splittableMarks:v}=s.extensionManager,w=x||g.$to.parentOffset&&g.$from.marks();if(n.split(l.pos,2,b).scrollIntoView(),!w||!i)return!0;const S=w.filter(E=>v.includes(E.type.name));n.ensureMarks(S)}return!0},Sy=(t,e)=>{const n=zm(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&io(t.doc,n.pos)&&t.join(n.pos),!0},_y=(t,e)=>{const n=zm(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&io(t.doc,r)&&t.join(r),!0},Xte=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,p=Tt(t,o.schema),m=Tt(e,o.schema),{selection:y,storedMarks:b}=o,{$from:g,$to:x}=y,v=g.blockRange(x),w=b||y.$to.parentOffset&&y.$from.marks();if(!v)return!1;const S=zm(E=>ON(E.type.name,d))(y);if(v.depth>=1&&S&&v.depth-S.depth<=1){if(S.node.type===p)return c.liftListItem(m);if(ON(S.node.type.name,d)&&p.validContent(S.node.content)&&a)return l().command(()=>(s.setNodeMarkup(S.pos,p),!0)).command(()=>Sy(s,p)).command(()=>_y(s,p)).run()}return!n||!w||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>Sy(s,p)).command(()=>_y(s,p)).run():l().command(()=>{const E=u().wrapInList(p,r),C=w.filter(T=>f.includes(T.type.name));return s.ensureMarks(C),E?!0:c.clearNodes()}).wrapInList(p,r).command(()=>Sy(s,p)).command(()=>_y(s,p)).run()},ene=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=Qi(t,r.schema);return t0(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},tne=(t,e,n={})=>({state:r,commands:i})=>{const s=Tt(t,r.schema),o=Tt(e,r.schema),a=Ys(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},nne=(t,e={})=>({state:n,commands:r})=>{const i=Tt(t,n.schema);return Ys(n,i,e)?r.lift(i):r.wrapIn(i,e)},rne=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},ine=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},sne=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=Qi(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&o){let{from:f,to:p}=a;const m=(s=c.marks().find(b=>b.type===l))==null?void 0:s.attrs,y=Vw(c,l,m);y&&(f=y.from,p=y.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},one=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=$m(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Tt(t,r.schema)),a==="mark"&&(o=Qi(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,f,p,m;n.selection.empty?r.doc.nodesBetween(c,u,(y,b)=>{s&&s===y.type&&(p=Math.max(b,c),m=Math.min(b+y.nodeSize,u),d=b,f=y)}):r.doc.nodesBetween(c,u,(y,b)=>{b<c&&s&&s===y.type&&(p=Math.max(b,c),m=Math.min(b+y.nodeSize,u),d=b,f=y),b>=c&&b<=u&&(s&&s===y.type&&n.setNodeMarkup(b,void 0,{...y.attrs,...e}),o&&y.marks.length&&y.marks.forEach(g=>{if(o===g.type){const x=Math.max(b,c),v=Math.min(b+y.nodeSize,u);n.addMark(x,v,o.create({...g.attrs,...e}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(y=>{o===y.type&&n.addMark(p,m,o.create({...y.attrs,...e}))}))}),!0):!1},ane=(t,e={})=>({state:n,dispatch:r})=>{const i=Tt(t,n.schema);return BZ(i,e)(n,r)},lne=(t,e={})=>({state:n,dispatch:r})=>{const i=Tt(t,n.schema);return UZ(i,e)(n,r)},cne=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Bm=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},une=(t,e)=>{if(Hw(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Sh(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=Fte(c)+s;return o.forEach(f=>{if(u)return;const p=une(d,f.find);if(!p)return;const m=l.state.tr,y=Pm({state:l.state,transaction:m}),b={from:r-(p[0].length-s.length),to:i},{commands:g,chain:x,can:v}=new Lm({editor:n,state:y});f.handler({state:y,range:b,match:p,commands:g,chain:x,can:v})===null||!m.steps.length||(f.undoable&&m.setMeta(a,{transform:m,from:r,to:i,text:s}),l.dispatch(m),u=!0)}),u}function dne(t){const{editor:e,rules:n}=t,r=new xt({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=Gw(G.from(u),o.schema);const{from:d}=l,f=d+u.length;Sh({editor:e,from:d,to:f,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return Sh({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Sh({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Sh({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function hne(t){return Object.prototype.toString.call(t).slice(8,-1)}function _h(t){return hne(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Kj(t,e){const n={...t};return _h(t)&&_h(e)&&Object.keys(e).forEach(r=>{_h(e[r])&&_h(t[r])?n[r]=Kj(t[r],e[r]):n[r]=e[r]}),n}var Jw=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ve(ye(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ve(ye(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>Kj(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},ya=class Gj extends Jw{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new Gj(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function fne(t){return typeof t=="number"}var pne=class{constructor(t){this.find=t.find,this.handler=t.handler}},mne=(t,e,n)=>{if(Hw(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function gne(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new Lm({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(p,m)=>{var y,b,g,x,v;if((b=(y=p.type)==null?void 0:y.spec)!=null&&b.code||!(p.isText||p.isTextblock||p.isInline))return;const w=(v=(x=(g=p.content)==null?void 0:g.size)!=null?x:p.nodeSize)!=null?v:0,S=Math.max(r,m),E=Math.min(i,m+w);if(S>=E)return;const C=p.isText?p.text||"":p.textBetween(S-m,E-m,void 0,"");mne(C,s.find,o).forEach(A=>{if(A.index===void 0)return;const N=S+A.index+1,z=N+A[0].length,F={from:n.tr.mapping.map(N),to:n.tr.mapping.map(z)},q=s.handler({state:n,range:F,match:A,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(q)})}),d.every(p=>p!==null)}var Nh=null,yne=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function bne(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:f,rule:p,pasteEvt:m})=>{const y=u.tr,b=Pm({state:u,transaction:y});if(!(!gne({editor:e,state:b,from:Math.max(d-1,0),to:f.b-1,rule:p,pasteEvent:m,dropEvent:a})||!y.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return n.map(u=>new xt({view(d){const f=m=>{var y;r=(y=d.dom.parentElement)!=null&&y.contains(m.target)?d.dom.parentElement:null,r&&(Nh=e)},p=()=>{Nh&&(Nh=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(s=r===d.dom.parentElement,a=f,!s){const p=Nh;p!=null&&p.isEditable&&setTimeout(()=>{const m=p.state.selection;m&&p.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,f)=>{var p;const m=(p=f.clipboardData)==null?void 0:p.getData("text/html");return o=f,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,p)=>{const m=d[0],y=m.getMeta("uiEvent")==="paste"&&!i,b=m.getMeta("uiEvent")==="drop"&&!s,g=m.getMeta("applyPasteRules"),x=!!g;if(!y&&!b&&!x)return;if(x){let{text:S}=g;typeof S=="string"?S=S:S=Gw(G.from(S),p.schema);const{from:E}=g,C=E+S.length,T=yne(S);return l({rule:u,state:p,from:E,to:{b:C},pasteEvt:T})}const v=f.doc.content.findDiffStart(p.doc.content),w=f.doc.content.findDiffEnd(p.doc.content);if(!(!fne(v)||!w||v===w.b))return l({rule:u,state:p,from:v,to:w,pasteEvt:o})}}))}var Um=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=Bj(t),this.schema=Mte(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ey(e.name,this.schema)},r=ye(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Qw([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Ey(r.name,this.schema)},s=[],o=ye(r,"addKeyboardShortcuts",i);let a={};if(r.type==="mark"&&ye(r,"exitable",i)&&(a.ArrowRight=()=>ya.handleExit({editor:t,mark:r})),o){const f=Object.fromEntries(Object.entries(o()).map(([p,m])=>[p,()=>m({editor:t})]));a={...a,...f}}const l=Pee(a);s.push(l);const c=ye(r,"addInputRules",i);if(AN(r,t.options.enableInputRules)&&c){const f=c();if(f&&f.length){const p=dne({editor:t,rules:f}),m=Array.isArray(p)?p:[p];s.push(...m)}}const u=ye(r,"addPasteRules",i);if(AN(r,t.options.enablePasteRules)&&u){const f=u();if(f&&f.length){const p=bne({editor:t,rules:f});s.push(...p)}}const d=ye(r,"addProseMirrorPlugins",i);if(d){const f=d();s.push(...f)}return s})}get attributes(){return Fj(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Zu(this.extensions);return Object.fromEntries(e.filter(n=>!!ye(n,"addNodeView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Tt(n.name,this.schema)},s=ye(n,"addNodeView",i);if(!s)return[];const o=(a,l,c,u,d)=>{const f=hp(a,r);return s()({node:a,view:l,getPos:c,decorations:u,innerDecorations:d,editor:t,extension:n,HTMLAttributes:f})};return[n.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Zu(this.extensions);return Object.fromEntries(e.filter(n=>!!ye(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Qi(n.name,this.schema)},s=ye(n,"addMarkView",i);if(!s)return[];const o=(a,l,c)=>{const u=hp(a,r);return s()({mark:a,view:l,inline:c,editor:t,extension:n,HTMLAttributes:u,updateAttributes:d=>{Rne(a,t,d)}})};return[n.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ey(e.name,this.schema)};e.type==="mark"&&((n=Ve(ye(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=ye(e,"onBeforeCreate",r),s=ye(e,"onCreate",r),o=ye(e,"onUpdate",r),a=ye(e,"onSelectionUpdate",r),l=ye(e,"onTransaction",r),c=ye(e,"onFocus",r),u=ye(e,"onBlur",r),d=ye(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};Um.resolve=Bj;Um.sort=Qw;Um.flatten=Kw;var xne={};qw(xne,{ClipboardTextSerializer:()=>Yj,Commands:()=>Jj,Delete:()=>Zj,Drop:()=>Xj,Editable:()=>eD,FocusEvents:()=>nD,Keymap:()=>rD,Paste:()=>iD,Tabindex:()=>sD,focusEventsPluginKey:()=>tD});var At=class Qj extends Jw{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new Qj(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},Yj=At.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new xt({key:new qt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=qj(n);return Uj(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Jj=At.create({name:"commands",addCommands(){return{...Ij}}}),Zj=At.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var o,a,l,c;if((c=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?c:t.getMeta("y-sync$"))return;const u=$j(t.before,[t,...e]);Vj(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,y)=>{const b=y+m.nodeSize-2,g=p.oldRange.from<=y&&b<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:y,to:b,newFrom:u.mapping.map(y),newTo:u.mapping.map(b),deletedRange:p.oldRange,newRange:p.newRange,partial:!g,editor:this.editor,transaction:t,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var y,b;if(p instanceof Lr){const g=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),v=f.invert().map(g,-1),w=f.invert().map(x),S=(y=u.doc.nodeAt(g-1))==null?void 0:y.marks.some(C=>C.eq(p.mark)),E=(b=u.doc.nodeAt(x))==null?void 0:b.marks.some(C=>C.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:v,to:w},newRange:{from:g,to:x},partial:!!(E||S),editor:this.editor,transaction:t,combinedTransform:u})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),Xj=At.create({name:"drop",addProseMirrorPlugins(){return[new xt({key:new qt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),eD=At.create({name:"editable",addProseMirrorPlugins(){return[new xt({key:new qt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),tD=new qt("focusEvents"),nD=At.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new xt({key:tD,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),rD=At.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,y=m.parent.type.spec.isolating,b=d.pos-d.parentOffset,g=y&&m.parent.childCount===1?b===d.pos:Ie.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!g||g&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Ww()||Pj()?s:i},addProseMirrorPlugins(){return[new xt({key:new qt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(y=>y.getMeta("composition")))return;const r=t.some(y=>y.docChanged)&&!e.doc.eq(n.doc),i=t.some(y=>y.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=Ie.atStart(e.doc).from,c=Ie.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!Fm(n.doc))return;const f=n.tr,p=Pm({state:n,transaction:f}),{commands:m}=new Lm({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),iD=At.create({name:"paste",addProseMirrorPlugins(){return[new xt({key:new qt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),sD=At.create({name:"tabindex",addProseMirrorPlugins(){return[new xt({key:new qt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),vne=class Pa{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Pa(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Pa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Pa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new Pa(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new Pa(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},wne=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function kne(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var Ene=class extends cne{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=jj(e,this.options.autofocus);this.editorState=Ja.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=kne(wne,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=zj(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(o=>!o.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[eD,Yj.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Jj,nD,rD,sD,Xj,iD,Zj].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Um(r,this)}createCommandManager(){this.commandManager=new Lm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=e0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=e0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new Aj(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=o==null?void 0:o.getMeta("focus"),l=o==null?void 0:o.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),!(t.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return Hj(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return Bte(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Gw(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return Dte(this.state.doc,{blockSeparator:e,textSerializers:{...qj(this.schema),...n}})}get isEmpty(){return Fm(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new vne(e,this)}get $doc(){return this.$pos(0)}};function Kl(t){return new Bm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ve(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(Yw(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(y=>y===t.type&&y!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const f=n.from+l+o.length;s.addMark(n.from+l,f,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function Sne(t){return new Bm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ve(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()},undoable:t.undoable})}function n0(t){return new Bm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Ve(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Gl(t){return new Bm({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Ve(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&Tw(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:p}=t.editor.extensionManager,m=f||d.$to.parentOffset&&d.$from.marks();if(m){const y=m.filter(b=>p.includes(b.type.name));o.ensureMarks(y)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&io(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)},undoable:t.undoable})}function _ne(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof be){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var Nne={};qw(Nne,{createAtomBlockMarkdownSpec:()=>Tne,createBlockMarkdownSpec:()=>Cne,createInlineMarkdownSpec:()=>Ine,parseAttributes:()=>Zw,parseIndentedBlocks:()=>r0,renderNestedMarkdownContent:()=>ek,serializeAttributes:()=>Xw});function Zw(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(u=>u.trim().slice(1));e.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(e[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(e[u]=!0)}),e}function Xw(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function Tne(t){const{nodeName:e,name:n,parseAttributes:r=Zw,serializeAttributes:i=Xw,defaultAttributes:s={},requiredAttributes:o=[],allowedAttributes:a}=t,l=n||e,c=u=>{if(!a)return u;const d={};return a.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(e,f,[])},markdownTokenizer:{name:e,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const y=m[1]||"",b=r(y);if(!o.find(x=>!(x in b)))return{type:e,raw:m[0],attributes:b}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=i(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function Cne(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=Zw,serializeAttributes:s=Xw,defaultAttributes:o={},content:a="block",allowedAttributes:l}=t,c=n||e,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const y=r(d);p=typeof y=="string"?[{type:"text",text:y}]:y}else a==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...o,...d.attributes};return f.createNode(e,m,p)},markdownTokenizer:{name:e,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const y=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),b=d.match(y);if(!b)return;const[g,x=""]=b,v=i(x);let w=1;const S=g.length;let E="";const C=/^:::([\w-]*)(\s.*)?/gm,T=d.slice(S);for(C.lastIndex=0;;){const A=C.exec(T);if(A===null)break;const N=A.index,z=A[1];if(!((m=A[2])!=null&&m.endsWith(":::"))){if(z)w+=1;else if(w-=1,w===0){const F=T.slice(0,N);E=F.trim();const q=d.slice(0,S+N+A[0].length);let H=[];if(E)if(a==="block")for(H=p.blockTokens(F),H.forEach(V=>{V.text&&(!V.tokens||V.tokens.length===0)&&(V.tokens=p.inlineTokens(V.text))});H.length>0;){const V=H[H.length-1];if(V.type==="paragraph"&&(!V.text||V.text.trim()===""))H.pop();else break}else H=p.inlineTokens(E);return{type:e,raw:q,attributes:v,content:E,tokens:H}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),y=m?` {${m}}`:"",b=f.renderChildren(d.content||[],`

`);return`:::${c}${y}

${b}

:::`}}}function Ane(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,o]=r;e[i]=s||o,r=n.exec(t)}return e}function One(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function Ine(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=Ane,serializeAttributes:s=One,defaultAttributes:o={},selfClosing:a=!1,allowedAttributes:l}=t,c=n||e,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{m in f&&(p[m]=f[m])}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...o,...f.attributes};if(a)return p.createNode(e,m);const y=r?r(f):f.content||"";return y?p.createNode(e,m,[p.createTextNode(y)]):p.createNode(e,m,[])},markdownTokenizer:{name:e,level:"inline",start(f){const p=a?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),y=m==null?void 0:m.index;return y!==void 0?y:-1},tokenize(f,p,m){const y=a?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),b=f.match(y);if(!b)return;let g="",x="";if(a){const[,w]=b;x=w}else{const[,w,S]=b;x=w,g=S||""}const v=i(x.trim());return{type:e,raw:b[0],content:g.trim(),attributes:v}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(g=>g.type==="text").map(g=>g.text).join(""));const m=u(f.attrs||{}),y=s(m),b=y?` ${y}`:"";return a?`[${c}${b}]`:`[${c}${b}]${p}[/${c}]`}}}function r0(t,e,n){var r,i,s,o;const a=t.split(`
`),l=[];let c="",u=0;const d=e.baseIndentSize||2;for(;u<a.length;){const f=a[u],p=f.match(e.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1;continue}else return}const m=e.extractItemData(p),{indentLevel:y,mainContent:b}=m;c=`${c}${f}
`;const g=[b];for(u+=1;u<a.length;){const S=a[u];if(S.trim()===""){const C=a.slice(u+1).findIndex(N=>N.trim()!=="");if(C===-1)break;if((((i=(r=a[u+1+C].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>y){g.push(S),c=`${c}${S}
`,u+=1;continue}else break}if((((o=(s=S.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:o.length)||0)>y)g.push(S),c=`${c}${S}
`,u+=1;else break}let x;const v=g.slice(1);if(v.length>0){const S=v.map(E=>E.slice(y+d)).join(`
`);S.trim()&&(e.customNestedParser?x=e.customNestedParser(S):x=n.blockTokens(S))}const w=e.createToken(m,x);l.push(w)}if(l.length!==0)return{items:l,raw:c.trim()}}function ek(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...o]=t.content,a=e.renderChildren([s]),l=[`${i}${a}`];return o&&o.length>0&&o.forEach(c=>{const u=e.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?e.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}function Rne(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,o=t;i.descendants((a,l)=>{const c=s.mapping.map(l),u=s.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(p=>{if(p!==o)return!1;d=p}),!d)return;let f=!1;if(Object.keys(n).forEach(p=>{n[p]!==d.attrs[p]&&(f=!0)}),f){const p=t.type.create({...t.attrs,...n});s.removeMark(c,u,t.type),s.addMark(c,u,p)}}),s.docChanged&&e.view.dispatch(s)}var ir=class oD extends Jw{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new oD(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function aa(t){return new pne({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Ve(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(Yw(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(b=>b===t.type&&b!==m.mark.type)).filter(m=>m.to>d).length)return null;f<n.to&&o.delete(f,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var Mne=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const jne=la(Mne);var aD={exports:{}},lD={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm=O,Dne=Sw;function Pne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lne=typeof Object.is=="function"?Object.is:Pne,$ne=Dne.useSyncExternalStore,zne=qm.useRef,Fne=qm.useEffect,Bne=qm.useMemo,Une=qm.useDebugValue;lD.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=zne(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Bne(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return d=m}return d=p}if(m=d,Lne(u,p))return m;var y=r(p);return i!==void 0&&i(m,y)?(u=p,m):(u=p,d=y)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=$ne(t,s[0],s[1]);return Fne(function(){o.hasValue=!0,o.value=a},[a]),Une(a),a};aD.exports=lD;var qne=aD.exports,Hne=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Vne=({contentComponent:t})=>{const e=Sw.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return h.jsx(h.Fragment,{children:Object.values(e)})};function Wne(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:c3.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var Kne=class extends Ws.Component{constructor(t){var e;super(t),this.editorContentRef=Ws.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=Wne(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:Hne(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&h.jsx(Vne,{contentComponent:t.contentComponent})]})}},Gne=O.forwardRef((t,e)=>{const n=Ws.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ws.createElement(Kne,{key:n,innerRef:e,...t})}),Qne=Ws.memo(Gne),Yne=typeof window<"u"?O.useLayoutEffect:O.useEffect,Jne=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function Zne(t){var e;const[n]=O.useState(()=>new Jne(t.editor)),r=qne.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:jne);return Yne(()=>n.watch(t.editor),[t.editor,n]),O.useDebugValue(r),r}var Xne=!1,i0=typeof window>"u",ere=i0||!!(typeof window<"u"&&window.next),tre=class cD{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?i0||ere?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new Ene(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=n.extensions)==null?void 0:o[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?cD.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function nre(t={},e=[]){const n=O.useRef(t);n.current=t;const[r]=O.useState(()=>new tre(n)),i=Sw.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return O.useDebugValue(i),O.useEffect(r.onRender(e)),Zne({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var rre=O.createContext({editor:null});rre.Consumer;var ire=O.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),sre=()=>O.useContext(ire);Ws.forwardRef((t,e)=>{const{onDragStart:n}=sre(),r=t.as||"div";return h.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Ws.createContext({markViewContentRef:()=>{}});var fp=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},ore=/^\s*>\s$/,are=ir.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return fp("blockquote",{...Ct(this.options.HTMLAttributes,t),children:fp("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=[];return t.content.forEach(i=>{const o=e.renderChildren(i).split(`
`).map(a=>`> ${a}`).join(`
`);n.push(o)}),n.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Gl({find:ore,type:this.type})]}}),lre=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,cre=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,ure=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,dre=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,hre=ya.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return fp("strong",{...Ct(this.options.HTMLAttributes,t),children:fp("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Kl({find:lre,type:this.type}),Kl({find:ure,type:this.type})]},addPasteRules(){return[aa({find:cre,type:this.type}),aa({find:dre,type:this.type})]}}),fre=/(^|[^`])`([^`]+)`(?!`)$/,pre=/(^|[^`])`([^`]+)`(?!`)/g,mre=ya.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Kl({find:fre,type:this.type})]},addPasteRules(){return[aa({find:pre,type:this.type})]}}),Ny=4,gre=/^```([a-z]+)?[\s\n]$/,yre=/^~~~([a-z]+)?[\s\n]$/,bre=ir.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Ny,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ct(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Ny,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;if(s.parent.type!==this.type)return!1;const a=" ".repeat(n);return o?t.commands.insertContent(a):t.commands.command(({tr:l})=>{const{from:c,to:u}=i,p=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(m=>a+m).join(`
`);return l.replaceWith(c,u,r.schema.text(p)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Ny,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;return s.parent.type!==this.type?!1:o?t.commands.command(({tr:a})=>{var l;const{pos:c}=s,u=s.start(),d=s.end(),p=r.doc.textBetween(u,d,`
`,`
`).split(`
`);let m=0,y=0;const b=c-u;for(let E=0;E<p.length;E+=1){if(y+p[E].length>=b){m=E;break}y+=p[E].length+1}const x=((l=p[m].match(/^ */))==null?void 0:l[0])||"",v=Math.min(x.length,n);if(v===0)return!0;let w=u;for(let E=0;E<m;E+=1)w+=p[E].length+1;return a.delete(w,w+v),c-w<=v&&a.setSelection(_e.create(a.doc,w)),!0}):t.commands.command(({tr:a})=>{const{from:l,to:c}=i,f=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(p=>{var m;const y=((m=p.match(/^ */))==null?void 0:m[0])||"",b=Math.min(y.length,n);return p.slice(b)}).join(`
`);return a.replaceWith(l,c,r.schema.text(f)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Ie.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[n0({find:gre,type:this.type,getAttributes:t=>({language:t[1]})}),n0({find:yre,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new xt({key:new qt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(_e.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),xre=ir.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),vre=ir.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ct(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:(t,e)=>e.indent(`
`),parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),wre=ir.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ct(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>n0({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),kre=ir.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ct(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!_ne(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return Wj(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:o,dispatch:a})=>{if(a){const{$to:l}=o.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?o.setSelection(_e.create(o.doc,l.pos+1)):l.nodeAfter.isBlock?o.setSelection(be.create(o.doc,l.pos)):o.setSelection(_e.create(o.doc,l.pos));else{const u=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,d=u==null?void 0:u.create();d&&(o.insert(c,d),o.setSelection(_e.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Sne({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Ere=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Sre=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_re=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Nre=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Tre=ya.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ct(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Kl({find:Ere,type:this.type}),Kl({find:_re,type:this.type})]},addPasteRules(){return[aa({find:Sre,type:this.type}),aa({find:Nre,type:this.type})]}});const Cre="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Are="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",s0="numeric",o0="ascii",a0="alpha",au="asciinumeric",zc="alphanumeric",l0="domain",uD="emoji",Ore="scheme",Ire="slashscheme",Ty="whitespace";function Rre(t,e){return t in e||(e[t]=[]),e[t]}function Ao(t,e,n){e[s0]&&(e[au]=!0,e[zc]=!0),e[o0]&&(e[au]=!0,e[a0]=!0),e[au]&&(e[zc]=!0),e[a0]&&(e[zc]=!0),e[zc]&&(e[l0]=!0),e[uD]&&(e[l0]=!0);for(const r in e){const i=Rre(r,n);i.indexOf(t)<0&&i.push(t)}}function Mre(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function An(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}An.groups={};An.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||An.groups;let i;return e&&e.j?i=e:(i=new An(e),n&&r&&Ao(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||An.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new An,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new An,s){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign(Mre(o.t,r),n);Ao(s,l,r)}else n&&Ao(s,n,r);o.t=s}return i.j[t]=o,o}};const Oe=(t,e,n,r,i)=>t.ta(e,n,r,i),pt=(t,e,n,r,i)=>t.tr(e,n,r,i),RN=(t,e,n,r,i)=>t.ts(e,n,r,i),Y=(t,e,n,r,i)=>t.tt(e,n,r,i),wi="WORD",c0="UWORD",dD="ASCIINUMERICAL",hD="ALPHANUMERICAL",Xu="LOCALHOST",u0="TLD",d0="UTLD",ef="SCHEME",La="SLASH_SCHEME",tk="NUM",h0="WS",nk="NL",lu="OPENBRACE",cu="CLOSEBRACE",pp="OPENBRACKET",mp="CLOSEBRACKET",gp="OPENPAREN",yp="CLOSEPAREN",bp="OPENANGLEBRACKET",xp="CLOSEANGLEBRACKET",vp="FULLWIDTHLEFTPAREN",wp="FULLWIDTHRIGHTPAREN",kp="LEFTCORNERBRACKET",Ep="RIGHTCORNERBRACKET",Sp="LEFTWHITECORNERBRACKET",_p="RIGHTWHITECORNERBRACKET",Np="FULLWIDTHLESSTHAN",Tp="FULLWIDTHGREATERTHAN",Cp="AMPERSAND",Ap="APOSTROPHE",Op="ASTERISK",cs="AT",Ip="BACKSLASH",Rp="BACKTICK",Mp="CARET",gs="COLON",rk="COMMA",jp="DOLLAR",Zr="DOT",Dp="EQUALS",ik="EXCLAMATION",lr="HYPHEN",uu="PERCENT",Pp="PIPE",Lp="PLUS",$p="POUND",du="QUERY",sk="QUOTE",fD="FULLWIDTHMIDDLEDOT",ok="SEMI",Xr="SLASH",hu="TILDE",zp="UNDERSCORE",pD="EMOJI",Fp="SYM";var mD=Object.freeze({__proto__:null,ALPHANUMERICAL:hD,AMPERSAND:Cp,APOSTROPHE:Ap,ASCIINUMERICAL:dD,ASTERISK:Op,AT:cs,BACKSLASH:Ip,BACKTICK:Rp,CARET:Mp,CLOSEANGLEBRACKET:xp,CLOSEBRACE:cu,CLOSEBRACKET:mp,CLOSEPAREN:yp,COLON:gs,COMMA:rk,DOLLAR:jp,DOT:Zr,EMOJI:pD,EQUALS:Dp,EXCLAMATION:ik,FULLWIDTHGREATERTHAN:Tp,FULLWIDTHLEFTPAREN:vp,FULLWIDTHLESSTHAN:Np,FULLWIDTHMIDDLEDOT:fD,FULLWIDTHRIGHTPAREN:wp,HYPHEN:lr,LEFTCORNERBRACKET:kp,LEFTWHITECORNERBRACKET:Sp,LOCALHOST:Xu,NL:nk,NUM:tk,OPENANGLEBRACKET:bp,OPENBRACE:lu,OPENBRACKET:pp,OPENPAREN:gp,PERCENT:uu,PIPE:Pp,PLUS:Lp,POUND:$p,QUERY:du,QUOTE:sk,RIGHTCORNERBRACKET:Ep,RIGHTWHITECORNERBRACKET:_p,SCHEME:ef,SEMI:ok,SLASH:Xr,SLASH_SCHEME:La,SYM:Fp,TILDE:hu,TLD:u0,UNDERSCORE:zp,UTLD:d0,UWORD:c0,WORD:wi,WS:h0});const bi=/[a-z]/,_c=new RegExp("\\p{L}","u"),Cy=new RegExp("\\p{Emoji}","u"),xi=/\d/,Ay=/\s/,MN="\r",Oy=`
`,jre="",Dre="",Iy="";let Th=null,Ch=null;function Pre(t=[]){const e={};An.groups=e;const n=new An;Th==null&&(Th=jN(Cre)),Ch==null&&(Ch=jN(Are)),Y(n,"'",Ap),Y(n,"{",lu),Y(n,"}",cu),Y(n,"[",pp),Y(n,"]",mp),Y(n,"(",gp),Y(n,")",yp),Y(n,"<",bp),Y(n,">",xp),Y(n,"",vp),Y(n,"",wp),Y(n,"",kp),Y(n,"",Ep),Y(n,"",Sp),Y(n,"",_p),Y(n,"",Np),Y(n,"",Tp),Y(n,"&",Cp),Y(n,"*",Op),Y(n,"@",cs),Y(n,"`",Rp),Y(n,"^",Mp),Y(n,":",gs),Y(n,",",rk),Y(n,"$",jp),Y(n,".",Zr),Y(n,"=",Dp),Y(n,"!",ik),Y(n,"-",lr),Y(n,"%",uu),Y(n,"|",Pp),Y(n,"+",Lp),Y(n,"#",$p),Y(n,"?",du),Y(n,'"',sk),Y(n,"/",Xr),Y(n,";",ok),Y(n,"~",hu),Y(n,"_",zp),Y(n,"\\",Ip),Y(n,"",fD);const r=pt(n,xi,tk,{[s0]:!0});pt(r,xi,r);const i=pt(r,bi,dD,{[au]:!0}),s=pt(r,_c,hD,{[zc]:!0}),o=pt(n,bi,wi,{[o0]:!0});pt(o,xi,i),pt(o,bi,o),pt(i,xi,i),pt(i,bi,i);const a=pt(n,_c,c0,{[a0]:!0});pt(a,bi),pt(a,xi,s),pt(a,_c,a),pt(s,xi,s),pt(s,bi),pt(s,_c,s);const l=Y(n,Oy,nk,{[Ty]:!0}),c=Y(n,MN,h0,{[Ty]:!0}),u=pt(n,Ay,h0,{[Ty]:!0});Y(n,Iy,u),Y(c,Oy,l),Y(c,Iy,u),pt(c,Ay,u),Y(u,MN),Y(u,Oy),pt(u,Ay,u),Y(u,Iy,u);const d=pt(n,Cy,pD,{[uD]:!0});Y(d,"#"),pt(d,Cy,d),Y(d,jre,d);const f=Y(d,Dre);Y(f,"#"),pt(f,Cy,d);const p=[[bi,o],[xi,i]],m=[[bi,null],[_c,a],[xi,s]];for(let y=0;y<Th.length;y++)ts(n,Th[y],u0,wi,p);for(let y=0;y<Ch.length;y++)ts(n,Ch[y],d0,c0,m);Ao(u0,{tld:!0,ascii:!0},e),Ao(d0,{utld:!0,alpha:!0},e),ts(n,"file",ef,wi,p),ts(n,"mailto",ef,wi,p),ts(n,"http",La,wi,p),ts(n,"https",La,wi,p),ts(n,"ftp",La,wi,p),ts(n,"ftps",La,wi,p),Ao(ef,{scheme:!0,ascii:!0},e),Ao(La,{slashscheme:!0,ascii:!0},e),t=t.sort((y,b)=>y[0]>b[0]?1:-1);for(let y=0;y<t.length;y++){const b=t[y][0],x=t[y][1]?{[Ore]:!0}:{[Ire]:!0};b.indexOf("-")>=0?x[l0]=!0:bi.test(b)?xi.test(b)?x[au]=!0:x[o0]=!0:x[s0]=!0,RN(n,b,b,x)}return RN(n,"localhost",Xu,{ascii:!0}),n.jd=new An(Fp),{start:n,tokens:Object.assign({groups:e},mD)}}function gD(t,e){const n=Lre(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=t,l=null,c=0,u=null,d=-1,f=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,f=0,u=a):d>=0&&(d+=n[o].length,f++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=f,c-=d,i.push({t:u.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function Lre(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function ts(t,e,n,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new An(r),s.jr=i.slice(),t.j[l]=s),t=s}return s=new An(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function jN(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const ed={defaultProtocol:"http",events:null,format:DN,formatHref:DN,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ak(t,e=null){let n=Object.assign({},ed);t&&(n=Object.assign(n,t instanceof ak?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}ak.prototype={o:ed,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:ed[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function DN(t){return t}function yD(t,e){this.t="token",this.v=t,this.tk=e}yD.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=ed.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Object.assign(o,u),{tagName:i,attributes:o,content:s,eventListeners:d}}};function Hm(t,e){class n extends yD{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const PN=Hm("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),LN=Hm("text"),$re=Hm("nl"),Ah=Hm("url",{isLink:!0,toHref(t=ed.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Xu&&t[1].t===gs}}),or=t=>new An(t);function zre({groups:t}){const e=t.domain.concat([Cp,Op,cs,Ip,Rp,Mp,jp,Dp,lr,tk,uu,Pp,Lp,$p,Xr,Fp,hu,zp]),n=[Ap,gs,rk,Zr,ik,uu,du,sk,ok,bp,xp,lu,cu,mp,pp,gp,yp,vp,wp,kp,Ep,Sp,_p,Np,Tp],r=[Cp,Ap,Op,Ip,Rp,Mp,jp,Dp,lr,lu,cu,uu,Pp,Lp,$p,du,Xr,Fp,hu,zp],i=or(),s=Y(i,hu);Oe(s,r,s),Oe(s,t.domain,s);const o=or(),a=or(),l=or();Oe(i,t.domain,o),Oe(i,t.scheme,a),Oe(i,t.slashscheme,l),Oe(o,r,s),Oe(o,t.domain,o);const c=Y(o,cs);Y(s,cs,c),Y(a,cs,c),Y(l,cs,c);const u=Y(s,Zr);Oe(u,r,s),Oe(u,t.domain,s);const d=or();Oe(c,t.domain,d),Oe(d,t.domain,d);const f=Y(d,Zr);Oe(f,t.domain,d);const p=or(PN);Oe(f,t.tld,p),Oe(f,t.utld,p),Y(c,Xu,p);const m=Y(d,lr);Y(m,lr,m),Oe(m,t.domain,d),Oe(p,t.domain,d),Y(p,Zr,f),Y(p,lr,m);const y=Y(p,gs);Oe(y,t.numeric,PN);const b=Y(o,lr),g=Y(o,Zr);Y(b,lr,b),Oe(b,t.domain,o),Oe(g,r,s),Oe(g,t.domain,o);const x=or(Ah);Oe(g,t.tld,x),Oe(g,t.utld,x),Oe(x,t.domain,o),Oe(x,r,s),Y(x,Zr,g),Y(x,lr,b),Y(x,cs,c);const v=Y(x,gs),w=or(Ah);Oe(v,t.numeric,w);const S=or(Ah),E=or();Oe(S,e,S),Oe(S,n,E),Oe(E,e,S),Oe(E,n,E),Y(x,Xr,S),Y(w,Xr,S);const C=Y(a,gs),T=Y(l,gs),A=Y(T,Xr),N=Y(A,Xr);Oe(a,t.domain,o),Y(a,Zr,g),Y(a,lr,b),Oe(l,t.domain,o),Y(l,Zr,g),Y(l,lr,b),Oe(C,t.domain,S),Y(C,Xr,S),Y(C,du,S),Oe(N,t.domain,S),Oe(N,e,S),Y(N,Xr,S);const z=[[lu,cu],[pp,mp],[gp,yp],[bp,xp],[vp,wp],[kp,Ep],[Sp,_p],[Np,Tp]];for(let F=0;F<z.length;F++){const[q,H]=z[F],V=Y(S,q);Y(E,q,V),Y(V,H,S);const D=or(Ah);Oe(V,e,D);const P=or();Oe(V,n),Oe(D,e,D),Oe(D,n,P),Oe(P,e,D),Oe(P,n,P),Y(D,H,S),Y(P,H,S)}return Y(i,Xu,x),Y(i,nk,$re),{start:i,tokens:mD}}function Fre(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,l=null,c=null,u=0,d=null,f=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,i++,u++;if(f<0)i-=u,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(Ry(LN,e,o)),o=[]),i-=f,u-=f;const p=d.t,m=n.slice(i-u,i);s.push(Ry(p,e,m))}}return o.length>0&&s.push(Ry(LN,e,o)),s}function Ry(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const Bre=typeof console<"u"&&console&&console.warn||(()=>{}),Ure="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",st={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function qre(){return An.groups={},st.scanner=null,st.parser=null,st.tokenQueue=[],st.pluginQueue=[],st.customSchemes=[],st.initialized=!1,st}function $N(t,e=!1){if(st.initialized&&Bre(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Ure}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);st.customSchemes.push([t,e])}function Hre(){st.scanner=Pre(st.customSchemes);for(let t=0;t<st.tokenQueue.length;t++)st.tokenQueue[t][1]({scanner:st.scanner});st.parser=zre(st.scanner.tokens);for(let t=0;t<st.pluginQueue.length;t++)st.pluginQueue[t][1]({scanner:st.scanner,parser:st.parser});return st.initialized=!0,st}function lk(t){return st.initialized||Hre(),Fre(st.parser.start,t,gD(st.scanner.start,t))}lk.scan=gD;function bD(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new ak(n),i=lk(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}var ck="[\0- -\u2029]",Vre=new RegExp(ck),Wre=new RegExp(`${ck}$`),Kre=new RegExp(ck,"g");function Gre(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Qre(t){return new xt({key:new qt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=$j(n.doc,[...e]);if(Vj(a).forEach(({newRange:c})=>{const u=Ate(r.doc,c,p=>p.isTextblock);let d,f;if(u.length>1)d=u[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const p=r.doc.textBetween(c.from,c.to," "," ");if(!Wre.test(p))return;d=u[0],f=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&f){const p=f.split(Vre).filter(Boolean);if(p.length<=0)return!1;const m=p[p.length-1],y=d.pos+f.lastIndexOf(m);if(!m)return!1;const b=lk(m).map(g=>g.toObject(t.defaultProtocol));if(!Gre(b))return!1;b.filter(g=>g.isLink).map(g=>({...g,from:y+g.start+1,to:y+g.end+1})).filter(g=>r.schema.marks.code?!r.doc.rangeHasMark(g.from,g.to,r.schema.marks.code):!0).filter(g=>t.validate(g.value)).filter(g=>t.shouldAutoLink(g.value)).forEach(g=>{Yw(g.from,g.to,r.doc).some(x=>x.mark.type===t.type)||o.addMark(g.from,g.to,t.type.create({href:g.href}))})}}),!!o.steps.length)return o}})}function Yre(t){return new xt({key:new qt("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let u=r.target;const d=[];for(;u.nodeName!=="DIV";)d.push(u),u=u.parentNode;o=d.find(f=>f.nodeName==="A")}if(!o)return!1;const a=Hj(e.state,t.type.name),l=(i=o==null?void 0:o.href)!=null?i:a.href,c=(s=o==null?void 0:o.target)!=null?s:a.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&l?(window.open(l,c),!0):!1}}})}function Jre(t){return new xt({key:new qt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:o}=s,{empty:a}=o;if(a)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const c=bD(l,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function ho(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(Kre,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Zre=ya.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){$N(t);return}$N(t.scheme,t.optionalSlashes)})},onDestroy(){qre()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!ho(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!ho(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!ho(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ct(this.options.HTMLAttributes,t),0]:["a",Ct(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!ho(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!ho(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[aa({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=bD(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!ho(o,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Qre({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!ho(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(Yre({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(Jre({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),Xre=Object.defineProperty,eie=(t,e)=>{for(var n in e)Xre(t,n,{get:e[n],enumerable:!0})},tie="listItem",zN="textStyle",FN=/^\s*([-+*])\s$/,xD=ir.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(tie,this.editor.getAttributes(zN)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Gl({find:FN,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Gl({find:FN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(zN),editor:this.editor})),[t]}}),vD=ir.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const o=t.tokens.slice(1),a=e.parseChildren(o);n.push(...a)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>ek(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),nie={};eie(nie,{findListItemPos:()=>Sd,getNextListDepth:()=>uk,handleBackspace:()=>f0,handleDelete:()=>p0,hasListBefore:()=>wD,hasListItemAfter:()=>rie,hasListItemBefore:()=>kD,listItemHasSubList:()=>ED,nextListIsDeeper:()=>SD,nextListIsHigher:()=>_D});var Sd=(t,e)=>{const{$from:n}=e.selection,r=Tt(t,e.schema);let i=null,s=n.depth,o=n.pos,a=null;for(;s>0&&a===null;)i=n.node(s),i.type===r?a=s:(s-=1,o-=1);return a===null?null:{$pos:e.doc.resolve(o),depth:a}},uk=(t,e)=>{const n=Sd(t,e);if(!n)return!1;const[,r]=zte(e,t,n.$pos.pos+4);return r},wD=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},kD=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},ED=(t,e,n)=>{if(!n)return!1;const r=Tt(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},f0=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Ys(t.state,e)&&wD(t.state,e,n)){const{$anchor:a}=t.state.selection,l=t.state.doc.resolve(a.before()-1),c=[];l.node().descendants((f,p)=>{f.type.name===e&&c.push({node:f,pos:p})});const u=c.at(-1);if(!u)return!1;const d=t.state.doc.resolve(l.start()+u.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},d.end()).joinForward().run()}if(!Ys(t.state,e)||!qte(t.state))return!1;const r=Sd(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=ED(e,t.state,s);return kD(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},SD=(t,e)=>{const n=uk(t,e),r=Sd(t,e);return!r||!n?!1:n>r.depth},_D=(t,e)=>{const n=uk(t,e),r=Sd(t,e);return!r||!n?!1:n<r.depth},p0=(t,e)=>{if(!Ys(t.state,e)||!Ute(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:SD(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():_D(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},rie=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},ND=At.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&p0(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&p0(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&f0(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&f0(t,n,r)&&(e=!0)}),e}}}}),BN=/^(\s*)(\d+)\.\s+(.*)$/,iie=/^\s/;function sie(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(BN);if(!s)break;const[,o,a,l]=s,c=o.length;let u=l,d=n+1;const f=[i];for(;d<t.length;){const p=t[d];if(p.match(BN))break;if(p.trim()==="")f.push(p),u+=`
`,d+=1;else if(p.match(iie))f.push(p),u+=`
${p.slice(c+2)}`,d+=1;else break}e.push({indent:c,number:parseInt(a,10),content:u.trim(),raw:f.join(`
`)}),r=d,n=d}return[e,r]}function TD(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const o=t[s];if(o.indent===e){const a=o.content.split(`
`),l=((r=a[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const u=a.slice(1).join(`
`).trim();if(u){const p=n.blockTokens(u);c.push(...p)}let d=s+1;const f=[];for(;d<t.length&&t[d].indent>e;)f.push(t[d]),d+=1;if(f.length>0){const p=Math.min(...f.map(y=>y.indent)),m=TD(f,p,n);c.push({type:"list",ordered:!0,start:f[0].number,items:m,raw:f.map(y=>y.raw).join(`
`)})}i.push({type:"list_item",raw:o.raw,tokens:c}),s=d}else s+=1}return i}function oie(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var aie="listItem",UN="textStyle",qN=/^(\d+)\.\s$/,CD=ir.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ct(this.options.HTMLAttributes,n),0]:["ol",Ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?oie(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,o]=sie(i);if(s.length===0)return;const a=TD(s,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:a,raw:i.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(aie,this.editor.getAttributes(UN)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Gl({find:qN,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Gl({find:qN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(UN)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),lie=/^\s*(\[([( |x])?\])\s$/,cie=ir.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Ct(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return ek(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=u=>{var d,f;a.ariaLabel=((f=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:f.call(d,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(t),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=n();if(typeof p!="number")return!1;const m=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,{...m==null?void 0:m.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{i.setAttribute(u,d)}),i.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,s.append(a,o),i.append(s,l),Object.entries(e).forEach(([u,d])=>{i.setAttribute(u,d)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[Gl({find:lie,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),uie=ir.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Ct(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const o=r0(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(s)},i=r0(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,o)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:o}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});At.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(xD.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(vD.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(ND.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(CD.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(cie.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(uie.configure(this.options.taskList)),t}});var die=ir.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ct(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),hie=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,fie=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,pie=ya.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Kl({find:hie,type:this.type})]},addPasteRules(){return[aa({find:fie,type:this.type})]}}),mie=ir.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),gie=ya.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ct(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function yie(t={}){return new xt({view(e){return new bie(e,t)}})}class bie{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(n){let d=e.nodeBefore,f=e.nodeAfter;if(d||f){let p=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(p){let m=p.getBoundingClientRect(),y=d?m.bottom:m.top;d&&f&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*a;r={left:m.left,right:m.right,top:y-b,bottom:y+b}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*o;r={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),f=d.width/l.offsetWidth,p=d.height/l.offsetHeight;c=d.left-l.scrollLeft*f,u=d.top-l.scrollTop*p}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-u)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=OM(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class yt extends Ie{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return yt.valid(r)?new yt(r):Ie.near(r)}content(){return se.empty}eq(e){return e instanceof yt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new yt(e.resolve(n.pos))}getBookmark(){return new dk(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!xie(e)||!vie(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&yt.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(yt.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!be.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(yt.valid(a))return a}return null}}}yt.prototype.visible=!1;yt.findFrom=yt.findGapCursorFrom;Ie.jsonID("gapcursor",yt);class dk{constructor(e){this.pos=e}map(e){return new dk(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return yt.valid(n)?new yt(n):Ie.near(n)}}function AD(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function xie(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||AD(i.type))return!0;if(i.inlineContent)return!1}}return!0}function vie(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||AD(i.type))return!0;if(i.inlineContent)return!1}}return!0}function wie(){return new xt({props:{decorations:_ie,createSelectionBetween(t,e,n){return e.pos==n.pos&&yt.valid(n)?new yt(n):null},handleClick:Eie,handleKeyDown:kie,handleDOMEvents:{beforeinput:Sie}}})}const kie=Oj({ArrowLeft:Oh("horiz",-1),ArrowRight:Oh("horiz",1),ArrowUp:Oh("vert",-1),ArrowDown:Oh("vert",1)});function Oh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof _e){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=yt.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new yt(c))),!0):!1}}function Eie(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!yt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&be.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new yt(r))),!0)}function Sie(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof yt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=G.empty;for(let o=r.length-1;o>=0;o--)i=G.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new se(i,0,0));return s.setSelection(_e.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function _ie(t){if(!(t.selection instanceof yt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",dt.create(t.doc,[yn.widget(t.selection.head,e,{key:"gapcursor"})])}var Bp=200,Ut=function(){};Ut.prototype.append=function(e){return e.length?(e=Ut.from(e),!this.length&&e||e.length<Bp&&this.leafAppend(e)||this.length<Bp&&e.leafPrepend(this)||this.appendInner(e)):this};Ut.prototype.prepend=function(e){return e.length?Ut.from(e).append(this):this};Ut.prototype.appendInner=function(e){return new Nie(this,e)};Ut.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ut.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ut.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ut.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ut.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Ut.from=function(e){return e instanceof Ut?e:e&&e.length?new OD(e):Ut.empty};var OD=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Bp)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Bp)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ut);Ut.empty=new OD([]);var Nie=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ut);const Tie=500;class jr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new ei(d.map));let p=d.step.map(i.slice(s)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new ei(m,void 0,void 0,c.length+u.length))),s--,m&&i.appendMap(m,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new jr(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new ei(e.mapping.maps[u],d,n),p;(p=l&&l.merge(f))&&(f=p,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(l=f)}let c=o-r.depth;return c>Aie&&(a=Cie(a,c),o-=c),new jr(a.append(s),o)}remapping(e,n){let r=new Wu;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new jr(this.items.append(e.map(n=>new ei(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let m=s.maps[p];if(f.step){let y=e.steps[p].invert(e.docs[p]),b=f.selection&&f.selection.map(s.slice(l+1,p));b&&a++,r.push(new ei(m,y,b))}else r.push(new ei(m))},i);let c=[];for(let f=n;f<o;f++)c.push(new ei(s.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new jr(u,a);return d.emptyItemCount()>Tie&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new ei(c.invert(),l,u),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new jr(Ut.from(i.reverse()),s)}}jr.empty=new jr(Ut.empty,0);function Cie(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ei{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ei(n.getMap().invert(),n,this.selection)}}}class us{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Aie=20;function Oie(t,e,n,r){let i=n.getMeta(Ko),s;if(i)return i.historyState;n.getMeta(Mie)&&(t=new us(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Ko))return o.getMeta(Ko).redo?new us(t.done.addTransform(n,void 0,r,tf(e)),t.undone,HN(n.mapping.maps),t.prevTime,t.prevComposition):new us(t.done,t.undone.addTransform(n,void 0,r,tf(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Iie(n,t.prevRanges)),c=o?My(t.prevRanges,n.mapping):HN(n.mapping.maps);return new us(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,tf(e)),jr.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new us(t.done.rebased(n,s),t.undone.rebased(n,s),My(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new us(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),My(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Iie(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function HN(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function My(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function Rie(t,e,n){let r=tf(e),i=Ko.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new us(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Ko,{redo:n,historyState:l})}let jy=!1,VN=null;function tf(t){let e=t.plugins;if(VN!=e){jy=!1,VN=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){jy=!0;break}}return jy}const Ko=new qt("history"),Mie=new qt("closeHistory");function jie(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new xt({key:Ko,state:{init(){return new us(jr.empty,jr.empty,null,0,-1)},apply(e,n,r){return Oie(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?RD:r=="historyRedo"?MD:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function ID(t,e){return(n,r)=>{let i=Ko.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=Rie(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const RD=ID(!1,!0),MD=ID(!0,!0);At.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new xt({key:new qt("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const o=s-i,a=0,l=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return t=!0,c}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=s-r,c=a-l,u=a;return e.deleteRange(c,u),!(this.storage.characters({node:e.doc})>r)}})]}});var Die=At.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[yie(this.options)]}});At.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new xt({key:new qt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return dt.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;o+=1});let a=0;return t.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";s.push(yn.node(c,c+l.nodeSize,{class:this.options.className}))}),dt.create(t,s)}}})]}});var Pie=At.create({name:"gapCursor",addProseMirrorPlugins(){return[wie()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ve(ye(t,"allowGapCursor",n)))!=null?e:null}}}),Lie=At.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new xt({key:new qt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&Fm(o);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const d=yn.node(a,a+o.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),dt.create(t,i)}}})]}});At.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new xt({key:new qt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||Wj(n.selection)||t.view.dragging?null:dt.create(n.doc,[yn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function WN({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var $ie=At.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new qt(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new xt({key:e,appendTransaction:(i,s,o)=>{const{doc:a,tr:l,schema:c}=o,u=e.getState(o),d=a.content.size,f=c.nodes[n];if(u)return l.insert(d,f.create())},state:{init:(i,s)=>{const o=s.tr.doc.lastChild;return!WN({node:o,types:r})},apply:(i,s)=>{if(!i.docChanged)return s;const o=i.doc.lastChild;return!WN({node:o,types:r})}}})]}}),zie=At.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>RD(t,e),redo:()=>({state:t,dispatch:e})=>MD(t,e)}},addProseMirrorPlugins(){return[jie(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Fie=At.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(hre.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(are.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(xD.configure(this.options.bulletList)),this.options.code!==!1&&i.push(mre.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(bre.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(xre.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(Die.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Pie.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(vre.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(wre.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(zie.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(kre.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(Tre.configure(this.options.italic)),this.options.listItem!==!1&&i.push(vD.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(ND.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(Zre.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(CD.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(die.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(pie.configure(this.options.strike)),this.options.text!==!1&&i.push(mie.configure(this.options.text)),this.options.underline!==!1&&i.push(gie.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push($ie.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),Bie=Fie,Uie=Lie;function qie(){const[t,e]=O.useState([]),[n,r]=O.useState(null),[i,s]=O.useState(""),[o,a]=O.useState(""),l=nre({extensions:[Bie,Uie.configure({placeholder:"Start writing your notes here..."})],content:"",editorProps:{attributes:{class:"prose prose-invert max-w-none focus:outline-none min-h-[300px] px-4 py-3"}}});O.useEffect(()=>{const m=localStorage.getItem("slidetutor-notes");if(m){const b=JSON.parse(m).map(g=>({...g,createdAt:new Date(g.createdAt),updatedAt:new Date(g.updatedAt)}));e(b)}},[]),O.useEffect(()=>{t.length>0&&localStorage.setItem("slidetutor-notes",JSON.stringify(t))},[t]);const c=()=>{const m={id:Date.now().toString(),title:"Untitled Note",content:"",createdAt:new Date,updatedAt:new Date};e([m,...t]),r(m),a(m.title),l==null||l.commands.setContent(""),ie.success("New note created!")},u=()=>{if(!n||!l)return;const m={...n,title:o||"Untitled Note",content:l.getHTML(),updatedAt:new Date};e(t.map(y=>y.id===n.id?m:y)),r(m),ie.success("Note saved!")},d=m=>{confirm("Delete this note?")&&(e(t.filter(y=>y.id!==m)),(n==null?void 0:n.id)===m&&(r(null),a(""),l==null||l.commands.setContent("")),ie.success("Note deleted!"))},f=m=>{r(m),a(m.title),l==null||l.commands.setContent(m.content)},p=t.filter(m=>m.title.toLowerCase().includes(i.toLowerCase())||m.content.toLowerCase().includes(i.toLowerCase()));return h.jsx("div",{className:"min-h-screen bg-background p-4 pb-20",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[h.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[h.jsx(Jn,{className:"w-8 h-8 text-primary"}),"Notes App"]}),h.jsxs(sn,{onClick:c,className:"flex items-center gap-2",children:[h.jsx(Iu,{className:"w-4 h-4"}),"New Note"]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx(Ye,{className:"lg:col-span-1 h-[calc(100vh-200px)] flex flex-col",children:h.jsxs(Je,{className:"p-4 flex flex-col h-full",children:[h.jsxs("div",{className:"relative mb-4",children:[h.jsx(xv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),h.jsx("input",{type:"text",placeholder:"Search notes...",value:i,onChange:m=>s(m.target.value),className:"w-full pl-10 pr-4 py-2 glass-card border border-border/40 rounded-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),h.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 scrollbar-thin scrollbar-thumb-primary/20",children:p.length===0?h.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No notes yet. Create one!"}):p.map(m=>h.jsx("div",{onClick:()=>f(m),className:`p-3 rounded-xl cursor-pointer transition-all ${(n==null?void 0:n.id)===m.id?"bg-primary/20 border-2 border-primary":"glass-card border border-border/30 hover:border-primary/50"}`,children:h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"font-semibold text-foreground truncate",children:m.title}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:m.updatedAt.toLocaleDateString()})]}),h.jsx("button",{onClick:y=>{y.stopPropagation(),d(m.id)},className:"p-1 hover:bg-destructive/20 rounded transition-colors",children:h.jsx(Xl,{className:"w-4 h-4 text-destructive"})})]})},m.id))})]})}),h.jsx(Ye,{className:"lg:col-span-2 h-[calc(100vh-200px)] flex flex-col",children:h.jsx(Je,{className:"p-6 flex flex-col h-full",children:n?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("input",{type:"text",value:o,onChange:m=>a(m.target.value),placeholder:"Note Title",className:"flex-1 text-2xl font-bold glass-card border border-border/40 rounded-xl px-4 py-2 text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50"}),h.jsxs(sn,{onClick:u,className:"flex items-center gap-2",children:[h.jsx(t$,{className:"w-4 h-4"}),"Save"]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto glass-card border border-border/40 rounded-xl",children:h.jsx(Qne,{editor:l})}),h.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["Last updated: ",n.updatedAt.toLocaleString()]})]}):h.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Jn,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),h.jsx("p",{className:"text-lg",children:"Select a note or create a new one"})]})})})})]})]})})}function Hie(){const[t,e]=O.useState([]),[n,r]=O.useState({title:"",description:"",priority:"medium",dueDate:""}),[i,s]=O.useState("all"),[o,a]=O.useState("all");O.useEffect(()=>{const m=localStorage.getItem("slidetutor-tasks");if(m){const y=JSON.parse(m);e(y.map(b=>({...b,createdAt:new Date(b.createdAt)})))}},[]),O.useEffect(()=>{t.length>0&&localStorage.setItem("slidetutor-tasks",JSON.stringify(t))},[t]);const l=()=>{if(!n.title.trim()){ie.error("Task title is required!");return}const m={id:Date.now().toString(),title:n.title,description:n.description,priority:n.priority,status:"todo",dueDate:n.dueDate||void 0,createdAt:new Date};e([m,...t]),r({title:"",description:"",priority:"medium",dueDate:""}),ie.success("Task added!")},c=m=>{e(t.map(y=>{if(y.id===m){const b=y.status==="done"?"todo":y.status==="todo"?"in-progress":"done";return{...y,status:b}}return y}))},u=m=>{e(t.filter(y=>y.id!==m)),ie.success("Task deleted!")},d=m=>{switch(m){case"high":return"from-red-500 to-orange-500";case"medium":return"from-yellow-500 to-amber-500";case"low":return"from-green-500 to-emerald-500"}},f=t.filter(m=>!(i!=="all"&&m.status!==i||o!=="all"&&m.priority!==o)),p={total:t.length,todo:t.filter(m=>m.status==="todo").length,inProgress:t.filter(m=>m.status==="in-progress").length,done:t.filter(m=>m.status==="done").length};return h.jsx("div",{className:"min-h-screen bg-background p-4 pb-20",children:h.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[h.jsx(Mu,{className:"w-8 h-8 text-primary"}),"Task Manager"]})}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsx(Ye,{children:h.jsxs(Je,{className:"p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.total}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tasks"})]})}),h.jsx(Ye,{children:h.jsxs(Je,{className:"p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-500",children:p.todo}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"To Do"})]})}),h.jsx(Ye,{children:h.jsxs(Je,{className:"p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:p.inProgress}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"In Progress"})]})}),h.jsx(Ye,{children:h.jsxs(Je,{className:"p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-green-500",children:p.done}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Done"})]})})]}),h.jsx(Ye,{children:h.jsxs(Je,{className:"p-6",children:[h.jsxs("h3",{className:"text-xl font-semibold text-foreground mb-4 flex items-center gap-2",children:[h.jsx(Iu,{className:"w-5 h-5"}),"Add New Task"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("input",{type:"text",placeholder:"Task title *",value:n.title,onChange:m=>r({...n,title:m.target.value}),className:"w-full px-4 py-3 glass-card border border-border/40 rounded-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50"}),h.jsx("textarea",{placeholder:"Description (optional)",value:n.description,onChange:m=>r({...n,description:m.target.value}),rows:3,className:"w-full px-4 py-3 glass-card border border-border/40 rounded-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 resize-none"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Priority"}),h.jsxs("select",{value:n.priority,onChange:m=>r({...n,priority:m.target.value}),className:"w-full px-4 py-3 glass-card border border-border/40 rounded-xl text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",children:[h.jsx("option",{value:"low",children:"Low"}),h.jsx("option",{value:"medium",children:"Medium"}),h.jsx("option",{value:"high",children:"High"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Due Date"}),h.jsx("input",{type:"date",value:n.dueDate,onChange:m=>r({...n,dueDate:m.target.value}),className:"w-full px-4 py-3 glass-card border border-border/40 rounded-xl text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),h.jsx("div",{className:"flex items-end",children:h.jsxs(sn,{onClick:l,className:"w-full",children:[h.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Add Task"]})})]})]})]})}),h.jsx(Ye,{children:h.jsx(Je,{className:"p-4",children:h.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(U4,{className:"w-4 h-4 text-muted-foreground"}),h.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Filters:"})]}),h.jsx("div",{className:"flex gap-2",children:["all","todo","in-progress","done"].map(m=>h.jsx("button",{onClick:()=>s(m),className:fe("px-3 py-1 rounded-lg text-sm transition-colors",i===m?"bg-primary text-primary-foreground":"glass-card border border-border/40 text-foreground hover:border-primary/50"),children:m.replace("-"," ").toUpperCase()},m))}),h.jsx("div",{className:"flex gap-2",children:["all","high","medium","low"].map(m=>h.jsx("button",{onClick:()=>a(m),className:fe("px-3 py-1 rounded-lg text-sm transition-colors",o===m?"bg-primary text-primary-foreground":"glass-card border border-border/40 text-foreground hover:border-primary/50"),children:m.toUpperCase()},m))})]})})}),h.jsx("div",{className:"space-y-3",children:f.length===0?h.jsx(Ye,{children:h.jsxs(Je,{className:"p-12 text-center",children:[h.jsx(Mu,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),h.jsx("p",{className:"text-muted-foreground",children:"No tasks found. Create one to get started!"})]})}):f.map(m=>h.jsx(Ye,{className:fe("transition-all",m.status==="done"&&"opacity-60"),children:h.jsx(Je,{className:"p-4",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsxs("button",{onClick:()=>c(m.id),className:fe("flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all",m.status==="done"?"bg-green-500 border-green-500":m.status==="in-progress"?"bg-yellow-500 border-yellow-500":"border-border hover:border-primary"),children:[m.status==="done"&&h.jsx(qb,{className:"w-4 h-4 text-white"}),m.status==="in-progress"&&h.jsx(Al,{className:"w-4 h-4 text-white"})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[h.jsx("h4",{className:fe("font-semibold text-foreground",m.status==="done"&&"line-through opacity-60"),children:m.title}),h.jsx("div",{className:`px-2 py-1 rounded-lg text-xs font-semibold bg-gradient-to-r ${d(m.priority)} text-white`,children:m.priority.toUpperCase()})]}),m.description&&h.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:m.description}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[m.dueDate&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Al,{className:"w-3 h-3"}),"Due: ",new Date(m.dueDate).toLocaleDateString()]}),h.jsxs("span",{children:["Created: ",m.createdAt.toLocaleDateString()]})]})]}),h.jsx("button",{onClick:()=>u(m.id),className:"flex-shrink-0 p-2 hover:bg-destructive/20 rounded-lg transition-colors",children:h.jsx(Xl,{className:"w-4 h-4 text-destructive"})})]})})},m.id))})]})})}function Vie(){const[t,e]=O.useState([]),[n,r]=O.useState({name:"",goal:"daily",color:"from-blue-500 to-cyan-500"}),i=["from-blue-500 to-cyan-500","from-purple-500 to-pink-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-yellow-500 to-amber-500","from-indigo-500 to-purple-500"];O.useEffect(()=>{const f=localStorage.getItem("slidetutor-habits");if(f){const p=JSON.parse(f);e(p.map(m=>({...m,createdAt:new Date(m.createdAt)})))}},[]),O.useEffect(()=>{t.length>0&&localStorage.setItem("slidetutor-habits",JSON.stringify(t))},[t]);const s=()=>{if(!n.name.trim()){ie.error("Habit name is required!");return}const f={id:Date.now().toString(),name:n.name,goal:n.goal,color:n.color,streak:0,completedDates:[],createdAt:new Date};e([...t,f]),r({name:"",goal:"daily",color:"from-blue-500 to-cyan-500"}),ie.success("Habit added!")},o=f=>{const p=new Date().toISOString().split("T")[0];e(t.map(m=>{if(m.id===f){const b=m.completedDates.includes(p)?m.completedDates.filter(v=>v!==p):[...m.completedDates,p];let g=0;const x=[...b].sort().reverse();for(let v=0;v<x.length;v++){const w=new Date(x[v]),S=new Date;if(S.setDate(S.getDate()-v),w.toISOString().split("T")[0]===S.toISOString().split("T")[0])g++;else break}return{...m,completedDates:b,streak:g}}return m}))},a=f=>{confirm("Delete this habit?")&&(e(t.filter(p=>p.id!==f)),ie.success("Habit deleted!"))},l=()=>{const f=[];for(let p=6;p>=0;p--){const m=new Date;m.setDate(m.getDate()-p),f.push(m.toISOString().split("T")[0])}return f},c=new Date().toISOString().split("T")[0],u=l(),d={totalHabits:t.length,completedToday:t.filter(f=>f.completedDates.includes(c)).length,totalStreak:t.reduce((f,p)=>f+p.streak,0),bestStreak:Math.max(0,...t.map(f=>f.streak))};return h.jsx("div",{className:"min-h-screen bg-background p-4 pb-20",children:h.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[h.jsx(bg,{className:"w-8 h-8 text-orange-500"}),"Habit Tracker"]})}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsx(Ye,{children:h.jsxs(Je,{className:"p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-foreground",children:d.totalHabits}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Habits"})]})}),h.jsx(Ye,{children:h.jsxs(Je,{className:"p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-green-500",children:d.completedToday}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Done Today"})]})}),h.jsx(Ye,{children:h.jsxs(Je,{className:"p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-500",children:d.totalStreak}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Streak"})]})}),h.jsx(Ye,{children:h.jsxs(Je,{className:"p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-purple-500",children:d.bestStreak}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Best Streak"})]})})]}),h.jsx(Ye,{children:h.jsxs(Je,{className:"p-6",children:[h.jsxs("h3",{className:"text-xl font-semibold text-foreground mb-4 flex items-center gap-2",children:[h.jsx(Iu,{className:"w-5 h-5"}),"Add New Habit"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("input",{type:"text",placeholder:"Habit name (e.g., Read for 30 minutes)",value:n.name,onChange:f=>r({...n,name:f.target.value}),className:"w-full px-4 py-3 glass-card border border-border/40 rounded-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Goal"}),h.jsxs("select",{value:n.goal,onChange:f=>r({...n,goal:f.target.value}),className:"w-full px-4 py-3 glass-card border border-border/40 rounded-xl text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",children:[h.jsx("option",{value:"daily",children:"Daily"}),h.jsx("option",{value:"weekly",children:"Weekly"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Color"}),h.jsx("div",{className:"flex gap-2",children:i.map(f=>h.jsx("button",{onClick:()=>r({...n,color:f}),className:fe(`w-8 h-8 rounded-full bg-gradient-to-r ${f}`,n.color===f&&"ring-2 ring-primary ring-offset-2 ring-offset-background")},f))})]}),h.jsx("div",{className:"flex items-end",children:h.jsxs(sn,{onClick:s,className:"w-full",children:[h.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Add Habit"]})})]})]})]})}),h.jsx("div",{className:"space-y-4",children:t.length===0?h.jsx(Ye,{children:h.jsxs(Je,{className:"p-12 text-center",children:[h.jsx(bg,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),h.jsx("p",{className:"text-muted-foreground",children:"No habits yet. Create one to start building better habits!"})]})}):t.map(f=>h.jsx(Ye,{children:h.jsxs(Je,{className:"p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-xl font-semibold text-foreground mb-1",children:f.name}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[h.jsx("span",{className:"capitalize",children:f.goal}),f.streak>0&&h.jsxs("span",{className:"flex items-center gap-1 text-orange-500 font-semibold",children:[h.jsx(bg,{className:"w-4 h-4"}),f.streak," day streak!"]})]})]}),h.jsx("button",{onClick:()=>a(f.id),className:"p-2 hover:bg-destructive/20 rounded-lg transition-colors",children:h.jsx(Xl,{className:"w-4 h-4 text-destructive"})})]}),h.jsx("div",{className:"flex gap-2",children:u.map(p=>{const m=f.completedDates.includes(p),y=p===c,b=new Date(p).toLocaleDateString("en-US",{weekday:"short"});return h.jsx("button",{onClick:()=>o(f.id),disabled:!y,className:fe("flex-1 p-3 rounded-xl transition-all",m?`bg-gradient-to-r ${f.color} text-white shadow-lg`:"glass-card border border-border/40 hover:border-primary/50",!y&&"cursor-default",y&&!m&&"hover:scale-105"),children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-xs mb-1",children:b}),m?h.jsx(Wi,{className:"w-6 h-6 mx-auto"}):h.jsx("div",{className:"w-6 h-6 mx-auto rounded-full border-2 border-current"})]})},p)})})]})},f.id))})]})})}function Wie(){const[t,e]=O.useState("dashboard"),{isOpen:n,close:r}=GF(),{data:i}=LG(),s=$G(),o=zG(),a=O.useCallback(async(f,p)=>{try{if(!f||f.size===0)throw new Error("Invalid file: File is empty or null");p.onProgress(10);const m=await MG.processFile(f);if(p.onProgress(60),!m.processed||m.status==="failed")throw new Error(m.errorMessage||"File processing failed");return p.onProgress(80),await s.mutateAsync({id:m.id,filename:m.filename,size:m.size,uploadedAt:m.uploadedAt,fullText:m.fullText,slideCount:m.slideCount,status:m.status,processed:m.processed,indexed:m.indexed,errorMessage:m.errorMessage||void 0}),p.onProgress(100),m}catch(m){throw console.error("Upload error:",m),m}},[s]),l=O.useCallback(f=>{o.mutate(f)},[o]),c=i||[],u="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".trim(),d={dashboard:h.jsx(SE,{uploads:c,onNavigate:e}),upload:h.jsx(tB,{uploads:c,onAddUpload:a,onDeleteUpload:l}),youtube:h.jsx(BG,{onVideoProcessed:()=>{},apiKey:u}),"image-recognition":h.jsx(jY,{onImageProcessed:()=>{},apiKey:u}),lessons:h.jsx(sG,{uploads:c,apiKey:u}),quiz:h.jsx(aG,{uploads:c,apiKey:u}),flashcards:h.jsx(wG,{uploads:c,apiKey:u}),chat:h.jsx(kG,{uploads:c,apiKey:u}),"ai-coach":h.jsx(SJ,{}),"study-timer":h.jsx(FG,{onSessionComplete:()=>{}}),notes:h.jsx(qie,{}),tasks:h.jsx(Hie,{}),habits:h.jsx(Vie,{}),investors:h.jsx(kJ,{}),settings:h.jsx(EG,{uploads:c})};return h.jsxs("div",{className:"min-h-screen bg-background transition-colors duration-300",children:[h.jsx("div",{className:"gradient-mesh fixed inset-0 opacity-20 pointer-events-none"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx(IF,{activeTab:t,onTabChange:e}),h.jsx("main",{className:"lg:ml-72 px-4 py-8 pb-20 md:pb-8",children:h.jsx("div",{className:"container mx-auto max-w-7xl",children:d[t]||h.jsx(SE,{uploads:c,onNavigate:e})})})]}),h.jsx(DG,{activeTab:t,onTabChange:e}),h.jsx(PG,{onNavigate:f=>e(f)}),h.jsx(KF,{isOpen:n,onClose:r,onNavigate:e}),h.jsx(J3,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:"rgb(var(--color-card))",color:"rgb(var(--color-card-foreground))",border:"1px solid rgb(var(--color-border))",borderRadius:"var(--radius)"}}})]})}function Kie(){return h.jsx(mh,{children:h.jsx(w4,{client:M4,children:h.jsx(u$,{children:h.jsx(mh,{children:h.jsx(EF,{children:h.jsx(mh,{children:h.jsx(gG,{children:h.jsx(mh,{children:h.jsx(Wie,{})})})})})})})})})}async function Gie(){if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js",{scope:"/"});return console.log("Service Worker registered successfully:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&console.log("New service worker available. Please refresh to update.")})}),t}catch(t){console.error("Service Worker registration failed:",t)}}Gie();b2(document.getElementById("root")).render(h.jsx(O.StrictMode,{children:h.jsx(Kie,{})}));
